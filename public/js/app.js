(()=>{var t,e={757:(t,e,n)=>{t.exports=n(666)},673:(t,e,n)=>{"use strict";var r,i,o,a,s=Object.create,u=Object.defineProperty,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertyDescriptor,d=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),p=d((t=>{function e(t,e){const n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}Object.defineProperty(t,"__esModule",{value:!0});var r={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},i={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},o=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");var a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s=e(a),u=e(a+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),l=/[>/="'\u0009\u000a\u000c\u0020]/,c={};var h=e("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),f=e("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");var d=/;(?![^(]*\))/g,p=/:(.+)/;function g(t){const e={};return t.split(d).forEach((t=>{if(t){const n=t.split(p);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}var m=e("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),v=e("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),y=e("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),E=/["'&<>]/;var b=/^-?>|<!--|-->|--!>|<!-$/g;function A(t,e){if(t===e)return!0;let n=O(t),r=O(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=I(t),r=I(e),n||r)return!(!n||!r)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=A(t[r],e[r]);return n}(t,e);if(n=F(t),r=F(e),n||r){if(!n||!r)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!A(t[n],e[n]))return!1}}return String(t)===String(e)}var _,D=(t,e)=>S(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:R(e)?{[`Set(${e.size})`]:[...e.values()]}:!F(e)||I(e)||N(e)?e:String(e),w=Object.freeze({}),T=Object.freeze([]),x=/^on[^a-z]/,C=Object.assign,k=Object.prototype.hasOwnProperty,I=Array.isArray,S=t=>"[object Map]"===B(t),R=t=>"[object Set]"===B(t),O=t=>t instanceof Date,L=t=>"function"==typeof t,M=t=>"string"==typeof t,F=t=>null!==t&&"object"==typeof t,P=Object.prototype.toString,B=t=>P.call(t),N=t=>"[object Object]"===B(t),G=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),j=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},U=/-(\w)/g,V=j((t=>t.replace(U,((t,e)=>e?e.toUpperCase():"")))),q=/\B([A-Z])/g,z=j((t=>t.replace(q,"-$1").toLowerCase())),W=j((t=>t.charAt(0).toUpperCase()+t.slice(1))),H=j((t=>t?`on${W(t)}`:""));t.EMPTY_ARR=T,t.EMPTY_OBJ=w,t.NO=()=>!1,t.NOOP=()=>{},t.PatchFlagNames=r,t.babelParserDefaultPlugins=["bigInt","optionalChaining","nullishCoalescingOperator"],t.camelize=V,t.capitalize=W,t.def=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},t.escapeHtml=function(t){const e=""+t,n=E.exec(e);if(!n)return e;let r,i,o="",a=0;for(i=n.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==i&&(o+=e.substring(a,i)),a=i+1,o+=r}return a!==i?o+e.substring(a,i):o},t.escapeHtmlComment=function(t){return t.replace(b,"")},t.extend=C,t.generateCodeFrame=function(t,e=0,n=t.length){const r=t.split(/\r?\n/);let i=0;const o=[];for(let t=0;t<r.length;t++)if(i+=r[t].length+1,i>=e){for(let a=t-2;a<=t+2||n>i;a++){if(a<0||a>=r.length)continue;const s=a+1;o.push(`${s}${" ".repeat(Math.max(3-String(s).length,0))}|  ${r[a]}`);const u=r[a].length;if(a===t){const t=e-(i-u)+1,r=Math.max(1,n>i?u-t:n-e);o.push("   |  "+" ".repeat(t)+"^".repeat(r))}else if(a>t){if(n>i){const t=Math.max(Math.min(n-i,u),1);o.push("   |  "+"^".repeat(t))}i+=u+1}}break}return o.join("\n")},t.getGlobalThis=()=>_||(_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),t.hasChanged=(t,e)=>t!==e&&(t==t||e==e),t.hasOwn=(t,e)=>k.call(t,e),t.hyphenate=z,t.invokeArrayFns=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},t.isArray=I,t.isBooleanAttr=u,t.isDate=O,t.isFunction=L,t.isGloballyWhitelisted=o,t.isHTMLTag=m,t.isIntegerKey=t=>M(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,t.isKnownAttr=f,t.isMap=S,t.isModelListener=t=>t.startsWith("onUpdate:"),t.isNoUnitNumericStyleProp=h,t.isObject=F,t.isOn=t=>x.test(t),t.isPlainObject=N,t.isPromise=t=>F(t)&&L(t.then)&&L(t.catch),t.isReservedProp=G,t.isSSRSafeAttrName=function(t){if(c.hasOwnProperty(t))return c[t];const e=l.test(t);return e&&console.error(`unsafe attribute name: ${t}`),c[t]=!e},t.isSVGTag=v,t.isSet=R,t.isSpecialBooleanAttr=s,t.isString=M,t.isSymbol=t=>"symbol"==typeof t,t.isVoidTag=y,t.looseEqual=A,t.looseIndexOf=function(t,e){return t.findIndex((t=>A(t,e)))},t.makeMap=e,t.normalizeClass=function t(e){let n="";if(M(e))n=e;else if(I(e))for(let r=0;r<e.length;r++){const i=t(e[r]);i&&(n+=i+" ")}else if(F(e))for(const t in e)e[t]&&(n+=t+" ");return n.trim()},t.normalizeStyle=function t(e){if(I(e)){const n={};for(let r=0;r<e.length;r++){const i=e[r],o=t(M(i)?g(i):i);if(o)for(const t in o)n[t]=o[t]}return n}if(F(e))return e},t.objectToString=P,t.parseStringStyle=g,t.propsToAttrMap={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},t.remove=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},t.slotFlagsText=i,t.stringifyStyle=function(t){let e="";if(!t)return e;for(const n in t){const r=t[n],i=n.startsWith("--")?n:z(n);(M(r)||"number"==typeof r&&h(i))&&(e+=`${i}:${r};`)}return e},t.toDisplayString=t=>null==t?"":F(t)?JSON.stringify(t,D,2):String(t),t.toHandlerKey=H,t.toNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},t.toRawType=t=>B(t).slice(8,-1),t.toTypeString=B})),g=d(((t,e)=>{e.exports=p()})),m=d((t=>{Object.defineProperty(t,"__esModule",{value:!0});var e,n=g(),r=new WeakMap,i=[],o=Symbol("iterate"),a=Symbol("Map key iterate");function s(t,r=n.EMPTY_OBJ){(function(t){return t&&!0===t._isEffect})(t)&&(t=t.raw);const o=function(t,n){const r=function(){if(!r.active)return t();if(!i.includes(r)){l(r);try{return d(),i.push(r),e=r,t()}finally{i.pop(),p(),e=i[i.length-1]}}};return r.id=u++,r.allowRecurse=!!n.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=t,r.deps=[],r.options=n,r}(t,r);return r.lazy||o(),o}var u=0;function l(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}var c=!0,h=[];function f(){h.push(c),c=!1}function d(){h.push(c),c=!0}function p(){const t=h.pop();c=void 0===t||t}function m(t,n,i){if(!c||void 0===e)return;let o=r.get(t);o||r.set(t,o=new Map);let a=o.get(i);a||o.set(i,a=new Set),a.has(e)||(a.add(e),e.deps.push(a),e.options.onTrack&&e.options.onTrack({effect:e,target:t,type:n,key:i}))}function v(t,i,s,u,l,c){const h=r.get(t);if(!h)return;const f=new Set,d=t=>{t&&t.forEach((t=>{(t!==e||t.allowRecurse)&&f.add(t)}))};if("clear"===i)h.forEach(d);else if("length"===s&&n.isArray(t))h.forEach(((t,e)=>{("length"===e||e>=u)&&d(t)}));else switch(void 0!==s&&d(h.get(s)),i){case"add":n.isArray(t)?n.isIntegerKey(s)&&d(h.get("length")):(d(h.get(o)),n.isMap(t)&&d(h.get(a)));break;case"delete":n.isArray(t)||(d(h.get(o)),n.isMap(t)&&d(h.get(a)));break;case"set":n.isMap(t)&&d(h.get(o))}f.forEach((e=>{e.options.onTrigger&&e.options.onTrigger({effect:e,target:t,key:s,type:i,newValue:u,oldValue:l,oldTarget:c}),e.options.scheduler?e.options.scheduler(e):e()}))}var y=n.makeMap("__proto__,__v_isRef,__isVue"),E=new Set(Object.getOwnPropertyNames(Symbol).map((t=>Symbol[t])).filter(n.isSymbol)),b=T(),A=T(!1,!0),_=T(!0),D=T(!0,!0),w={};function T(t=!1,e=!1){return function(r,i,o){if("__v_isReactive"===i)return!t;if("__v_isReadonly"===i)return t;if("__v_raw"===i&&o===(t?e?at:ot:e?it:rt).get(r))return r;const a=n.isArray(r);if(!t&&a&&n.hasOwn(w,i))return Reflect.get(w,i,o);const s=Reflect.get(r,i,o);if(n.isSymbol(i)?E.has(i):y(i))return s;if(t||m(r,"get",i),e)return s;if(gt(s)){return!a||!n.isIntegerKey(i)?s.value:s}return n.isObject(s)?t?ut(s):st(s):s}}["includes","indexOf","lastIndexOf"].forEach((t=>{const e=Array.prototype[t];w[t]=function(...t){const n=dt(this);for(let t=0,e=this.length;t<e;t++)m(n,"get",t+"");const r=e.apply(n,t);return-1===r||!1===r?e.apply(n,t.map(dt)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const e=Array.prototype[t];w[t]=function(...t){f();const n=e.apply(this,t);return p(),n}}));var x=k(),C=k(!0);function k(t=!1){return function(e,r,i,o){let a=e[r];if(!t&&(i=dt(i),a=dt(a),!n.isArray(e)&&gt(a)&&!gt(i)))return a.value=i,!0;const s=n.isArray(e)&&n.isIntegerKey(r)?Number(r)<e.length:n.hasOwn(e,r),u=Reflect.set(e,r,i,o);return e===dt(o)&&(s?n.hasChanged(i,a)&&v(e,"set",r,i,a):v(e,"add",r,i)),u}}var I={get:b,set:x,deleteProperty:function(t,e){const r=n.hasOwn(t,e),i=t[e],o=Reflect.deleteProperty(t,e);return o&&r&&v(t,"delete",e,void 0,i),o},has:function(t,e){const r=Reflect.has(t,e);return n.isSymbol(e)&&E.has(e)||m(t,"has",e),r},ownKeys:function(t){return m(t,"iterate",n.isArray(t)?"length":o),Reflect.ownKeys(t)}},S={get:_,set:(t,e)=>(console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,t),!0),deleteProperty:(t,e)=>(console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,t),!0)},R=n.extend({},I,{get:A,set:C}),O=n.extend({},S,{get:D}),L=t=>n.isObject(t)?st(t):t,M=t=>n.isObject(t)?ut(t):t,F=t=>t,P=t=>Reflect.getPrototypeOf(t);function B(t,e,n=!1,r=!1){const i=dt(t=t.__v_raw),o=dt(e);e!==o&&!n&&m(i,"get",e),!n&&m(i,"get",o);const{has:a}=P(i),s=r?F:n?M:L;return a.call(i,e)?s(t.get(e)):a.call(i,o)?s(t.get(o)):void(t!==i&&t.get(e))}function N(t,e=!1){const n=this.__v_raw,r=dt(n),i=dt(t);return t!==i&&!e&&m(r,"has",t),!e&&m(r,"has",i),t===i?n.has(t):n.has(t)||n.has(i)}function G(t,e=!1){return t=t.__v_raw,!e&&m(dt(t),"iterate",o),Reflect.get(t,"size",t)}function j(t){t=dt(t);const e=dt(this);return P(e).has.call(e,t)||(e.add(t),v(e,"add",t,t)),this}function U(t,e){e=dt(e);const r=dt(this),{has:i,get:o}=P(r);let a=i.call(r,t);a?nt(r,i,t):(t=dt(t),a=i.call(r,t));const s=o.call(r,t);return r.set(t,e),a?n.hasChanged(e,s)&&v(r,"set",t,e,s):v(r,"add",t,e),this}function V(t){const e=dt(this),{has:n,get:r}=P(e);let i=n.call(e,t);i?nt(e,n,t):(t=dt(t),i=n.call(e,t));const o=r?r.call(e,t):void 0,a=e.delete(t);return i&&v(e,"delete",t,void 0,o),a}function q(){const t=dt(this),e=0!==t.size,r=n.isMap(t)?new Map(t):new Set(t),i=t.clear();return e&&v(t,"clear",void 0,void 0,r),i}function z(t,e){return function(n,r){const i=this,a=i.__v_raw,s=dt(a),u=e?F:t?M:L;return!t&&m(s,"iterate",o),a.forEach(((t,e)=>n.call(r,u(t),u(e),i)))}}function W(t,e,r){return function(...i){const s=this.__v_raw,u=dt(s),l=n.isMap(u),c="entries"===t||t===Symbol.iterator&&l,h="keys"===t&&l,f=s[t](...i),d=r?F:e?M:L;return!e&&m(u,"iterate",h?a:o),{next(){const{value:t,done:e}=f.next();return e?{value:t,done:e}:{value:c?[d(t[0]),d(t[1])]:d(t),done:e}},[Symbol.iterator](){return this}}}}function H(t){return function(...e){{const r=e[0]?`on key "${e[0]}" `:"";console.warn(`${n.capitalize(t)} operation ${r}failed: target is readonly.`,dt(this))}return"delete"!==t&&this}}var $={get(t){return B(this,t)},get size(){return G(this)},has:N,add:j,set:U,delete:V,clear:q,forEach:z(!1,!1)},Y={get(t){return B(this,t,!1,!0)},get size(){return G(this)},has:N,add:j,set:U,delete:V,clear:q,forEach:z(!1,!0)},X={get(t){return B(this,t,!0)},get size(){return G(this,!0)},has(t){return N.call(this,t,!0)},add:H("add"),set:H("set"),delete:H("delete"),clear:H("clear"),forEach:z(!0,!1)},Z={get(t){return B(this,t,!0,!0)},get size(){return G(this,!0)},has(t){return N.call(this,t,!0)},add:H("add"),set:H("set"),delete:H("delete"),clear:H("clear"),forEach:z(!0,!0)};function K(t,e){const r=e?t?Z:Y:t?X:$;return(e,i,o)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(n.hasOwn(r,i)&&i in e?r:e,i,o)}["keys","values","entries",Symbol.iterator].forEach((t=>{$[t]=W(t,!1,!1),X[t]=W(t,!0,!1),Y[t]=W(t,!1,!0),Z[t]=W(t,!0,!0)}));var J={get:K(!1,!1)},Q={get:K(!1,!0)},tt={get:K(!0,!1)},et={get:K(!0,!0)};function nt(t,e,r){const i=dt(r);if(i!==r&&e.call(t,i)){const e=n.toRawType(t);console.warn(`Reactive ${e} contains both the raw and reactive versions of the same object${"Map"===e?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var rt=new WeakMap,it=new WeakMap,ot=new WeakMap,at=new WeakMap;function st(t){return t&&t.__v_isReadonly?t:lt(t,!1,I,J,rt)}function ut(t){return lt(t,!0,S,tt,ot)}function lt(t,e,r,i,o){if(!n.isObject(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const a=o.get(t);if(a)return a;const s=(u=t).__v_skip||!Object.isExtensible(u)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(n.toRawType(u));var u;if(0===s)return t;const l=new Proxy(t,2===s?i:r);return o.set(t,l),l}function ct(t){return ht(t)?ct(t.__v_raw):!(!t||!t.__v_isReactive)}function ht(t){return!(!t||!t.__v_isReadonly)}function ft(t){return ct(t)||ht(t)}function dt(t){return t&&dt(t.__v_raw)||t}var pt=t=>n.isObject(t)?st(t):t;function gt(t){return Boolean(t&&!0===t.__v_isRef)}function mt(t,e=!1){return gt(t)?t:new class{constructor(t,e=!1){this._rawValue=t,this._shallow=e,this.__v_isRef=!0,this._value=e?t:pt(t)}get value(){return m(dt(this),"get","value"),this._value}set value(t){n.hasChanged(dt(t),this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:pt(t),v(dt(this),"set","value",t))}}(t,e)}function vt(t){return gt(t)?t.value:t}var yt={get:(t,e,n)=>vt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return gt(i)&&!gt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Et(t,e){return gt(t[e])?t[e]:new class{constructor(t,e){this._object=t,this._key=e,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(t){this._object[this._key]=t}}(t,e)}t.ITERATE_KEY=o,t.computed=function(t){let e,r;return n.isFunction(t)?(e=t,r=()=>{console.warn("Write operation failed: computed value is readonly")}):(e=t.get,r=t.set),new class{constructor(t,e,n){this._setter=e,this._dirty=!0,this.__v_isRef=!0,this.effect=s(t,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,v(dt(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const t=dt(this);return t._dirty&&(t._value=this.effect(),t._dirty=!1),m(t,"get","value"),t._value}set value(t){this._setter(t)}}(e,r,n.isFunction(t)||!t.set)},t.customRef=function(t){return new class{constructor(t){this.__v_isRef=!0;const{get:e,set:n}=t((()=>m(this,"get","value")),(()=>v(this,"set","value")));this._get=e,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}(t)},t.effect=s,t.enableTracking=d,t.isProxy=ft,t.isReactive=ct,t.isReadonly=ht,t.isRef=gt,t.markRaw=function(t){return n.def(t,"__v_skip",!0),t},t.pauseTracking=f,t.proxyRefs=function(t){return ct(t)?t:new Proxy(t,yt)},t.reactive=st,t.readonly=ut,t.ref=function(t){return mt(t)},t.resetTracking=p,t.shallowReactive=function(t){return lt(t,!1,R,Q,it)},t.shallowReadonly=function(t){return lt(t,!0,O,et,at)},t.shallowRef=function(t){return mt(t,!0)},t.stop=function(t){t.active&&(l(t),t.options.onStop&&t.options.onStop(),t.active=!1)},t.toRaw=dt,t.toRef=Et,t.toRefs=function(t){ft(t)||console.warn("toRefs() expects a reactive object but received a plain one.");const e=n.isArray(t)?new Array(t.length):{};for(const n in t)e[n]=Et(t,n);return e},t.track=m,t.trigger=v,t.triggerRef=function(t){v(dt(t),"set","value",t.value)},t.unref=vt})),v=d(((t,e)=>{e.exports=m()})),y=!1,E=!1,b=[];function A(t){!function(t){b.includes(t)||b.push(t);E||y||(y=!0,queueMicrotask(_))}(t)}function _(){y=!1,E=!0;for(let t=0;t<b.length;t++)b[t]();b.length=0,E=!1}var D=!0;function w(t){i=t}var T=[],x=[],C=[];function k(t,e){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach((([n,r])=>{(void 0===e||e.includes(n))&&(r.forEach((t=>t())),delete t._x_attributeCleanups[n])}))}var I=new MutationObserver(N),S=!1;function R(){I.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),S=!0}function O(){(L=L.concat(I.takeRecords())).length&&!M&&(M=!0,queueMicrotask((()=>{N(L),L.length=0,M=!1}))),I.disconnect(),S=!1}var L=[],M=!1;function F(t){if(!S)return t();O();let e=t();return R(),e}var P=!1,B=[];function N(t){if(P)return void(B=B.concat(t));let e=[],n=[],r=new Map,i=new Map;for(let o=0;o<t.length;o++)if(!t[o].target._x_ignoreMutationObserver&&("childList"===t[o].type&&(t[o].addedNodes.forEach((t=>1===t.nodeType&&e.push(t))),t[o].removedNodes.forEach((t=>1===t.nodeType&&n.push(t)))),"attributes"===t[o].type)){let e=t[o].target,n=t[o].attributeName,a=t[o].oldValue,s=()=>{r.has(e)||r.set(e,[]),r.get(e).push({name:n,value:e.getAttribute(n)})},u=()=>{i.has(e)||i.set(e,[]),i.get(e).push(n)};e.hasAttribute(n)&&null===a?s():e.hasAttribute(n)?(u(),s()):u()}i.forEach(((t,e)=>{k(e,t)})),r.forEach(((t,e)=>{T.forEach((n=>n(e,t)))}));for(let t of e)n.includes(t)||C.forEach((e=>e(t)));for(let t of n)e.includes(t)||x.forEach((e=>e(t)));e=null,n=null,r=null,i=null}function G(t,e,n){return t._x_dataStack=[e,...U(n||t)],()=>{t._x_dataStack=t._x_dataStack.filter((t=>t!==e))}}function j(t,e){let n=t._x_dataStack[0];Object.entries(e).forEach((([t,e])=>{n[t]=e}))}function U(t){return t._x_dataStack?t._x_dataStack:"function"==typeof ShadowRoot&&t instanceof ShadowRoot?U(t.host):t.parentNode?U(t.parentNode):[]}function V(t){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(t.flatMap((t=>Object.keys(t))))),has:(e,n)=>t.some((t=>t.hasOwnProperty(n))),get:(n,r)=>(t.find((t=>{if(t.hasOwnProperty(r)){let n=Object.getOwnPropertyDescriptor(t,r);if(n.get&&n.get._x_alreadyBound||n.set&&n.set._x_alreadyBound)return!0;if((n.get||n.set)&&n.enumerable){let i=n.get,o=n.set,a=n;i=i&&i.bind(e),o=o&&o.bind(e),i&&(i._x_alreadyBound=!0),o&&(o._x_alreadyBound=!0),Object.defineProperty(t,r,{...a,get:i,set:o})}return!0}return!1}))||{})[r],set:(e,n,r)=>{let i=t.find((t=>t.hasOwnProperty(n)));return i?i[n]=r:t[t.length-1][n]=r,!0}});return e}function q(t){let e=(n,r="")=>{Object.entries(n).forEach((([i,o])=>{let a=""===r?i:`${r}.${i}`;var s;"object"==typeof o&&null!==o&&o._x_interceptor?n[i]=o.initialize(t,a,i):"object"!=typeof(s=o)||Array.isArray(s)||null===s||o===n||o instanceof Element||e(o,a)}))};return e(t)}function z(t,e=(()=>{})){let n={initialValue:void 0,_x_interceptor:!0,initialize(e,n,r){return t(this.initialValue,(()=>function(t,e){return e.split(".").reduce(((t,e)=>t[e]),t)}(e,n)),(t=>W(e,n,t)),n,r)}};return e(n),t=>{if("object"==typeof t&&null!==t&&t._x_interceptor){let e=n.initialize.bind(n);n.initialize=(r,i,o)=>{let a=t.initialize(r,i,o);return n.initialValue=a,e(r,i,o)}}else n.initialValue=t;return n}}function W(t,e,n){if("string"==typeof e&&(e=e.split(".")),1!==e.length){if(0===e.length)throw error;return t[e[0]]||(t[e[0]]={}),W(t[e[0]],e.slice(1),n)}t[e[0]]=n}var H={};function $(t,e){H[t]=e}function Y(t,e){return Object.entries(H).forEach((([n,r])=>{Object.defineProperty(t,`$${n}`,{get:()=>r(e,{Alpine:Kt,interceptor:z}),enumerable:!1})})),t}function X(t,e,n={}){let r;return Z(t,e)((t=>r=t),n),r}function Z(...t){return K(...t)}var K=J;function J(t,e){let n={};Y(n,t);let r=[n,...U(t)];if("function"==typeof e)return function(t,e){return(n=(()=>{}),{scope:r={},params:i=[]}={})=>{tt(n,e.apply(V([r,...t]),i))}}(r,e);let i=function(t,e){let n=function(t){if(Q[t])return Q[t];let e=Object.getPrototypeOf((async function(){})).constructor,n=/^[\n\s]*if.*\(.*\)/.test(t)||/^(let|const)/.test(t)?`(() => { ${t} })()`:t,r=new e(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`);return Q[t]=r,r}(e);return(e=(()=>{}),{scope:r={},params:i=[]}={})=>{n.result=void 0,n.finished=!1;let o=V([r,...t]),a=n(n,o);n.finished?tt(e,n.result,o,i):a.then((t=>{tt(e,t,o,i)}))}}(r,e);return et.bind(null,t,e,i)}var Q={};function tt(t,e,n,r){if("function"==typeof e){let i=e.apply(n,r);i instanceof Promise?i.then((e=>tt(t,e,n,r))):t(i)}else t(e)}function et(t,e,n,...r){try{return n(...r)}catch(n){throw console.warn(`Alpine Expression Error: ${n.message}\n\nExpression: "${e}"\n\n`,t),n}}var nt="x-";function rt(t=""){return nt+t}var it={};function ot(t,e){it[t]=e}function at(t,e,n){let r={},a=Array.from(e).map(ht(((t,e)=>r[t]=e))).filter(pt).map(function(t,e){return({name:n,value:r})=>{let i=n.match(gt()),o=n.match(/:([a-zA-Z0-9\-:]+)/),a=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],s=e||t[n]||n;return{type:i?i[1]:null,value:o?o[1]:null,modifiers:a.map((t=>t.replace(".",""))),expression:r,original:s}}}(r,n)).sort(yt);return a.map((e=>function(t,e){let n=()=>{},r=it[e.type]||n,a=[],s=t=>a.push(t),[u,l]=function(t){let e=()=>{};return[n=>{let r=i(n);t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach((t=>t()))}),t._x_effects.add(r),e=()=>{void 0!==r&&(t._x_effects.delete(r),o(r))}},()=>{e()}]}(t);a.push(l);let c={Alpine:Kt,effect:u,cleanup:s,evaluateLater:Z.bind(Z,t),evaluate:X.bind(X,t)},h=()=>a.forEach((t=>t()));!function(t,e,n){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(n)}(t,e.original,h);let f=()=>{t._x_ignore||t._x_ignoreSelf||(r.inline&&r.inline(t,e,c),r=r.bind(r,t,e,c),st?ut.get(lt).push(r):r())};return f.runCleanups=h,f}(t,e)))}var st=!1,ut=new Map,lt=Symbol();var ct=(t,e)=>({name:n,value:r})=>(n.startsWith(t)&&(n=n.replace(t,e)),{name:n,value:r});function ht(t=(()=>{})){return({name:e,value:n})=>{let{name:r,value:i}=ft.reduce(((t,e)=>e(t)),{name:e,value:n});return r!==e&&t(r,e),{name:r,value:i}}}var ft=[];function dt(t){ft.push(t)}function pt({name:t}){return gt().test(t)}var gt=()=>new RegExp(`^${nt}([^:^.]+)\\b`);var mt="DEFAULT",vt=["ignore","ref","data","bind","init","for","model","transition","show","if",mt,"element"];function yt(t,e){let n=-1===vt.indexOf(t.type)?mt:t.type,r=-1===vt.indexOf(e.type)?mt:e.type;return vt.indexOf(n)-vt.indexOf(r)}function Et(t,e,n={}){t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}var bt=[],At=!1;function _t(t){bt.push(t),queueMicrotask((()=>{At||setTimeout((()=>{Dt()}))}))}function Dt(){for(At=!1;bt.length;)bt.shift()()}function wt(t,e){if("function"==typeof ShadowRoot&&t instanceof ShadowRoot)return void Array.from(t.children).forEach((t=>wt(t,e)));let n=!1;if(e(t,(()=>n=!0)),n)return;let r=t.firstElementChild;for(;r;)wt(r,e),r=r.nextElementSibling}function Tt(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}var xt=[],Ct=[];function kt(){return xt.map((t=>t()))}function It(){return xt.concat(Ct).map((t=>t()))}function St(t){xt.push(t)}function Rt(t,e=!1){if(!t)return;return(e?It():kt()).some((e=>t.matches(e)))?t:t.parentElement?Rt(t.parentElement,e):void 0}function Ot(t,e=wt){!function(t){st=!0;let e=Symbol();lt=e,ut.set(e,[]);let n=()=>{for(;ut.get(e).length;)ut.get(e).shift()();ut.delete(e)};t(n),st=!1,n()}((()=>{e(t,((t,e)=>{at(t,t.attributes).forEach((t=>t())),t._x_ignore&&e()}))}))}function Lt(t,e){return Array.isArray(e)?Mt(t,e.join(" ")):"object"==typeof e&&null!==e?function(t,e){let n=t=>t.split(" ").filter(Boolean),r=Object.entries(e).flatMap((([t,e])=>!!e&&n(t))).filter(Boolean),i=Object.entries(e).flatMap((([t,e])=>!e&&n(t))).filter(Boolean),o=[],a=[];return i.forEach((e=>{t.classList.contains(e)&&(t.classList.remove(e),a.push(e))})),r.forEach((e=>{t.classList.contains(e)||(t.classList.add(e),o.push(e))})),()=>{a.forEach((e=>t.classList.add(e))),o.forEach((e=>t.classList.remove(e)))}}(t,e):"function"==typeof e?Lt(t,e()):Mt(t,e)}function Mt(t,e){return e=!0===e?e="":e||"",n=e.split(" ").filter((e=>!t.classList.contains(e))).filter(Boolean),t.classList.add(...n),()=>{t.classList.remove(...n)};var n}function Ft(t,e){return"object"==typeof e&&null!==e?function(t,e){let n={};return Object.entries(e).forEach((([e,r])=>{n[e]=t.style[e],t.style.setProperty(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r)})),setTimeout((()=>{0===t.style.length&&t.removeAttribute("style")})),()=>{Ft(t,n)}}(t,e):function(t,e){let n=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",n)}}(t,e)}function Pt(t,e=(()=>{})){let n=!1;return function(){n?e.apply(this,arguments):(n=!0,t.apply(this,arguments))}}function Bt(t,e,n={}){t._x_transition||(t._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=(()=>{}),r=(()=>{})){Gt(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,r)},out(n=(()=>{}),r=(()=>{})){Gt(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,r)}})}function Nt(t){let e=t.parentNode;if(e)return e._x_hidePromise?e:Nt(e)}function Gt(t,e,{during:n,start:r,end:i}={},o=(()=>{}),a=(()=>{})){if(t._x_transitioning&&t._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(r).length&&0===Object.keys(i).length)return o(),void a();let s,u,l;!function(t,e){let n,r,i,o=Pt((()=>{F((()=>{n=!0,r||e.before(),i||(e.end(),Dt()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning}))}));t._x_transitioning={beforeCancels:[],beforeCancel(t){this.beforeCancels.push(t)},cancel:Pt((function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()})),finish:o},F((()=>{e.start(),e.during()})),At=!0,requestAnimationFrame((()=>{if(n)return;let o=1e3*Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s","")),a=1e3*Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""));0===o&&(o=1e3*Number(getComputedStyle(t).animationDuration.replace("s",""))),F((()=>{e.before()})),r=!0,requestAnimationFrame((()=>{n||(F((()=>{e.end()})),Dt(),setTimeout(t._x_transitioning.finish,o+a),i=!0)}))}))}(t,{start(){s=e(t,r)},during(){u=e(t,n)},before:o,end(){s(),l=e(t,i)},after:a,cleanup(){u(),l()}})}function jt(t,e,n){if(-1===t.indexOf(e))return n;const r=t[t.indexOf(e)+1];if(!r)return n;if("scale"===e&&isNaN(r))return n;if("duration"===e){let t=r.match(/([0-9]+)ms/);if(t)return t[1]}return"origin"===e&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[r,t[t.indexOf(e)+2]].join(" "):r}function Ut(t,e){var n;return function(){var r=this,i=arguments,o=function(){n=null,t.apply(r,i)};clearTimeout(n),n=setTimeout(o,e)}}function Vt(t,e){let n;return function(){let r=this,i=arguments;n||(t.apply(r,i),n=!0,setTimeout((()=>n=!1),e))}}ot("transition",((t,{value:e,modifiers:n,expression:r},{evaluate:i})=>{"function"==typeof r&&(r=i(r)),r?function(t,e,n){Bt(t,Lt,""),{enter:e=>{t._x_transition.enter.during=e},"enter-start":e=>{t._x_transition.enter.start=e},"enter-end":e=>{t._x_transition.enter.end=e},leave:e=>{t._x_transition.leave.during=e},"leave-start":e=>{t._x_transition.leave.start=e},"leave-end":e=>{t._x_transition.leave.end=e}}[n](e)}(t,r,e):function(t,e,n){Bt(t,Ft);let r=!e.includes("in")&&!e.includes("out")&&!n,i=r||e.includes("in")||["enter"].includes(n),o=r||e.includes("out")||["leave"].includes(n);e.includes("in")&&!r&&(e=e.filter(((t,n)=>n<e.indexOf("out"))));e.includes("out")&&!r&&(e=e.filter(((t,n)=>n>e.indexOf("out"))));let a=!e.includes("opacity")&&!e.includes("scale"),s=a||e.includes("opacity"),u=a||e.includes("scale"),l=s?0:1,c=u?jt(e,"scale",95)/100:1,h=jt(e,"delay",0),f=jt(e,"origin","center"),d="opacity, transform",p=jt(e,"duration",150)/1e3,g=jt(e,"duration",75)/1e3,m="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(t._x_transition.enter.during={transformOrigin:f,transitionDelay:h,transitionProperty:d,transitionDuration:`${p}s`,transitionTimingFunction:m},t._x_transition.enter.start={opacity:l,transform:`scale(${c})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"});o&&(t._x_transition.leave.during={transformOrigin:f,transitionDelay:h,transitionProperty:d,transitionDuration:`${g}s`,transitionTimingFunction:m},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:l,transform:`scale(${c})`})}(t,n,e)})),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,n,r){e?t._x_transition?t._x_transition.in(n):"visible"===document.visibilityState?requestAnimationFrame(n):setTimeout(n):(t._x_hidePromise=t._x_transition?new Promise(((e,n)=>{t._x_transition.out((()=>{}),(()=>e(r))),t._x_transitioning.beforeCancel((()=>n({isFromCancelledTransition:!0})))})):Promise.resolve(r),queueMicrotask((()=>{let e=Nt(t);e?(e._x_hideChildren||(e._x_hideChildren=[]),e._x_hideChildren.push(t)):queueMicrotask((()=>{let e=t=>{let n=Promise.all([t._x_hidePromise,...(t._x_hideChildren||[]).map(e)]).then((([t])=>t()));return delete t._x_hidePromise,delete t._x_hideChildren,n};e(t).catch((t=>{if(!t.isFromCancelledTransition)throw t}))}))})))};var qt={},zt=!1;var Wt=!1;function Ht(t){return(...e)=>Wt||t(...e)}var $t={};var Yt,Xt,Zt={get reactive(){return r},get release(){return o},get effect(){return i},get raw(){return a},version:"3.4.2",flushAndStopDeferringMutations:function(){P=!1,N(B),B=[]},disableEffectScheduling:function(t){D=!1,t(),D=!0},setReactivityEngine:function(t){r=t.reactive,o=t.release,i=e=>t.effect(e,{scheduler:t=>{D?A(t):t()}}),a=t.raw},addRootSelector:St,deferMutations:function(){P=!0},mapAttributes:dt,evaluateLater:Z,setEvaluator:function(t){K=t},closestRoot:Rt,interceptor:z,transition:Gt,setStyles:Ft,mutateDom:F,directive:ot,throttle:Vt,debounce:Ut,evaluate:X,initTree:Ot,nextTick:_t,prefix:function(t){nt=t},plugin:function(t){t(Kt)},magic:$,store:function(t,e){if(zt||(qt=r(qt),zt=!0),void 0===e)return qt[t];qt[t]=e,"object"==typeof e&&null!==e&&e.hasOwnProperty("init")&&"function"==typeof e.init&&qt[t].init()},start:function(){var t;document.body||Tt("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Et(document,"alpine:init"),Et(document,"alpine:initializing"),R(),t=t=>Ot(t,wt),C.push(t),function(t){x.push(t)}((t=>_t((()=>function(t){wt(t,(t=>k(t)))}(t))))),function(t){T.push(t)}(((t,e)=>{at(t,e).forEach((t=>t()))})),Array.from(document.querySelectorAll(It())).filter((t=>!Rt(t.parentElement,!0))).forEach((t=>{Ot(t)})),Et(document,"alpine:initialized")},clone:function(t,e){e._x_dataStack=t._x_dataStack,Wt=!0,function(t){let e=i;w(((t,n)=>{let r=e(t);return o(r),()=>{}})),t(),w(e)}((()=>{!function(t){let e=!1;Ot(t,((t,n)=>{wt(t,((t,r)=>{if(e&&function(t){return kt().some((e=>t.matches(e)))}(t))return r();e=!0,n(t,r)}))}))}(e)})),Wt=!1},data:function(t,e){$t[t]=e}},Kt=Zt,Jt=(Yt=v(),((t,e,n)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let r of h(e))c.call(t,r)||"default"===r||u(t,r,{get:()=>e[r],enumerable:!(n=f(e,r))||n.enumerable});return t})((Xt=u(null!=Yt?s(l(Yt)):{},"default",Yt&&Yt.__esModule&&"default"in Yt?{get:()=>Yt.default,enumerable:!0}:{value:Yt,enumerable:!0}),u(Xt,"__esModule",{value:!0})),Yt));$("nextTick",(()=>_t)),$("dispatch",(t=>Et.bind(Et,t))),$("watch",(t=>(e,n)=>{let r,o=Z(t,e),a=!0;i((()=>o((t=>{document.createElement("div").dataset.throwAway=t,a?r=t:queueMicrotask((()=>{n(t,r),r=t})),a=!1}))))})),$("store",(function(){return qt})),$("root",(t=>Rt(t))),$("refs",(t=>(t._x_refs_proxy||(t._x_refs_proxy=V(function(t){let e=[],n=t;for(;n;)n._x_refs&&e.push(n._x_refs),n=n.parentNode;return e}(t))),t._x_refs_proxy))),$("el",(t=>t));var Qt,te=()=>{};function ee(t,e,n,i=[]){switch(t._x_bindings||(t._x_bindings=r({})),t._x_bindings[e]=n,e=i.includes("camel")?e.toLowerCase().replace(/-(\w)/g,((t,e)=>e.toUpperCase())):e){case"value":!function(t,e){if("radio"===t.type)void 0===t.attributes.value&&(t.value=e),window.fromModel&&(t.checked=ne(t.value,e));else if("checkbox"===t.type)Number.isInteger(e)?t.value=e:Number.isInteger(e)||Array.isArray(e)||"boolean"==typeof e||[null,void 0].includes(e)?Array.isArray(e)?t.checked=e.some((e=>ne(e,t.value))):t.checked=!!e:t.value=String(e);else if("SELECT"===t.tagName)!function(t,e){const n=[].concat(e).map((t=>t+""));Array.from(t.options).forEach((t=>{t.selected=n.includes(t.value)}))}(t,e);else{if(t.value===e)return;t.value=e}}(t,n);break;case"style":!function(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles();t._x_undoAddedStyles=Ft(t,e)}(t,n);break;case"class":!function(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses();t._x_undoAddedClasses=Lt(t,e)}(t,n);break;default:!function(t,e,n){[null,void 0,!1].includes(n)&&function(t){return!["aria-pressed","aria-checked","aria-expanded"].includes(t)}(e)?t.removeAttribute(e):(["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)&&(n=e),function(t,e,n){t.getAttribute(e)!=n&&t.setAttribute(e,n)}(t,e,n))}(t,e,n)}}function ne(t,e){return t==e}function re(t,e,n,r){let i=t,o=t=>r(t),a={},s=(t,e)=>n=>e(t,n);if(n.includes("dot")&&(e=e.replace(/-/g,".")),n.includes("camel")&&(e=function(t){return t.toLowerCase().replace(/-(\w)/g,((t,e)=>e.toUpperCase()))}(e)),n.includes("passive")&&(a.passive=!0),n.includes("capture")&&(a.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("prevent")&&(o=s(o,((t,e)=>{e.preventDefault(),t(e)}))),n.includes("stop")&&(o=s(o,((t,e)=>{e.stopPropagation(),t(e)}))),n.includes("self")&&(o=s(o,((e,n)=>{n.target===t&&e(n)}))),(n.includes("away")||n.includes("outside"))&&(i=document,o=s(o,((e,n)=>{t.contains(n.target)||t.offsetWidth<1&&t.offsetHeight<1||e(n)}))),o=s(o,((t,r)=>{(function(t){return["keydown","keyup"].includes(t)})(e)&&function(t,e){let n=e.filter((t=>!["window","document","prevent","stop","once"].includes(t)));if(n.includes("debounce")){let t=n.indexOf("debounce");n.splice(t,ie((n[t+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&oe(t.key).includes(n[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter((t=>n.includes(t)));if(n=n.filter((t=>!r.includes(t))),r.length>0){if(r.filter((e=>("cmd"!==e&&"super"!==e||(e="meta"),t[`${e}Key`]))).length===r.length&&oe(t.key).includes(n[0]))return!1}return!0}(r,n)||t(r)})),n.includes("debounce")){let t=n[n.indexOf("debounce")+1]||"invalid-wait",e=ie(t.split("ms")[0])?Number(t.split("ms")[0]):250;o=Ut(o,e)}if(n.includes("throttle")){let t=n[n.indexOf("throttle")+1]||"invalid-wait",e=ie(t.split("ms")[0])?Number(t.split("ms")[0]):250;o=Vt(o,e)}return n.includes("once")&&(o=s(o,((t,n)=>{t(n),i.removeEventListener(e,o,a)}))),i.addEventListener(e,o,a),()=>{i.removeEventListener(e,o,a)}}function ie(t){return!Array.isArray(t)&&!isNaN(t)}function oe(t){if(!t)return[];t=t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let e={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return e[t]=t,Object.keys(e).map((n=>{if(e[n]===t)return n})).filter((t=>t))}function ae(t){let e=t?parseFloat(t):null;return n=e,Array.isArray(n)||isNaN(n)?t:e;var n}function se(t,e,n,r){let i={};if(/^\[.*\]$/.test(t.item)&&Array.isArray(e)){t.item.replace("[","").replace("]","").split(",").map((t=>t.trim())).forEach(((t,n)=>{i[t]=e[n]}))}else if(/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&"object"==typeof e){t.item.replace("{","").replace("}","").split(",").map((t=>t.trim())).forEach((t=>{i[t]=e[t]}))}else i[t.item]=e;return t.index&&(i[t.index]=n),t.collection&&(i[t.collection]=r),i}function ue(){}te.inline=(t,{modifiers:e},{cleanup:n})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,n((()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore}))},ot("ignore",te),ot("effect",((t,{expression:e},{effect:n})=>n(Z(t,e)))),ot("model",((t,{modifiers:e,expression:n},{effect:r,cleanup:i})=>{let o=Z(t,n),a=Z(t,`${n} = rightSideOfExpression($event, ${n})`);var s="select"===t.tagName.toLowerCase()||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let u=function(t,e,n){"radio"===t.type&&F((()=>{t.hasAttribute("name")||t.setAttribute("name",n)}));return(n,r)=>F((()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return n.detail||n.target.value;if("checkbox"===t.type){if(Array.isArray(r)){let t=e.includes("number")?ae(n.target.value):n.target.value;return n.target.checked?r.concat([t]):r.filter((e=>!(e==t)))}return n.target.checked}if("select"===t.tagName.toLowerCase()&&t.multiple)return e.includes("number")?Array.from(n.target.selectedOptions).map((t=>ae(t.value||t.text))):Array.from(n.target.selectedOptions).map((t=>t.value||t.text));{let t=n.target.value;return e.includes("number")?ae(t):e.includes("trim")?t.trim():t}}))}(t,e,n),l=re(t,s,e,(t=>{a((()=>{}),{scope:{$event:t,rightSideOfExpression:u}})}));i((()=>l())),t._x_forceModelUpdate=()=>{o((e=>{void 0===e&&n.match(/\./)&&(e=""),window.fromModel=!0,F((()=>ee(t,"value",e))),delete window.fromModel}))},r((()=>{e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate()}))})),ot("cloak",(t=>queueMicrotask((()=>F((()=>t.removeAttribute(rt("cloak")))))))),Qt=()=>`[${rt("init")}]`,Ct.push(Qt),ot("init",Ht(((t,{expression:e})=>"string"==typeof e?!!e.trim()&&X(t,e,{}):X(t,e,{})))),ot("text",((t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e);n((()=>{i((e=>{F((()=>{t.textContent=e}))}))}))})),ot("html",((t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e);n((()=>{i((e=>{t.innerHTML=e}))}))})),dt(ct(":",rt("bind:"))),ot("bind",((t,{value:e,modifiers:n,expression:r,original:i},{effect:o})=>{if(!e)return function(t,e,n,r){let i=Z(t,e),o=[];r((()=>{for(;o.length;)o.pop()();i((e=>{let r=Object.entries(e).map((([t,e])=>({name:t,value:e})));(function(t){return Array.from(t).map(ht()).filter((t=>!pt(t)))})(r).forEach((({name:t,value:e},n)=>{r[n]={name:`x-bind:${t}`,value:`"${e}"`}})),at(t,r,n).map((t=>{o.push(t.runCleanups),t()}))}))}))}(t,r,i,o);if("key"===e)return function(t,e){t._x_keyExpression=e}(t,r);let a=Z(t,r);o((()=>a((i=>{void 0===i&&r.match(/\./)&&(i=""),F((()=>ee(t,e,i,n)))}))))})),St((()=>`[${rt("data")}]`)),ot("data",Ht(((t,{expression:e},{cleanup:n})=>{e=""===e?"{}":e;let i={};Y(i,t);let o={};var a,s;a=o,s=i,Object.entries($t).forEach((([t,e])=>{Object.defineProperty(a,t,{get:()=>(...t)=>e.bind(s)(...t),enumerable:!1})}));let u=X(t,e,{scope:o});Y(u,t);let l=r(u);q(l);let c=G(t,l);l.init&&X(t,l.init),n((()=>{c(),l.destroy&&X(t,l.destroy)}))}))),ot("show",((t,{modifiers:e,expression:n},{effect:r})=>{let i,o=Z(t,n),a=()=>F((()=>{t.style.display="none",t._x_isShown=!1})),s=()=>F((()=>{1===t.style.length&&"none"===t.style.display?t.removeAttribute("style"):t.style.removeProperty("display"),t._x_isShown=!0})),u=()=>setTimeout(s),l=Pt((t=>t?s():a()),(e=>{"function"==typeof t._x_toggleAndCascadeWithTransitions?t._x_toggleAndCascadeWithTransitions(t,e,s,a):e?u():a()})),c=!0;r((()=>o((t=>{(c||t!==i)&&(e.includes("immediate")&&(t?u():a()),l(t),i=t,c=!1)}))))})),ot("for",((t,{expression:e},{effect:n,cleanup:i})=>{let o=function(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,i=t.match(r);if(!i)return;let o={};o.items=i[2].trim();let a=i[1].replace(n,"").trim(),s=a.match(e);s?(o.item=a.replace(e,"").trim(),o.index=s[1].trim(),s[2]&&(o.collection=s[2].trim())):o.item=a;return o}(e),a=Z(t,o.items),s=Z(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},n((()=>function(t,e,n,i){let o=t=>"object"==typeof t&&!Array.isArray(t),a=t;n((n=>{var s;s=n,!Array.isArray(s)&&!isNaN(s)&&n>=0&&(n=Array.from(Array(n).keys(),(t=>t+1))),void 0===n&&(n=[]);let u=t._x_lookup,l=t._x_prevKeys,c=[],h=[];if(o(n))n=Object.entries(n).map((([t,r])=>{let o=se(e,r,t,n);i((t=>h.push(t)),{scope:{index:t,...o}}),c.push(o)}));else for(let t=0;t<n.length;t++){let r=se(e,n[t],t,n);i((t=>h.push(t)),{scope:{index:t,...r}}),c.push(r)}let f=[],d=[],p=[],g=[];for(let t=0;t<l.length;t++){let e=l[t];-1===h.indexOf(e)&&p.push(e)}l=l.filter((t=>!p.includes(t)));let m="template";for(let t=0;t<h.length;t++){let e=h[t],n=l.indexOf(e);if(-1===n)l.splice(t,0,e),f.push([m,t]);else if(n!==t){let e=l.splice(t,1)[0],r=l.splice(n-1,1)[0];l.splice(t,0,r),l.splice(n,0,e),d.push([e,r])}else g.push(e);m=e}for(let t=0;t<p.length;t++){let e=p[t];u[e].remove(),u[e]=null,delete u[e]}for(let t=0;t<d.length;t++){let[e,n]=d[t],r=u[e],i=u[n],o=document.createElement("div");F((()=>{i.after(o),r.after(i),o.before(r),o.remove()})),j(i,c[h.indexOf(n)])}for(let t=0;t<f.length;t++){let[e,n]=f[t],i="template"===e?a:u[e],o=c[n],s=h[n],l=document.importNode(a.content,!0).firstElementChild;G(l,r(o),a),F((()=>{i.after(l),Ot(l)})),"object"==typeof s&&Tt("x-for key cannot be an object, it must be a string or an integer",a),u[s]=l}for(let t=0;t<g.length;t++)j(u[g[t]],c[h.indexOf(g[t])]);a._x_prevKeys=h}))}(t,o,a,s))),i((()=>{Object.values(t._x_lookup).forEach((t=>t.remove())),delete t._x_prevKeys,delete t._x_lookup}))})),ue.inline=(t,{expression:e},{cleanup:n})=>{let r=Rt(t);r._x_refs||(r._x_refs={}),r._x_refs[e]=t,n((()=>delete r._x_refs[e]))},ot("ref",ue),ot("if",((t,{expression:e},{effect:n,cleanup:r})=>{let i=Z(t,e);n((()=>i((e=>{e?(()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let e=t.content.cloneNode(!0).firstElementChild;G(e,{},t),F((()=>{t.after(e),Ot(e)})),t._x_currentIfEl=e,t._x_undoIf=()=>{e.remove(),delete t._x_currentIfEl}})():t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)})))),r((()=>t._x_undoIf&&t._x_undoIf()))})),dt(ct("@",rt("on:"))),ot("on",Ht(((t,{value:e,modifiers:n,expression:r},{cleanup:i})=>{let o=r?Z(t,r):()=>{},a=re(t,e,n,(t=>{o((()=>{}),{scope:{$event:t},params:[t]})}));i((()=>a()))}))),Kt.setEvaluator(J),Kt.setReactivityEngine({reactive:Jt.reactive,effect:Jt.effect,release:Jt.stop,raw:Jt.toRaw});var le=Kt,ce=n(757),he=n.n(ce),fe=["query","success","failure"];function de(t,e,n){return de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_e(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}},de(t,e,n||t)}function pe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ae(t,e)}function ge(t){var e=be();return function(){var n,r=_e(t);if(e){var i=_e(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return me(this,n)}}function me(t,e){if(e&&("object"===Be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ve(t)}function ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ye(t){var e="function"==typeof Map?new Map:void 0;return ye=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Ee(t,arguments,_e(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ae(n,t)},ye(t)}function Ee(t,e,n){return Ee=be()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Ae(i,n.prototype),i},Ee.apply(null,arguments)}function be(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Ae(t,e){return Ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Ae(t,e)}function _e(t){return _e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_e(t)}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function we(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Te(t,e,n){return e&&we(t.prototype,e),n&&we(t,n),t}function xe(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Ce(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){xe(o,r,i,a,s,"next",t)}function s(t){xe(o,r,i,a,s,"throw",t)}a(void 0)}))}}function ke(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||Fe(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(n),!0).forEach((function(e){Oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Le(t){return function(t){if(Array.isArray(t))return Pe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Fe(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Fe(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Fe(t,e){if(t){if("string"==typeof t)return Pe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(t,e):void 0}}function Pe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}var Ne=Object.create,Ge=Object.defineProperty,je=Object.getOwnPropertyDescriptor,Ue=Object.getOwnPropertyNames,Ve=Object.getPrototypeOf,qe=Object.prototype.hasOwnProperty,ze=function(t,e){return function(){return e||(0,t[Object.keys(t)[0]])((e={exports:{}}).exports,e),e.exports}},We=function(t){return function(t,e,n){if(e&&"object"===Be(e)||"function"==typeof e){var r,i=Me(Ue(e));try{var o=function(){var i=r.value;qe.call(t,i)||"default"===i||Ge(t,i,{get:function(){return e[i]},enumerable:!(n=je(e,i))||n.enumerable})};for(i.s();!(r=i.n()).done;)o()}catch(t){i.e(t)}finally{i.f()}}return t}(function(t){return Ge(t,"__esModule",{value:!0})}(Ge(null!=t?Ne(Ve(t)):{},"default",t&&t.__esModule&&"default"in t?{get:function(){return t.default},enumerable:!0}:{value:t,enumerable:!0})),t)},He=ze({"node_modules/dayjs/plugin/customParseFormat.js":function(t,e){var r,i;r=t,i=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,i=/\d*[^\s\d-_:/()]+/,o={},a=function(t){return(t=+t)+(t>68?1900:2e3)},s=function(t){return function(e){this[t]=+e}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],l=function(t){var e=o[t];return e&&(e.indexOf?e:e.s.concat(e.f))},c=function(t,e){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(t.indexOf(r(i,0,e))>-1){n=i>12;break}}else n=t===(e?"pm":"PM");return n},h={A:[i,function(t){this.afternoon=c(t,!1)}],a:[i,function(t){this.afternoon=c(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[n,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[n,s("day")],Do:[i,function(t){var e=o.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var r=1;r<=31;r+=1)e(r).replace(/\[|\]/g,"")===t&&(this.day=r)}],M:[r,s("month")],MM:[n,s("month")],MMM:[i,function(t){var e=l("months"),n=(l("monthsShort")||e.map((function(t){return t.substr(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(t){var e=l("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(t){this.year=a(t)}],YYYY:[/\d{4}/,s("year")],Z:u,ZZ:u};return function(n,r,i){i.p.customParseFormat=!0,n&&n.parseTwoDigitYear&&(a=n.parseTwoDigitYear);var s=r.prototype,u=s.parse;s.parse=function(n){var r=n.date,a=n.utc,s=n.args;this.$u=a;var l=s[1];if("string"==typeof l){var c=!0===s[2],f=!0===s[3],d=c||f,p=s[2];f&&(p=s[2]),o=this.$locale(),!c&&p&&(o=i.Ls[p]),this.$d=function(n,r,i){try{if(["x","X"].indexOf(r)>-1)return new Date(("X"===r?1e3:1)*n);var a=function(n){var r,i;r=n,i=o&&o.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,r){var o=r&&r.toUpperCase();return n||i[r]||t[r]||i[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),s=a.length,u=0;u<s;u+=1){var l=a[u],c=h[l],f=c&&c[0],d=c&&c[1];a[u]=d?{regex:f,parser:d}:l.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,r=0;n<s;n+=1){var i=a[n];if("string"==typeof i)r+=i.length;else{var o=i.regex,u=i.parser,l=t.substr(r),c=o.exec(l)[0];u.call(e,c),t=t.replace(c,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}(r)(n),s=a.year,u=a.month,l=a.day,c=a.hours,f=a.minutes,d=a.seconds,p=a.milliseconds,g=a.zone,m=new Date,v=l||(s||u?1:m.getDate()),y=s||m.getFullYear(),E=0;s&&!u||(E=u>0?u-1:m.getMonth());var b=c||0,A=f||0,_=d||0,D=p||0;return g?new Date(Date.UTC(y,E,v,b,A,_,D+60*g.offset*1e3)):i?new Date(Date.UTC(y,E,v,b,A,_,D)):new Date(y,E,v,b,A,_,D)}catch(t){return new Date("")}}(r,l,a),this.init(),p&&!0!==p&&(this.$L=this.locale(p).$L),d&&r!=this.format(l)&&(this.$d=new Date("")),o={}}else if(l instanceof Array)for(var g=l.length,m=1;m<=g;m+=1){s[1]=l[m-1];var v=i.apply(this,s);if(v.isValid()){this.$d=v.$d,this.$L=v.$L,this.init();break}m===g&&(this.$d=new Date(""))}else u.call(this,n)}}},"object"==Be(t)&&void 0!==e?e.exports=i():"function"==typeof define&&n.amdO?define(i):(r="undefined"!=typeof globalThis?globalThis:r||self).dayjs_plugin_customParseFormat=i()}}),$e=ze({"node_modules/dayjs/plugin/localeData.js":function(t,e){var r,i;r=t,i=function(){return function(t,e,n){var r=e.prototype,i=function(t){return t&&(t.indexOf?t:t.s)},o=function(t,e,n,r,o){var a=t.name?t:t.$locale(),s=i(a[e]),u=i(a[n]),l=s||u.map((function(t){return t.substr(0,r)}));if(!o)return l;var c=a.weekStart;return l.map((function(t,e){return l[(e+(c||0))%7]}))},a=function(){return n.Ls[n.locale()]},s=function(t,e){return t.formats[e]||t.formats[e.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))},u=function(){var t=this;return{months:function(e){return e?e.format("MMMM"):o(t,"months")},monthsShort:function(e){return e?e.format("MMM"):o(t,"monthsShort","months",3)},firstDayOfWeek:function(){return t.$locale().weekStart||0},weekdays:function(e){return e?e.format("dddd"):o(t,"weekdays")},weekdaysMin:function(e){return e?e.format("dd"):o(t,"weekdaysMin","weekdays",2)},weekdaysShort:function(e){return e?e.format("ddd"):o(t,"weekdaysShort","weekdays",3)},longDateFormat:function(e){return s(t.$locale(),e)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return u.bind(this)()},n.localeData=function(){var t=a();return{firstDayOfWeek:function(){return t.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(e){return s(t,e)},meridiem:t.meridiem,ordinal:t.ordinal}},n.months=function(){return o(a(),"months")},n.monthsShort=function(){return o(a(),"monthsShort","months",3)},n.weekdays=function(t){return o(a(),"weekdays",null,null,t)},n.weekdaysShort=function(t){return o(a(),"weekdaysShort","weekdays",3,t)},n.weekdaysMin=function(t){return o(a(),"weekdaysMin","weekdays",2,t)}}},"object"==Be(t)&&void 0!==e?e.exports=i():"function"==typeof define&&n.amdO?define(i):(r="undefined"!=typeof globalThis?globalThis:r||self).dayjs_plugin_localeData=i()}}),Ye=ze({"node_modules/trix/dist/trix.js":function(t,e){(function(){}).call(t),function(){null==window.Set&&(window.Set=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype.delete=function(t){var e;return-1!==(e=this.values.indexOf(t))&&(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(t),function(t){function n(){}function r(t){if("object"!=Be(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function i(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void h((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void a(e.promise,t)}o(e.promise,r)}else(1===t._state?o:a)(e.promise,t._value)})))}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==Be(e)||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void l(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,s(t)}catch(e){a(t,e)}}function a(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&setTimeout((function(){t._handled||f(t._value)}),1);for(var e=0,n=t._deferreds.length;n>e;e++)i(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t((function(t){n||(n=!0,o(e,t))}),(function(t){n||(n=!0,a(e,t))}))}catch(t){if(n)return;n=!0,a(e,t)}}var c=setTimeout,h="function"==typeof setImmediate&&setImmediate||function(t){c(t,1)},f=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var o=new r(n);return i(this,new u(t,e,o)),o},r.all=function(t){var e=Array.prototype.slice.call(t);return new r((function(t,n){function r(o,a){try{if(a&&("object"==Be(a)||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){r(o,t)}),n)}e[o]=a,0==--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])}))},r.resolve=function(t){return t&&"object"==Be(t)&&t.constructor===r?t:new r((function(e){e(t)}))},r.reject=function(t){return new r((function(e,n){n(t)}))},r.race=function(t){return new r((function(e,n){for(var r=0,i=t.length;i>r;r++)t[r].then(e,n)}))},r._setImmediateFn=function(t){h=t},r._setUnhandledRejectionFn=function(t){f=t},void 0!==e&&e.exports?e.exports=r:t.Promise||(t.Promise=r)}(t),function(){var t,e,n,r="object"==Be(window.customElements),i="function"==typeof document.registerElement;r||i||("undefined"==typeof WeakMap&&(t=Object.defineProperty,e=Date.now()%1e9,(n=function(){this.name="__st"+(1e9*Math.random()>>>0)+e+++"__"}).prototype={set:function(e,n){var r=e[this.name];return r&&r[0]===e?r[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},delete:function(t){var e=t[this.name];return!(!e||e[0]!==t||(e[0]=e[1]=void 0,0))},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=n),function(t){function e(){g=!1;var t=m;m=[],t.sort((function(t,e){return t.uid_-e.uid_}));var n=!1;t.forEach((function(t){var e=t.takeRecords();(function(t){t.nodes_.forEach((function(e){var n=c.get(e);n&&n.forEach((function(e){e.observer===t&&e.removeTransientObservers()}))}))})(t),e.length&&(t.callback_(e,t),n=!0)})),n&&e()}function n(t,e){for(var n=t;n;n=n.parentNode){var r=c.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],a=o.options;if(n===t||a.subtree){var s=e(a);s&&o.enqueue(s)}}}}function r(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++v}function i(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function o(t,e){return d=new i(t,e)}function a(t){return p||(p=function(t){var e=new i(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}(d),p.oldValue=t,p)}function s(t,e){return t===e?t:p&&function(t){return t===p||t===d}(t)?p:null}function u(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var l,c=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))l=setTimeout;else if(window.setImmediate)l=window.setImmediate;else{var h=[],f=String(Math.random());window.addEventListener("message",(function(t){if(t.data===f){var e=h;h=[],e.forEach((function(t){t()}))}})),l=function(t){h.push(t),window.postMessage(f,"*")}}var d,p,g=!1,m=[],v=0;r.prototype={observe:function(t,e){if(t=function(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n=c.get(t);n||c.set(t,n=[]);for(var r,i=0;i<n.length;i++)if(n[i].observer===this){(r=n[i]).removeListeners(),r.options=e;break}r||(r=new u(this,t,e),n.push(r),this.nodes_.push(t)),r.addListeners()},disconnect:function(){this.nodes_.forEach((function(t){for(var e=c.get(t),n=0;n<e.length;n++){var r=e[n];if(r.observer===this){r.removeListeners(),e.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},u.prototype={enqueue:function(t){var n=this.observer.records_,r=n.length;if(n.length>0){var i=s(n[r-1],t);if(i)return void(n[r-1]=i)}else!function(t){m.push(t),g||(g=!0,l(e))}(this.observer);n[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=c.get(t);e||c.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach((function(t){this.removeListeners_(t);for(var e=c.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}}),this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,r=t.relatedNode.namespaceURI,i=t.target;(u=new o("attributes",i)).attributeName=e,u.attributeNamespace=r;var s=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;n(i,(function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(r)?void 0:t.attributeOldValue?a(s):u}));break;case"DOMCharacterDataModified":var u=o("characterData",i=t.target);s=t.prevValue;n(i,(function(t){return t.characterData?t.characterDataOldValue?a(s):u:void 0}));break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var l,c,h=t.target;"DOMNodeInserted"===t.type?(l=[h],c=[]):(l=[],c=[h]);var f=h.previousSibling,g=h.nextSibling;(u=o("childList",t.target.parentNode)).addedNodes=l,u.removedNodes=c,u.previousSibling=f,u.nextSibling=g,n(t.relatedNode,(function(t){return t.childList?u:void 0}))}d=p=void 0}},t.JsMutationObserver=r,t.MutationObserver||(t.MutationObserver=r,r._isPolyfilled=!0)}}(self),function(){if(!window.performance||!window.performance.now){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}var e;window.requestAnimationFrame||(window.requestAnimationFrame=(e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)?function(t){return e((function(){t(performance.now())}))}:function(t){return window.setTimeout(t,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)});var n=function(){var t=document.createEvent("Event");return t.initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented}();if(!n){var r=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(r.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var i=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||i&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||i&&"function"!=typeof window.Event){var o=window.Event;window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),n},window.Event.prototype=o.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,n=[];t.addModule=function(t){n.push(t)},t.initializeModules=function(){n.forEach((function(e){e(t)}))},t.hasNative=Boolean(document.registerElement),t.isIE=/Trident/.test(navigator.userAgent),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule((function(t){function e(t,e){n(t,(function(t){return!!e(t)||void r(t,e)})),r(t,e)}function n(t,e,r){var i=t.firstElementChild;if(!i)for(i=t.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)!0!==e(i,r)&&n(i,e,r),i=i.nextElementSibling;return null}function r(t,n){for(var r=t.shadowRoot;r;)e(r,n),r=r.olderShadowRoot}function i(t,e,n){if(t=window.wrap(t),!(n.indexOf(t)>=0)){n.push(t);for(var r,a=t.querySelectorAll("link[rel="+o+"]"),s=0,u=a.length;u>s&&(r=a[s]);s++)r.import&&i(r.import,e,n);e(t)}}var o=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=function(t,e){i(t,e,[])},t.forSubtree=e})),window.CustomElements.addModule((function(t){function e(t,e){return n(t,e)||r(t,e)}function n(e,n){return!!t.upgrade(e,n)||void(n&&a(e))}function r(t,e){p(t,(function(t){return!!n(t,e)||void 0}))}function i(t){y.push(t),v||(v=!0,setTimeout(o))}function o(){v=!1;for(var t,e=y,n=0,r=e.length;r>n&&(t=e[n]);n++)t();y=[]}function a(t){m?i((function(){s(t)})):s(t)}function s(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function u(t){m?i((function(){l(t)})):l(t)}function l(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function c(t,n){if(d.dom){var r=n[0];if(r&&"childList"===r.type&&r.addedNodes&&r.addedNodes){for(var i=r.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var o=i&&(i.URL||i._URL||i.host&&i.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,o||"")}var a=function(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}(t);n.forEach((function(t){"childList"===t.type&&(E(t.addedNodes,(function(t){t.localName&&e(t,a)})),E(t.removedNodes,(function(t){t.localName&&function(t){u(t),p(t,(function(t){u(t)}))}(t)})))})),d.dom&&console.groupEnd()}function h(t){if(!t.__observer){var e=new MutationObserver(c.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function f(t){t=window.wrap(t),d.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop()),e(t,t===window.wrap(document)),h(t),d.dom&&console.groupEnd()}var d=t.flags,p=t.forSubtree,g=t.forDocumentTree,m=window.MutationObserver._isPolyfilled&&d["throttle-attached"];t.hasPolyfillMutations=m,t.hasThrottledAttached=m;var v=!1,y=[],E=Array.prototype.forEach.call.bind(Array.prototype.forEach),b=Element.prototype.createShadowRoot;b&&(Element.prototype.createShadowRoot=function(){var t=b.call(this);return window.CustomElements.watchShadow(this),t}),t.watchShadow=function(t){if(t.shadowRoot&&!t.shadowRoot.__watched){d.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)h(e),e=e.olderShadowRoot}},t.upgradeDocumentTree=function(t){g(t,f)},t.upgradeDocument=f,t.upgradeSubtree=r,t.upgradeAll=e,t.attached=a,t.takeRecords=function(t){for((t=window.wrap(t))||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(c(t,e.takeRecords()),o())}})),window.CustomElements.addModule((function(t){function e(e,i,o){return r.upgrade&&console.group("upgrade:",e.localName),i.is&&e.setAttribute("is",i.is),n(e,i),e.__upgraded__=!0,(a=e).createdCallback&&a.createdCallback(),o&&t.attached(e),t.upgradeSubtree(e,o),r.upgrade&&console.groupEnd(),e;var a}function n(t,e){Object.__proto__||function(t,e,n){for(var r={},i=e;i!==n&&i!==HTMLElement.prototype;){for(var o,a=Object.getOwnPropertyNames(i),s=0;o=a[s];s++)r[o]||(Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}(t,e.prototype,e.native),t.__proto__=e.prototype}var r=t.flags;t.upgrade=function(n,r){if("template"===n.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(n),!n.__upgraded__&&n.nodeType===Node.ELEMENT_NODE){var i=n.getAttribute("is"),o=t.getRegisteredDefinition(n.localName)||t.getRegisteredDefinition(i);if(o&&(i&&o.tag==n.localName||!i&&!o.extends))return e(n,o,r)}},t.upgradeWithDefinition=e,t.implementPrototype=n})),window.CustomElements.addModule((function(t){function e(t,e,n){t=t.toLowerCase();var r=this.getAttribute(t);n.apply(this,arguments);var i=this.getAttribute(t);this.attributeChangedCallback&&i!==r&&this.attributeChangedCallback(t,r,i)}function n(t){var e=r(t);return e?n(e.extends).concat([e]):[]}function r(t){return t?d[t.toLowerCase()]:void 0}function i(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n,o=r(e||t);if(o){if(t==o.tag&&e==o.is)return new o.ctor;if(!e&&!o.is)return new o.ctor}return e?((n=i(t)).setAttribute("is",e),n):(n=g(t),t.indexOf("-")>=0&&c(n,HTMLElement),n)}function o(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return u(t),t}}var a,s=(t.isIE,t.upgradeDocumentTree),u=t.upgradeAll,l=t.upgradeWithDefinition,c=t.implementPrototype,h=t.useNative,f=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],d={},p="http://www.w3.org/1999/xhtml",g=document.createElement.bind(document),m=document.createElementNS.bind(document);a=Object.__proto__||h?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},o(Node.prototype,"cloneNode"),o(document,"importNode"),document.registerElement=function(i,o){var a,u=o||{};if(!i)throw new Error("document.registerElement: first argument `name` must not be empty");if(i.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(i)+"'.");if(function(t){for(var e=0;e<f.length;e++)if(t===f[e])return!0}(i))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(i)+"'. The type name is invalid.");if(r(i))throw new Error("DuplicateDefinitionError: a type with name '"+String(i)+"' is already registered");return u.prototype||(u.prototype=Object.create(HTMLElement.prototype)),u.__name=i.toLowerCase(),u.extends&&(u.extends=u.extends.toLowerCase()),u.lifecycle=u.lifecycle||{},u.ancestry=n(u.extends),function(t){for(var e,n=t.extends,r=0;e=t.ancestry[r];r++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}(u),function(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var r,i=t.prototype,o=!1;i;)i==e&&(o=!0),(r=Object.getPrototypeOf(i))&&(i.__proto__=r),i=r;o||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t.native=e}}(u),function(t){if(!t.setAttribute._polyfilled){var n=t.setAttribute;t.setAttribute=function(t,r){e.call(this,t,r,n)};var r=t.removeAttribute;t.removeAttribute=function(t){e.call(this,t,null,r)},t.setAttribute._polyfilled=!0}}(u.prototype),function(t,e){d[t]=e}(u.__name,u),u.ctor=(a=u,function(){return function(t){return l(g(t.tag),t)}(a)}),u.ctor.prototype=u.prototype,u.prototype.constructor=u.ctor,t.ready&&s(document),u.ctor},document.createElement=i,document.createElementNS=function(t,e,n){return t===p?i(e,n):m(t,e)},t.registry=d,t.instanceof=a,t.reservedTagList=f,t.getRegisteredDefinition=r,document.register=document.registerElement})),function(t){function e(){o(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(t){setTimeout(t,16)})((function(){setTimeout((function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}))}))}var n=t.useNative,r=t.initializeModules;if(t.isIE,n){var i=function(){};t.watchShadow=i,t.upgrade=i,t.upgradeAll=i,t.upgradeDocumentTree=i,t.upgradeSubtree=i,t.takeRecords=i,t.instanceof=function(t,e){return t instanceof e}}else r();var o=t.upgradeDocumentTree,a=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t.import&&a(wrap(t.import))}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,e)}else e()}(window.CustomElements))}.call(t),function(){}.call(t),function(){(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"",OBJECT_REPLACEMENT_CHARACTER:"",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var t,e,n;if("undefined"==typeof InputEvent)return!1;for(t=0,e=(n=["data","getTargetRanges","inputType"]).length;e>t;t++)if(!(n[t]in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(this);var t=this.Trix;(function(){(function(){t.BasicObject=function(){function t(){}var e,n,r;return t.proxyMethod=function(t){var r,i,o,a,s;return o=n(t),r=o.name,a=o.toMethod,s=o.toProperty,i=o.optional,this.prototype[r]=function(){var t,n;return t=null!=a?i?"function"==typeof this[a]?this[a]():void 0:this[a]():null!=s?this[s]:void 0,i?null!=(n=null!=t?t[r]:void 0)?e.call(n,t,arguments):void 0:(n=t[r],e.call(n,t,arguments))}},n=function(t){var e,n;if(!(n=t.match(r)))throw new Error("can't parse @proxyMethod expression: "+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},e=Function.prototype.apply,r=/^(.+?)(\(\))?(\?)?\.(.+?)$/,t}()}).call(this),function(){var e={}.hasOwnProperty;t.Object=function(n){function r(){this.id=++i}var i;return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(r,n),i=0,r.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},r.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},r.prototype.isEqualTo=function(t){return this===t},r.prototype.inspect=function(){var t,e,n;return t=function(){var t,r,i;for(e in i=[],r=null!=(t=this.contentsForInspection())?t:{})n=r[e],i.push(e+"="+n);return i}.call(this),"#<"+this.constructor.name+":"+this.id+(t.length?" "+t.join(", "):"")+">"},r.prototype.contentsForInspection=function(){},r.prototype.toJSONString=function(){return JSON.stringify(this)},r.prototype.toUTF16String=function(){return t.UTF16String.box(this)},r.prototype.getCacheKey=function(){return this.id.toString()},r}(t.BasicObject)}.call(this),function(){t.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){t.extend({defer:function(t){return setTimeout(t,1)}})}.call(this),function(){var e,n;t.extend({normalizeSpaces:function(e){return e.replace(RegExp(""+t.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+t.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(t){return t.replace(/\r\n/g,"\n")},breakableWhitespacePattern:RegExp("[^\\S"+t.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(e){return e.replace(RegExp(""+t.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(e,r){var i,o,a,s;return e=t.UTF16String.box(e),(r=t.UTF16String.box(r)).length<e.length?(s=(o=n(e,r))[0],i=o[1]):(i=(a=n(r,e))[0],s=a[1]),{added:i,removed:s}}}),n=function(n,r){var i,o,a,s,u;return n.isEqualTo(r)?["",""]:(a=(s=(o=e(n,r)).utf16String.length)?(u=o.offset,i=n.codepoints.slice(0,u).concat(n.codepoints.slice(u+s)),e(r,t.UTF16String.fromCodepoints(i))):e(r,n),[o.utf16String.toString(),a.utf16String.toString()])},e=function(t,e){var n,r,i;for(n=0,r=t.length,i=e.length;r>n&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;r>n+1&&t.charAt(r-1).isEqualTo(e.charAt(i-1));)r--,i--;return{utf16String:t.slice(n,r),offset:n}}}.call(this),function(){t.extend({copyObject:function(t){var e,n,r;for(e in null==t&&(t={}),n={},t)r=t[e],n[e]=r;return n},objectsAreEqual:function(t,e){var n;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(t[n]!==e[n])return!1;return!0}})}.call(this),function(){var e=[].slice;t.extend({arraysAreEqual:function(t,e){var n,r,i;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(r=n=0,i=t.length;i>n;r=++n)if(t[r]!==e[r])return!1;return!0},arrayStartsWith:function(e,n){return null==e&&(e=[]),null==n&&(n=[]),t.arraysAreEqual(e.slice(0,n.length),n)},spliceArray:function(){var t,n,r;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],(r=n.slice(0)).splice.apply(r,t),r},summarizeArrayChange:function(t,e){var n,r,i,o,a,s,u,l,c,h,f;for(null==t&&(t=[]),null==e&&(e=[]),n=[],h=[],i=new Set,o=0,u=t.length;u>o;o++)f=t[o],i.add(f);for(r=new Set,a=0,l=e.length;l>a;a++)f=e[a],r.add(f),i.has(f)||n.push(f);for(s=0,c=t.length;c>s;s++)f=t[s],r.has(f)||h.push(f);return{added:n,removed:h}}})}.call(this),function(){var e,n,r,i;e=null,n=null,i=null,r=null,t.extend({getAllAttributeNames:function(){return null!=e?e:e=t.getTextAttributeNames().concat(t.getBlockAttributeNames())},getBlockConfig:function(e){return t.config.blockAttributes[e]},getBlockAttributeNames:function(){return null!=n?n:n=Object.keys(t.config.blockAttributes)},getTextConfig:function(e){return t.config.textAttributes[e]},getTextAttributeNames:function(){return null!=i?i:i=Object.keys(t.config.textAttributes)},getListAttributeNames:function(){var e,n;return null!=r?r:r=function(){var r,i;for(e in i=[],r=t.config.blockAttributes)null!=(n=r[e].listAttribute)&&i.push(n);return i}()}})}.call(this),function(){var e,n,r,i,o,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=document.documentElement,n=null!=(r=null!=(i=null!=(o=e.matchesSelector)?o:e.webkitMatchesSelector)?i:e.msMatchesSelector)?r:e.mozMatchesSelector,t.extend({handleEvent:function(n,r){var i,o,a,s,u,l,c,h,f,d,p;return u=(c=null!=r?r:{}).onElement,s=c.matchingSelector,p=c.withCallback,a=c.inPhase,l=c.preventDefault,f=c.times,i=null!=u?u:e,h=s,p,d="capturing"===a,(o=function(e){var n;return null!=f&&0==--f&&o.destroy(),null!=(n=t.findClosestElementFromNode(e.target,{matchingSelector:h}))&&(null!=p&&p.call(n,e,n),l)?e.preventDefault():void 0}).destroy=function(){return i.removeEventListener(n,o,d)},i.addEventListener(n,o,d),o},handleEventOnce:function(e,n){return null==n&&(n={}),n.times=1,t.handleEvent(e,n)},triggerEvent:function(n,r){var i,o,a,s,u,l,c;return l=(c=null!=r?r:{}).onElement,o=c.bubbles,a=c.cancelable,i=c.attributes,s=null!=l?l:e,o=!1!==o,a=!1!==a,(u=document.createEvent("Events")).initEvent(n,o,a),null!=i&&t.extend.call(u,i),s.dispatchEvent(u)},elementMatchesSelector:function(t,e){return 1===(null!=t?t.nodeType:void 0)?n.call(t,e):void 0},findClosestElementFromNode:function(e,n){var r,i,o;for(r=(i=null!=n?n:{}).matchingSelector,o=i.untilNode;null!=e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;if(null!=e){if(null==r)return e;if(e.closest&&null==o)return e.closest(r);for(;e&&e!==o;){if(t.elementMatchesSelector(e,r))return e;e=e.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(e){return document.activeElement!==e&&t.elementContainsNode(e,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;if(t)return t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1)},findElementFromContainerAndOffset:function(e,n){var r;return r=t.findNodeFromContainerAndOffset(e,n),t.findClosestElementFromNode(r)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},removeNode:function(t){var e;return null!=t&&null!=(e=t.parentNode)?e.removeChild(t):void 0},walkTree:function(t,e){var n,r,i,o,a;return r=(i=null!=e?e:{}).onlyNodesOfType,o=i.usingFilter,n=i.expandEntityReferences,a=function(){switch(r){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,a,null!=o?o:null,!0===n)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,r,i,o,a,s,u,l,c,h,f,d,p,g;if(null==e&&(e={}),"object"==Be(t)?t=(e=t).tagName:e={attributes:e},i=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes)for(s in c=e.attributes)g=c[s],i.setAttribute(s,g);if(e.style)for(s in h=e.style)g=h[s],i.style[s]=g;if(e.data)for(s in f=e.data)g=f[s],i.dataset[s]=g;if(e.className)for(o=0,u=(d=e.className.split(" ")).length;u>o;o++)r=d[o],i.classList.add(r);if(e.textContent&&(i.textContent=e.textContent),e.childNodes)for(a=0,l=(p=[].concat(e.childNodes)).length;l>a;a++)n=p[a],i.appendChild(n);return i},getBlockTagNames:function(){var e,n;return null!=t.blockTagNames?t.blockTagNames:t.blockTagNames=function(){var r,i;for(e in i=[],r=t.config.blockAttributes)(n=r[e].tagName)&&i.push(n);return i}()},nodeIsBlockContainer:function(e){return t.nodeIsBlockStartComment(null!=e?e.firstChild:void 0)},nodeProbablyIsBlockContainer:function(e){var n,r;return n=t.tagName(e),a.call(t.getBlockTagNames(),n)>=0&&(r=t.tagName(e.firstChild),a.call(t.getBlockTagNames(),r)<0)},nodeIsBlockStart:function(e,n){return(null!=n?n:{strict:!0}).strict?t.nodeIsBlockStartComment(e):t.nodeIsBlockStartComment(e)||!t.nodeIsBlockStartComment(e.firstChild)&&t.nodeProbablyIsBlockContainer(e)},nodeIsBlockStartComment:function(e){return t.nodeIsCommentNode(e)&&"block"===(null!=e?e.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(e,n){var r;return r=(null!=n?n:{}).name,e?t.nodeIsTextNode(e)?e.data===t.ZERO_WIDTH_SPACE?!r||e.parentNode.dataset.trixCursorTarget===r:void 0:t.nodeIsCursorTarget(e.firstChild):void 0},nodeIsAttachmentElement:function(e){return t.elementMatchesSelector(e,t.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(e){return t.nodeIsTextNode(e)&&""===(null!=e?e.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var e,n,r,i,o;e=t.copyObject,i=t.objectsAreEqual,t.extend({normalizeRange:r=function(t){var e;if(null!=t)return Array.isArray(t)||(t=[t,t]),[n(t[0]),n(null!=(e=t[1])?e:t[0])]},rangeIsCollapsed:function(t){var e,n,i;if(null!=t)return i=(n=r(t))[0],e=n[1],o(i,e)},rangesAreEqual:function(t,e){var n,i,a,s,u,l;if(null!=t&&null!=e)return i=(a=r(t))[0],n=a[1],l=(s=r(e))[0],u=s[1],o(i,l)&&o(n,u)}}),n=function(t){return"number"==typeof t?t:e(t)},o=function(t,e){return"number"==typeof t?t===e:i(t,e)}}.call(this),function(){var e,n,r,i,o,a,s,u;t.registerElement=function(t,e){var n,r;return null==e&&(e={}),t=t.toLowerCase(),e=s(e),(n=(r=a(e)).defaultCSS)&&(delete r.defaultCSS,i(n,t)),o(t,r)},i=function(t,e){return r(e).textContent=t.replace(/%t/g,e)},r=function(t){var n,r;return(n=document.createElement("style")).setAttribute("type","text/css"),n.setAttribute("data-tag-name",t.toLowerCase()),(r=e())&&n.setAttribute("nonce",r),document.head.insertBefore(n,document.head.firstChild),n},e=function(){var t;return(t=n("trix-csp-nonce")||n("csp-nonce"))?t.getAttribute("content"):void 0},n=function(t){return document.head.querySelector("meta[name="+t+"]")},a=function(t){var e,n,r;for(e in n={},t)r=t[e],n[e]="function"==typeof r?{value:r}:r;return n},u=function(t){var e,n,r,i,o;for(e={},n=0,i=(o=["initialize","connect","disconnect"]).length;i>n;n++)e[r=o[n]]=t[r],delete t[r];return e},s=window.customElements?function(t){var e,n,r,i,o;return o=u(t),r=o.initialize,e=o.connect,n=o.disconnect,r&&(i=e,e=function(){return this.initialized||(this.initialized=!0,r.call(this)),null!=i?i.call(this):void 0}),e&&(t.connectedCallback=e),n&&(t.disconnectedCallback=n),t}:function(t){var e,n,r,i;return r=(i=u(t)).initialize,e=i.connect,n=i.disconnect,r&&(t.createdCallback=r),e&&(t.attachedCallback=e),n&&(t.detachedCallback=n),t},o=window.customElements?function(t,e){var n;return n=function(){return"object"==("undefined"==typeof Reflect?"undefined":Be(Reflect))?Reflect.construct(HTMLElement,[],n):HTMLElement.apply(this)},Object.setPrototypeOf(n.prototype,HTMLElement.prototype),Object.setPrototypeOf(n,HTMLElement),Object.defineProperties(n.prototype,e),window.customElements.define(t,n),n}:function(t,e){var n,r;return r=Object.create(HTMLElement.prototype,e),n=document.registerElement(t,{prototype:r}),Object.defineProperty(r,"constructor",{value:n}),n}}.call(this),function(){var e,n;t.extend({getDOMSelection:function(){var t;return(t=window.getSelection()).rangeCount>0?t:void 0},getDOMRange:function(){var n,r;return(n=null!=(r=t.getDOMSelection())?r.getRangeAt(0):void 0)&&!e(n)?n:void 0},setDOMRange:function(e){var n;return(n=window.getSelection()).removeAllRanges(),n.addRange(e),t.selectionChangeObserver.update()}}),e=function(t){return n(t.startContainer)||n(t.endContainer)},n=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){var e;e={"application/x-trix-feature-detection":"test"},t.extend({dataTransferIsPlainText:function(t){var e,n,r;return r=t.getData("text/plain"),n=t.getData("text/html"),r&&n?(e=(new DOMParser).parseFromString(n,"text/html").body).textContent===r?!e.querySelector("*"):void 0:null!=r?r.length:void 0},dataTransferIsWritable:function(t){var n,r;if(null!=(null!=t?t.setData:void 0)){for(n in e)if(r=e[n],!function(){try{return t.setData(n,r),t.getData(n)===r}catch(t){}}())return;return!0}},keyEventIsKeyboardCommand:/Mac|^iP/.test(navigator.platform)?function(t){return t.metaKey}:function(t){return t.ctrlKey}})}.call(this),function(){var e,n,r,i;t.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:(n=t.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),(e=t.makeElement("form")).appendChild(n),r=function(){try{return new FormData(e).has(n.dirName)}catch(t){}}(),i=function(){try{return n.matches(":dir(ltr),:dir(rtl)")}catch(t){}}(),r?function(t){return n.value=t,new FormData(e).get(n.dirName)}:i?function(t){return n.value=t,n.matches(":dir(rtl)")?"rtl":"ltr"}:function(e){var n;return n=e.trim().charAt(0),t.RTL_PATTERN.test(n)?"rtl":"ltr"})})}.call(this),function(){}.call(this),function(){var e,n={}.hasOwnProperty;e=t.arraysAreEqual,t.Hash=function(r){function i(t){null==t&&(t={}),this.values=a(t),i.__super__.constructor.apply(this,arguments)}var o,a,s,u,l;return function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(i,r),i.fromCommonAttributesOfObjects=function(t){var e,n,r,i,a,s;if(null==t&&(t=[]),!t.length)return new this;for(r=(e=o(t[0])).getKeys(),n=0,i=(s=t.slice(1)).length;i>n;n++)a=s[n],r=e.getKeysCommonToHash(o(a)),e=e.slice(r);return e},i.box=function(t){return o(t)},i.prototype.add=function(t,e){return this.merge(u(t,e))},i.prototype.remove=function(e){return new t.Hash(a(this.values,e))},i.prototype.get=function(t){return this.values[t]},i.prototype.has=function(t){return t in this.values},i.prototype.merge=function(e){return new t.Hash(s(this.values,l(e)))},i.prototype.slice=function(e){var n,r,i,o;for(o={},n=0,i=e.length;i>n;n++)r=e[n],this.has(r)&&(o[r]=this.values[r]);return new t.Hash(o)},i.prototype.getKeys=function(){return Object.keys(this.values)},i.prototype.getKeysCommonToHash=function(t){var e,n,r,i,a;for(t=o(t),a=[],e=0,r=(i=this.getKeys()).length;r>e;e++)n=i[e],this.values[n]===t.values[n]&&a.push(n);return a},i.prototype.isEqualTo=function(t){return e(this.toArray(),o(t).toArray())},i.prototype.isEmpty=function(){return 0===this.getKeys().length},i.prototype.toArray=function(){var t,e,n;return(null!=this.array?this.array:this.array=function(){var r;for(t in e=[],r=this.values)n=r[t],e.push(t,n);return e}.call(this)).slice(0)},i.prototype.toObject=function(){return a(this.values)},i.prototype.toJSON=function(){return this.toObject()},i.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},u=function(t,e){var n;return(n={})[t]=e,n},s=function(t,e){var n,r,i;for(n in r=a(t),e)i=e[n],r[n]=i;return r},a=function(t,e){var n,r,i,o,a;for(o={},n=0,i=(a=Object.keys(t).sort()).length;i>n;n++)(r=a[n])!==e&&(o[r]=t[r]);return o},o=function(e){return e instanceof t.Hash?e:new t.Hash(e)},l=function(e){return e instanceof t.Hash?e.values:e},i}(t.Object)}.call(this),function(){t.ObjectGroup=function(){function t(t,e){var n,r;this.objects=null!=t?t:[],r=e.depth,(n=e.asTree)&&(this.depth=r,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,r,i,o,a,s,u,l,c;for(null==t&&(t=[]),i=(c=null!=e?e:{}).depth,(n=c.asTree)&&null==i&&(i=0),l=[],a=0,s=t.length;s>a;a++){if(u=t[a],o){if(("function"==typeof u.canBeGrouped?u.canBeGrouped(i):void 0)&&("function"==typeof(r=o[o.length-1]).canBeGroupedWith?r.canBeGroupedWith(u,i):void 0)){o.push(u);continue}l.push(new this(o,{depth:i,asTree:n})),o=null}("function"==typeof u.canBeGrouped?u.canBeGrouped(i):void 0)?o=[u]:l.push(u)}return o&&l.push(new this(o,{depth:i,asTree:n})),l},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,r,i;for(e=["objectGroup"],t=0,n=(i=this.getObjects()).length;n>t;t++)r=i[t],e.push(r.getCacheKey());return e.join("/")},t}()}.call(this),function(){var e={}.hasOwnProperty;t.ObjectMap=function(t){function n(t){var e,n,r,i,o;for(null==t&&(t=[]),this.objects={},r=0,i=t.length;i>r;r++)o=t[r],n=JSON.stringify(o),null==(e=this.objects)[n]&&(e[n]=o)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(n,t),n.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},n}(t.BasicObject)}.call(this),function(){t.ElementStore=function(){function t(t){this.reset(t)}var e;return t.prototype.add=function(t){var n;return n=e(t),this.elements[n]=t},t.prototype.remove=function(t){var n,r;return n=e(t),(r=this.elements[n])?(delete this.elements[n],r):void 0},t.prototype.reset=function(t){var e,n,r;for(null==t&&(t=[]),this.elements={},n=0,r=t.length;r>n;n++)e=t[n],this.add(e);return t},e=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var e={}.hasOwnProperty;t.Operation=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(n,t),n.prototype.isPerforming=function(){return!0===this.performing},n.prototype.hasPerformed=function(){return!0===this.performed},n.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},n.prototype.hasFailed=function(){return this.performed&&!this.succeeded},n.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise((t=this,function(e,n){return t.performing=!0,t.perform((function(r,i){return t.succeeded=r,t.performing=!1,t.performed=!0,t.succeeded?e(i):n(i)}))}));var t},n.prototype.perform=function(t){return t(!1)},n.prototype.release=function(){var t;return null!=(t=this.promise)&&"function"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},n.proxyMethod("getPromise().then"),n.proxyMethod("getPromise().catch"),n}(t.BasicObject)}.call(this),function(){var e,n,r,i,o,a={}.hasOwnProperty;t.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(e,t),e.box=function(t){return null==t&&(t=""),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,i(t))},e.fromCodepoints=function(t){return new this(o(t),t)},e.prototype.offsetToUCS2Offset=function(t){return o(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return i(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(t.BasicObject),e=1===("function"==typeof Array.from?Array.from("").length:void 0),n=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),r=" "===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),i=e&&n?function(t){return Array.from(t).map((function(t){return t.codePointAt(0)}))}:function(t){var e,n,r,i,o;for(i=[],e=0,r=t.length;r>e;)(o=t.charCodeAt(e++))>=55296&&56319>=o&&r>e&&(56320==(64512&(n=t.charCodeAt(e++)))?o=((1023&o)<<10)+(1023&n)+65536:e--),i.push(o);return i},o=r?function(t){return String.fromCodePoint.apply(String,t)}:function(t){var e,n;return function(){var r,i,o;for(o=[],r=0,i=t.length;i>r;r++)n=t[r],e="",n>65535&&(n-=65536,e+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),o.push(e+String.fromCharCode(n));return o}().join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){t.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){t.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var e;t.config.blockAttributes=e={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(n){return t.tagName(n.parentNode)===e[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(n){return t.tagName(n.parentNode)===e[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var e,n;e=t.config.lang,n=[e.bytes,e.KB,e.MB,e.GB,e.TB,e.PB],t.config.fileSize={prefix:"IEC",precision:2,formatter:function(t){var r,i;switch(t){case 0:return"0 "+e.bytes;case 1:return"1 "+e.byte;default:return r=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),i=Math.floor(Math.log(t)/Math.log(r)),(t/Math.pow(r,i)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+n[i]}}}}.call(this),function(){t.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(t){var e;return"bold"===(e=window.getComputedStyle(t)).fontWeight||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(t){return"italic"===window.getComputedStyle(t).fontStyle}},href:{groupTagName:"a",parser:function(e){var n,r;return r="a:not("+t.AttachmentView.attachmentSelector+")",(n=t.findClosestElementFromNode(e,{matchingSelector:r}))?n.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var e,n,r;r=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],n="data-trix-serialized-attributes",e=new RegExp("\x3c!--block--\x3e","g"),t.extend({serializers:{"application/json":function(e){var n;if(e instanceof t.Document)n=e;else{if(!(e instanceof HTMLElement))throw new Error("unserializable object");n=t.Document.fromHTML(e.innerHTML)}return n.toSerializableDocument().toJSONString()},"text/html":function(i){var o,a,s,u,l,c,h,f,d,p,g,m,v,y,E,b,A;if(i instanceof t.Document)u=t.DocumentView.render(i);else{if(!(i instanceof HTMLElement))throw new Error("unserializable object");u=i.cloneNode(!0)}for(l=0,d=(y=u.querySelectorAll("[data-trix-serialize=false]")).length;d>l;l++)s=y[l],t.removeNode(s);for(c=0,p=r.length;p>c;c++)for(o=r[c],h=0,g=(E=u.querySelectorAll("["+o+"]")).length;g>h;h++)(s=E[h]).removeAttribute(o);for(f=0,m=(b=u.querySelectorAll("[data-trix-serialized-attributes]")).length;m>f;f++){s=b[f];try{for(v in a=JSON.parse(s.getAttribute(n)),s.removeAttribute(n),a)A=a[v],s.setAttribute(v,A)}catch(t){}}return u.innerHTML.replace(e,"")}},deserializers:{"application/json":function(e){return t.Document.fromJSONString(e)},"text/html":function(e){return t.Document.fromHTML(e)}},serializeToContentType:function(e,n){var r;if(r=t.serializers[n])return r(e);throw new Error("unknown content type: "+n)},deserializeFromContentType:function(e,n){var r;if(r=t.deserializers[n])return r(e);throw new Error("unknown content type: "+n)}})}.call(this),function(){var e;e=t.config.lang,t.config.toolbar={getDefaultHTML:function(){return'<div class="trix-button-row">\n  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="'+e.bold+'" tabindex="-1">'+e.bold+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="'+e.italic+'" tabindex="-1">'+e.italic+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="'+e.strike+'" tabindex="-1">'+e.strike+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+e.link+'" tabindex="-1">'+e.link+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="'+e.heading1+'" tabindex="-1">'+e.heading1+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="'+e.quote+'" tabindex="-1">'+e.quote+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="'+e.code+'" tabindex="-1">'+e.code+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="'+e.bullets+'" tabindex="-1">'+e.bullets+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="'+e.numbers+'" tabindex="-1">'+e.numbers+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="'+e.outdent+'" tabindex="-1">'+e.outdent+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="'+e.indent+'" tabindex="-1">'+e.indent+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="'+e.attachFiles+'" tabindex="-1">'+e.attachFiles+'</button>\n  </span>\n\n  <span class="trix-button-group-spacer"></span>\n\n  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="'+e.undo+'" tabindex="-1">'+e.undo+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="'+e.redo+'" tabindex="-1">'+e.redo+'</button>\n  </span>\n</div>\n\n<div class="trix-dialogs" data-trix-dialogs>\n  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">\n    <div class="trix-dialog__link-fields">\n      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="'+e.urlPlaceholder+'" aria-label="'+e.url+'" required data-trix-input>\n      <div class="trix-button-group">\n        <input type="button" class="trix-button trix-button--dialog" value="'+e.link+'" data-trix-method="setAttribute">\n        <input type="button" class="trix-button trix-button--dialog" value="'+e.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>'}}}.call(this),function(){t.config.undoInterval=5e3}.call(this),function(){t.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){t.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){t.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&t.browser.supportsInputEvents?2:0},pickFiles:function(e){var n;return(n=t.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId})).addEventListener("change",(function(){return e(n.files),t.removeNode(n)})),t.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(n),n.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){t.registerElement("trix-toolbar",{defaultCSS:"%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}",initialize:function(){return""===this.innerHTML?this.innerHTML=t.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var e={}.hasOwnProperty,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t.ObjectView=function(r){function i(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(i,r),i.prototype.getNodes=function(){var t,e,n,r,i;for(null==this.nodes&&(this.nodes=this.createNodes()),i=[],t=0,e=(r=this.nodes).length;e>t;t++)n=r[t],i.push(n.cloneNode(!0));return i},i.prototype.invalidate=function(){var t;return this.nodes=null,this.childViews=[],null!=(t=this.parentView)?t.invalidate():void 0},i.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},i.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},i.prototype.createChildView=function(e,n,r){var i;return null==r&&(r={}),n instanceof t.ObjectGroup&&(r.viewClass=e,e=t.ObjectGroupView),i=new e(n,r),this.recordChildView(i)},i.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t},i.prototype.getAllChildViews=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.childViews).length;n>e;e++)t=r[e],i.push(t),i=i.concat(t.getAllChildViews());return i},i.prototype.findElement=function(){return this.findElementForObject(this.object)},i.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},i.prototype.findViewForObject=function(t){var e,n,r,i;for(e=0,n=(r=this.getAllChildViews()).length;n>e;e++)if((i=r[e]).object===t)return i},i.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},i.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},i.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},i.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},i.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},i.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},i.prototype.garbageCollectCachedViews=function(){var t,e,r,i,o,a;if(t=this.getViewCache()){for(e in a=this.getAllChildViews().concat(this),r=function(){var t,e,n;for(n=[],t=0,e=a.length;e>t;t++)o=a[t],n.push(o.object.getCacheKey());return n}(),i=[],t)n.call(r,e)<0&&i.push(delete t[e]);return i}},i}(t.BasicObject)}.call(this),function(){var e={}.hasOwnProperty;t.ObjectGroupView=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(n,t),n.prototype.getChildViews=function(){var t,e,n,r;if(!this.childViews.length)for(t=0,e=(r=this.objectGroup.getObjects()).length;e>t;t++)n=r[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},n.prototype.createNodes=function(){var t,e,n,r,i,o,a,s;for(t=this.createContainerElement(),e=0,r=(a=this.getChildViews()).length;r>e;e++)for(n=0,i=(s=a[e].getNodes()).length;i>n;n++)o=s[n],t.appendChild(o);return[t]},n.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},n}(t.ObjectView)}.call(this),function(){var e={}.hasOwnProperty;t.Controller=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(n,t),n}(t.BasicObject)}.call(this),function(){var e,n,r,i,o,a,s={}.hasOwnProperty,u=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=t.findClosestElementFromNode,r=t.nodeIsEmptyTextNode,n=t.nodeIsBlockStartComment,i=t.normalizeSpaces,o=t.summarizeStringChange,a=t.tagName,t.MutationObserver=function(t){function l(t){this.element=t,this.didMutate=function(t,e){return function(){return t.apply(e,arguments)}}(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var c,h,f;return function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(l,t),"["+(h="data-trix-mutable")+"]",f={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},l.prototype.start=function(){return this.reset(),this.observer.observe(this.element,f)},l.prototype.stop=function(){return this.observer.disconnect()},l.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},l.prototype.reset=function(){return this.mutations=[]},l.prototype.findSignificantMutations=function(t){var e,n,r,i;for(i=[],e=0,n=t.length;n>e;e++)r=t[e],this.mutationIsSignificant(r)&&i.push(r);return i},l.prototype.mutationIsSignificant=function(t){var e,n,r,i;if(this.nodeIsMutable(t.target))return!1;for(e=0,n=(i=this.nodesModifiedByMutation(t)).length;n>e;e++)if(r=i[e],this.nodeIsSignificant(r))return!0;return!1},l.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!r(t)},l.prototype.nodeIsMutable=function(t){return e(t,{matchingSelector:"[data-trix-mutable]"})},l.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case"attributes":t.attributeName!==h&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},l.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},l.prototype.getTextMutationSummary=function(){var t,e,n,r,i,o,a,s,l,c,h;for(n=(s=this.getTextChangesFromCharacterData()).additions,i=s.deletions,o=0,a=(l=(h=this.getTextChangesFromChildList()).additions).length;a>o;o++)e=l[o],u.call(n,e)<0&&n.push(e);return i.push.apply(i,h.deletions),c={},(t=n.join(""))&&(c.textAdded=t),(r=i.join(""))&&(c.textDeleted=r),c},l.prototype.getMutationsByType=function(t){var e,n,r,i,o;for(o=[],e=0,n=(i=this.mutations).length;n>e;e++)(r=i[e]).type===t&&o.push(r);return o},l.prototype.getTextChangesFromChildList=function(){var t,e,r,o,a,s,u,l,h,f;for(t=[],u=[],e=0,o=(s=this.getMutationsByType("childList")).length;o>e;e++)a=s[e],t.push.apply(t,a.addedNodes),u.push.apply(u,a.removedNodes);return 0===t.length&&1===u.length&&n(u[0])?(h=[],f=["\n"]):(h=c(t),f=c(u)),{additions:function(){var t,e,n;for(n=[],r=t=0,e=h.length;e>t;r=++t)(l=h[r])!==f[r]&&n.push(i(l));return n}(),deletions:function(){var t,e,n;for(n=[],r=t=0,e=f.length;e>t;r=++t)(l=f[r])!==h[r]&&n.push(i(l));return n}()}},l.prototype.getTextChangesFromCharacterData=function(){var t,e,n,r,a,s,u,l;return(e=this.getMutationsByType("characterData")).length&&(l=e[0],n=e[e.length-1],a=i(l.oldValue),r=i(n.target.data),t=(s=o(a,r)).added,u=s.removed),{additions:t?[t]:[],deletions:u?[u]:[]}},c=function(t){var e,n,r,i;for(null==t&&(t=[]),i=[],e=0,n=t.length;n>e;e++)switch((r=t[e]).nodeType){case Node.TEXT_NODE:i.push(r.data);break;case Node.ELEMENT_NODE:"br"===a(r)?i.push("\n"):i.push.apply(i,c(r.childNodes))}return i},l}(t.BasicObject)}.call(this),function(){var e={}.hasOwnProperty;t.FileVerificationOperation=function(t){function n(t){this.file=t}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(n,t),n.prototype.perform=function(t){var e,n;return(e=new FileReader).onerror=function(){return t(!1)},e.onload=(n=this,function(){e.onerror=null;try{e.abort()}catch(t){}return t(!0,n.file)}),e.readAsArrayBuffer(this.file)},n}(t.Operation)}.call(this),function(){var e,n,r={}.hasOwnProperty;e=t.handleEvent,n=t.innerElementIsActive,t.InputController=function(i){function o(n){var r;for(r in this.element=n,this.mutationObserver=new t.MutationObserver(this.element),this.mutationObserver.delegate=this,this.events)e(r,{onElement:this.element,withCallback:this.handlerFor(r)})}return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(o,i),o.prototype.events={},o.prototype.elementDidMutate=function(){},o.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},o.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},o.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},o.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},o.prototype.attachFiles=function(e){var n,r,i;return r=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(new t.FileVerificationOperation(n));return o}(),Promise.all(r).then((i=this,function(t){return i.handleInput((function(){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillAttachFiles(),null!=(n=this.responder)&&n.insertFiles(t),this.requestRender()}))}))},o.prototype.handlerFor=function(t){return e=this,function(r){return r.defaultPrevented?void 0:e.handleInput((function(){return n(this.element)?void 0:(this.eventName=t,this.events[t].call(this,r))}))};var e},o.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},o.prototype.createLinkHTML=function(t,e){var n;return(n=document.createElement("a")).href=t,n.textContent=null!=e?e:t,n.outerHTML},o}(t.BasicObject)}.call(this),function(){var e,n,r,i,o,a,s,u,l,c,h,f,d=function(t,e){function n(){this.constructor=t}for(var r in e)p.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty,g=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};l=t.makeElement,c=t.objectsAreEqual,t.tagName,n=t.browser,s=t.keyEventIsKeyboardCommand,i=t.dataTransferIsWritable,r=t.dataTransferIsPlainText,u=t.config.keyNames,t.Level0InputController=function(n){function a(){a.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var p;return d(a,n),p=0,a.prototype.setInputSummary=function(t){var e,n;for(e in null==t&&(t={}),this.inputSummary.eventName=this.eventName,t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},a.prototype.resetInputSummary=function(){return this.inputSummary={}},a.prototype.reset=function(){return this.resetInputSummary(),t.selectionChangeObserver.reset()},a.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput((function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()}))},a.prototype.mutationIsExpected=function(t){var e,n,r,i,o,a,s,u,l;return a=t.textAdded,s=t.textDeleted,!!this.inputSummary.preferDocument||(e=null!=a?a===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=s?this.inputSummary.didDelete:!this.inputSummary.didDelete,l="\n"===s&&!n,!!(((u=("\n"===a||" \n"===a)&&!e)&&!l||l&&!u)&&(i=this.getSelectedRange())&&(r=u?a.replace(/\n$/,"").length||-1:(null!=a?a.length:void 0)||1,null!=(o=this.responder)?o.positionIsBlockBreak(i[1]+r):void 0))||e&&n)},a.prototype.mutationIsSignificant=function(t){var e,n,r;return r=Object.keys(t).length>0,e=""===(null!=(n=this.compositionInput)?n.getEndData():void 0),r||!e},a.prototype.events={keydown:function(e){var n,r,i,o,a,l,c,h,f;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,o=u[e.keyCode]){for(r=this.keys,i=0,l=(h=["ctrl","alt","shift","meta"]).length;l>i;i++)e[(c=h[i])+"Key"]&&("ctrl"===c&&(c="control"),r=null!=r?r[c]:void 0);null!=(null!=r?r[o]:void 0)&&(this.setInputSummary({keyName:o}),t.selectionChangeObserver.reset(),r[o].call(this,e))}return s(e)&&(n=String.fromCharCode(e.keyCode).toLowerCase())&&((a=function(){var t,n,r,i;for(i=[],t=0,n=(r=["alt","shift"]).length;n>t;t++)e[(c=r[t])+"Key"]&&i.push(c);return i}()).push(n),null!=(f=this.delegate)?f.inputControllerDidReceiveKeyboardCommand(a):void 0)?e.preventDefault():void 0},keypress:function(t){var e,n,r;if(null==this.inputSummary.eventName&&!t.metaKey&&(!t.ctrlKey||t.altKey))return(r=f(t))?(null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(r),this.setInputSummary({textAdded:r,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(t){var e,n,r,i;return e=t.data,(i=this.inputSummary.textAdded)&&i!==e&&i.toUpperCase()===e?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+i.length]),null!=(r=this.responder)&&r.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(n)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e;return t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},c(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(e){var n,r,i,o,a,s,u,l,c;return e.preventDefault(),i=null!=(a=e.dataTransfer)?a.files:void 0,o={x:e.clientX,y:e.clientY},null!=(s=this.responder)&&s.setLocationRangeFromPointRange(o),(null!=i?i.length:void 0)?this.attachFiles(i):this.draggedRange?(null!=(u=this.delegate)&&u.inputControllerWillMoveText(),null!=(l=this.responder)&&l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(r=e.dataTransfer.getData("application/x-trix-document"))&&(n=t.Document.fromJSONString(r),null!=(c=this.responder)&&c.insertDocument(n),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e,n;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented)?this.requestRender():void 0},copy:function(t){var e;return(null!=(e=this.responder)?e.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(e){var n,i,a,s,u,l,c,f,d,m,v,y,E,b,A,_,D,w,T,x,C,k,I,S;return n=null!=(f=e.clipboardData)?f:e.testClipboardData,c={clipboard:n},null==n||h(e)?void this.getPastedHTMLUsingHiddenElement((S=this,function(t){var e,n,r;return c.type="text/html",c.html=t,null!=(e=S.delegate)&&e.inputControllerWillPaste(c),null!=(n=S.responder)&&n.insertHTML(c.html),S.requestRender(),null!=(r=S.delegate)?r.inputControllerDidPaste(c):void 0})):((s=n.getData("URL"))?(c.type="text/html",I=(l=n.getData("public.url-name"))?t.squishBreakableWhitespace(l).trim():s,c.html=this.createLinkHTML(s,I),null!=(d=this.delegate)&&d.inputControllerWillPaste(c),this.setInputSummary({textAdded:I,didDelete:this.selectionIsExpanded()}),null!=(A=this.responder)&&A.insertHTML(c.html),this.requestRender(),null!=(_=this.delegate)&&_.inputControllerDidPaste(c)):r(n)?(c.type="text/plain",c.string=n.getData("text/plain"),null!=(D=this.delegate)&&D.inputControllerWillPaste(c),this.setInputSummary({textAdded:c.string,didDelete:this.selectionIsExpanded()}),null!=(w=this.responder)&&w.insertString(c.string),this.requestRender(),null!=(T=this.delegate)&&T.inputControllerDidPaste(c)):(u=n.getData("text/html"))?(c.type="text/html",c.html=u,null!=(x=this.delegate)&&x.inputControllerWillPaste(c),null!=(C=this.responder)&&C.insertHTML(c.html),this.requestRender(),null!=(k=this.delegate)&&k.inputControllerDidPaste(c)):g.call(n.types,"Files")>=0&&(a=null!=(m=n.items)&&null!=(v=m[0])&&"function"==typeof v.getAsFile?v.getAsFile():void 0)&&(!a.name&&(i=o(a))&&(a.name="pasted-file-"+ ++p+"."+i),c.type="File",c.file=a,null!=(y=this.delegate)&&y.inputControllerWillAttachFiles(),null!=(E=this.responder)&&E.insertFile(c.file),this.requestRender(),null!=(b=this.delegate)&&b.inputControllerDidPaste(c)),e.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(t){return this.inputSummary.didInput=!0,t.stopPropagation()}},a.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},delete:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},return:function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{return:function(t){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n"),this.requestRender(),t.preventDefault()},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},a.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new e(this)},a.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},a.prototype.deleteInDirection=function(t,e){var n;return!1!==(null!=(n=this.responder)?n.deleteInDirection(t):void 0)?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},a.prototype.serializeSelectionToDataTransfer=function(e){var n,r;if(i(e))return n=null!=(r=this.responder)?r.getSelectedDocument().toSerializableDocument():void 0,e.setData("application/x-trix-document",JSON.stringify(n)),e.setData("text/html",t.DocumentView.render(n).innerHTML),e.setData("text/plain",n.toString().replace(/\n$/,"")),!0},a.prototype.canAcceptDataTransfer=function(t){var e,n,r,i,o;for(o={},e=0,n=(i=null!=(r=null!=t?t.types:void 0)?r:[]).length;n>e;e++)o[i[e]]=!0;return o.Files||o["application/x-trix-document"]||o["text/html"]||o["text/plain"]},a.prototype.getPastedHTMLUsingHiddenElement=function(e){var n,r,i,o;return r=this.getSelectedRange(),i={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},n=l({style:i,tagName:"div",editable:!0}),document.body.appendChild(n),n.focus(),requestAnimationFrame((o=this,function(){var i;return i=n.innerHTML,t.removeNode(n),o.setSelectedRange(r),e(i)}))},a.proxyMethod("responder?.getSelectedRange"),a.proxyMethod("responder?.setSelectedRange"),a.proxyMethod("responder?.expandSelectionInDirection"),a.proxyMethod("responder?.selectionIsInCursorTarget"),a.proxyMethod("responder?.selectionIsExpanded"),a}(t.InputController),o=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\/(\w+)$/))?n[1]:void 0},a=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),f=function(e){var n;return e.key&&a&&e.key.codePointAt(0)===e.keyCode?e.key:(null===e.which?n=e.keyCode:0!==e.which&&0!==e.charCode&&(n=e.charCode),null!=n&&"escape"!==u[n]?t.UTF16String.fromCodepoints([n]).toString():void 0)},h=function(t){var e,n,r,i,o,a,s,u,l;if(s=t.clipboardData){if(g.call(s.types,"text/html")>=0){for(r=0,a=(u=s.types).length;a>r;r++)if(l=u[r],e=/^CorePasteboardFlavorType/.test(l),n=/^dyn\./.test(l)&&s.getData(l),e||n)return!0;return!1}return i=g.call(s.types,"com.apple.webarchive")>=0,o=g.call(s.types,"com.apple.flat-rtfd")>=0,i||o}},e=function(t){function e(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return d(e,t),e.prototype.start=function(t){var e,n;return this.data.start=t,this.isSignificant()?("keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0):void 0},e.prototype.update=function(t){var e;return this.data.update=t,this.isSignificant()&&(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},e.prototype.end=function(t){var e,n,r,i;return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(r=this.responder)&&r.insertString(this.data.end),null!=(i=this.responder)?i.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},e.prototype.getEndData=function(){return this.data.end},e.prototype.isEnded=function(){return null!=this.getEndData()},e.prototype.isSignificant=function(){return!n.composesExistingText||this.inputSummary.didInput},e.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&(null!=(e=this.data.end)?e.length:void 0)>0&&null!=this.range},e.proxyMethod("inputController.setInputSummary"),e.proxyMethod("inputController.requestRender"),e.proxyMethod("inputController.requestReparse"),e.proxyMethod("responder?.selectionIsExpanded"),e.proxyMethod("responder?.insertPlaceholder"),e.proxyMethod("responder?.selectPlaceholder"),e.proxyMethod("responder?.forgetPlaceholder"),e}(t.BasicObject)}.call(this),function(){var e,n,r,i=function(t,e){return function(){return t.apply(e,arguments)}},o={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=t.dataTransferIsPlainText,n=t.keyEventIsKeyboardCommand,r=t.objectsAreEqual,t.Level2InputController=function(s){function u(){return this.render=i(this.render,this),u.__super__.constructor.apply(this,arguments)}var l,c,h,f,d,p;return function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(u,s),u.prototype.elementDidMutate=function(){var t;return this.scheduledRender?this.composing&&null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidAllowUnhandledInput?t.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},u.prototype.scheduleRender=function(){return null!=this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},u.prototype.render=function(){var t;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||null!=(t=this.delegate)&&t.render(),"function"==typeof this.afterRender&&this.afterRender(),this.afterRender=null},u.prototype.reparse=function(){var t;return null!=(t=this.delegate)?t.reparse():void 0},u.prototype.events={keydown:function(t){var e,r,i,o;if(n(t)){if(e=c(t),null!=(o=this.delegate)?o.inputControllerDidReceiveKeyboardCommand(e):void 0)return t.preventDefault()}else if(i=t.key,t.altKey&&(i+="+Alt"),t.shiftKey&&(i+="+Shift"),r=this.keys[i])return this.withEvent(t,r)},paste:function(t){var e,n,r,i,o,a,s,u,l;return h(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):f(t)?(t.preventDefault(),n={type:"text/plain",string:t.clipboardData.getData("text/plain")},null!=(r=this.delegate)&&r.inputControllerWillPaste(n),null!=(i=this.responder)&&i.insertString(n.string),this.render(),null!=(o=this.delegate)?o.inputControllerDidPaste(n):void 0):(e=null!=(a=t.clipboardData)?a.getData("URL"):void 0)?(t.preventDefault(),n={type:"text/html",html:this.createLinkHTML(e)},null!=(s=this.delegate)&&s.inputControllerWillPaste(n),null!=(u=this.responder)&&u.insertHTML(n.html),this.render(),null!=(l=this.delegate)?l.inputControllerDidPaste(n):void 0):void 0},beforeinput:function(t){var e;return(e=this.inputTypes[t.inputType])?(this.withEvent(t,e),this.scheduleRender()):void 0},input:function(){return t.selectionChangeObserver.reset()},dragstart:function(t){var e,n;return(null!=(e=this.responder)?e.selectionContainsAttachments():void 0)?(t.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:null!=(n=this.responder)?n.getSelectedRange():void 0,point:d(t)}):void 0},dragenter:function(t){return l(t)?t.preventDefault():void 0},dragover:function(t){var e,n;if(this.dragging){if(t.preventDefault(),e=d(t),!r(e,this.dragging.point))return this.dragging.point=e,null!=(n=this.responder)?n.setLocationRangeFromPointRange(e):void 0}else if(l(t))return t.preventDefault()},drop:function(t){var e,n,r,i;return this.dragging?(t.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillMoveText(),null!=(r=this.responder)&&r.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):l(t)?(t.preventDefault(),e=d(t),null!=(i=this.responder)&&i.setLocationRangeFromPointRange(e),this.attachFiles(t.dataTransfer.files)):void 0},dragend:function(){var t;return this.dragging?(null!=(t=this.responder)&&t.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},u.prototype.keys={ArrowLeft:function(){var t,e;return(null!=(t=this.responder)?t.shouldManageMovingCursorInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var t,e;return(null!=(t=this.responder)?t.shouldManageMovingCursorInDirection("forward"):void 0)?(this.event.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var t,e,n;return(null!=(t=this.responder)?t.shouldManageDeletingInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var t,e;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(e=this.responder)&&e.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var t,e;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(e=this.responder)&&e.decreaseNestingLevel(),this.render()):void 0}},u.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange((function(){var t;return this.deleteByDragRange=null!=(t=this.responder)?t.getSelectedRange():void 0}))},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var t;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.increaseNestingLevel():void 0})):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var t;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.decreaseNestingLevel():void 0})):void 0},formatRemove:function(){return this.withTargetDOMRange((function(){var t,e,n,r;for(t in r=[],null!=(e=this.responder)?e.getCurrentAttributes():void 0)r.push(null!=(n=this.responder)?n.removeCurrentAttribute(t):void 0);return r}))},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var t;return null!=(t=this.delegate)?t.inputControllerWillPerformRedo():void 0},historyUndo:function(){var t;return null!=(t=this.delegate)?t.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var t,e;return(t=this.deleteByDragRange)?(this.deleteByDragRange=null,null!=(e=this.delegate)&&e.inputControllerWillMoveText(),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.moveTextFromRange(t):void 0}))):void 0},insertFromPaste:function(){var n,r,i,o,a,s,u,l,c,h,f,d;return n=this.event.dataTransfer,a={dataTransfer:n},(r=n.getData("URL"))?(this.event.preventDefault(),a.type="text/html",f=(o=n.getData("public.url-name"))?t.squishBreakableWhitespace(o).trim():r,a.html=this.createLinkHTML(r,f),null!=(s=this.delegate)&&s.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertHTML(a.html):void 0})),this.afterRender=(d=this,function(){var t;return null!=(t=d.delegate)?t.inputControllerDidPaste(a):void 0})):e(n)?(a.type="text/plain",a.string=n.getData("text/plain"),null!=(u=this.delegate)&&u.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertString(a.string):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):(i=n.getData("text/html"))?(this.event.preventDefault(),a.type="text/html",a.html=i,null!=(l=this.delegate)&&l.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertHTML(a.html):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):(null!=(c=n.files)?c.length:void 0)?(a.type="File",a.file=n.files[0],null!=(h=this.delegate)&&h.inputControllerWillPaste(a),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertFile(a.file):void 0})),this.afterRender=function(t){return function(){var e;return null!=(e=t.delegate)?e.inputControllerDidPaste(a):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString("\n")},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.insertLineBreak():void 0}))},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var t,e;return this.insertString(null!=(t=this.event.data)?t:null!=(e=this.event.dataTransfer)?e.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},u.prototype.insertString=function(t,e){var n;return null==t&&(t=""),null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var n;return null!=(n=this.responder)?n.insertString(t,e):void 0}))},u.prototype.toggleAttributeIfSupported=function(e){var n;return a.call(t.getAllAttributeNames(),e)>=0?(null!=(n=this.delegate)&&n.inputControllerWillPerformFormatting(e),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.toggleCurrentAttribute(e):void 0}))):void 0},u.prototype.activateAttributeIfSupported=function(e,n){var r;return a.call(t.getAllAttributeNames(),e)>=0?(null!=(r=this.delegate)&&r.inputControllerWillPerformFormatting(e),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.setCurrentAttribute(e,n):void 0}))):void 0},u.prototype.deleteInDirection=function(t,e){var n,r,i,o;return(null!=e?e:{recordUndoEntry:!0}).recordUndoEntry&&null!=(i=this.delegate)&&i.inputControllerWillPerformTyping(),o=this,r=function(){var e;return null!=(e=o.responder)?e.deleteInDirection(t):void 0},(n=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(n,r):r()},u.prototype.withTargetDOMRange=function(e,n){var r;return"function"==typeof e&&(n=e,e=this.getTargetDOMRange()),e?null!=(r=this.responder)?r.withTargetDOMRange(e,n.bind(this)):void 0:(t.selectionChangeObserver.reset(),n.call(this))},u.prototype.getTargetDOMRange=function(t){var e,n,r,i;return r=(null!=t?t:{minLength:0}).minLength,(i="function"==typeof(e=this.event).getTargetRanges?e.getTargetRanges():void 0)&&i.length&&(n=p(i[0]),0===r||n.toString().length>=r)?n:void 0},p=function(t){var e;return(e=document.createRange()).setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},u.prototype.withEvent=function(t,e){var n;this.event=t;try{n=e.call(this)}finally{this.event=null}return n},l=function(t){var e,n;return a.call(null!=(e=null!=(n=t.dataTransfer)?n.types:void 0)?e:[],"Files")>=0},h=function(t){var e;return(e=t.clipboardData)?a.call(e.types,"Files")>=0&&1===e.types.length&&e.files.length>=1:void 0},f=function(t){var e;return(e=t.clipboardData)?a.call(e.types,"text/plain")>=0&&1===e.types.length:void 0},c=function(t){var e;return e=[],t.altKey&&e.push("alt"),t.shiftKey&&e.push("shift"),e.push(t.key),e},d=function(t){return{x:t.clientX,y:t.clientY}},u}(t.InputController)}.call(this),function(){var e,n,r,i,o,a,s,u,l=function(t,e){return function(){return t.apply(e,arguments)}},c={}.hasOwnProperty;n=t.defer,r=t.handleEvent,a=t.makeElement,u=t.tagName,s=t.config,o=s.lang,e=s.css,i=s.keyNames,t.AttachmentEditorController=function(s){function h(t,e,n,r){this.attachmentPiece=t,this.element=e,this.container=n,this.options=null!=r?r:{},this.didBlurCaption=l(this.didBlurCaption,this),this.didChangeCaption=l(this.didChangeCaption,this),this.didInputCaption=l(this.didInputCaption,this),this.didKeyDownCaption=l(this.didKeyDownCaption,this),this.didClickActionButton=l(this.didClickActionButton,this),this.didClickToolbar=l(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,"a"===u(this.element)&&(this.element=this.element.firstChild),this.install()}var f;return function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(h,s),f=function(t){return function(){var e;return(e=t.apply(this,arguments)).do(),null==this.undos&&(this.undos=[]),this.undos.push(e.undo)}},h.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},h.prototype.uninstall=function(){var t,e;for(this.savePendingCaption();e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},h.prototype.savePendingCaption=function(){var t,e,n;return null!=this.pendingCaption?(t=this.pendingCaption,this.pendingCaption=null,t?null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestUpdatingAttributesForAttachment?e.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:t},this.attachment):void 0:null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestRemovingAttributeForAttachment?n.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},h.prototype.makeElementMutable=f((function(){return{do:(t=this,function(){return t.element.dataset.trixMutable=!0}),undo:function(t){return function(){return delete t.element.dataset.trixMutable}}(this)};var t})),h.prototype.addToolbar=f((function(){var n,i;return n=a({tagName:"div",className:e.attachmentToolbar,data:{trixMutable:!0},childNodes:a({tagName:"div",className:"trix-button-row",childNodes:a({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:a({tagName:"button",className:"trix-button trix-button--remove",textContent:o.remove,attributes:{title:o.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&n.appendChild(a({tagName:"div",className:e.attachmentMetadataContainer,childNodes:a({tagName:"span",className:e.attachmentMetadata,childNodes:[a({tagName:"span",className:e.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),a({tagName:"span",className:e.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),r("click",{onElement:n,withCallback:this.didClickToolbar}),r("click",{onElement:n,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:(i=this,function(){return i.element.appendChild(n)}),undo:function(){return t.removeNode(n)}}})),h.prototype.installCaptionEditor=f((function(){var i,s,u,l,c,h;return(l=a({tagName:"textarea",className:e.attachmentCaptionEditor,attributes:{placeholder:o.captionPlaceholder},data:{trixMutable:!0}})).value=this.attachmentPiece.getCaption(),(c=l.cloneNode()).classList.add("trix-autoresize-clone"),c.tabIndex=-1,i=function(){return c.value=l.value,l.style.height=c.scrollHeight+"px"},r("input",{onElement:l,withCallback:i}),r("input",{onElement:l,withCallback:this.didInputCaption}),r("keydown",{onElement:l,withCallback:this.didKeyDownCaption}),r("change",{onElement:l,withCallback:this.didChangeCaption}),r("blur",{onElement:l,withCallback:this.didBlurCaption}),u=this.element.querySelector("figcaption"),s=u.cloneNode(),{do:(h=this,function(){return u.style.display="none",s.appendChild(l),s.appendChild(c),s.classList.add(e.attachmentCaption+"--editing"),u.parentElement.insertBefore(s,u),i(),h.options.editCaption?n((function(){return l.focus()})):void 0}),undo:function(){return t.removeNode(s),u.style.display=null}}})),h.prototype.didClickToolbar=function(t){return t.preventDefault(),t.stopPropagation()},h.prototype.didClickActionButton=function(t){var e;if("remove"===t.target.getAttribute("data-trix-action"))return null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},h.prototype.didKeyDownCaption=function(t){var e;return"return"===i[t.keyCode]?(t.preventDefault(),this.savePendingCaption(),null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},h.prototype.didInputCaption=function(t){return this.pendingCaption=t.target.value.replace(/\s/g," ").trim()},h.prototype.didChangeCaption=function(){return this.savePendingCaption()},h.prototype.didBlurCaption=function(){return this.savePendingCaption()},h}(t.BasicObject)}.call(this),function(){var e,n,r,i={}.hasOwnProperty;r=t.makeElement,e=t.config.css,t.AttachmentView=function(o){function a(){a.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var s;return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(a,o),a.attachmentSelector="[data-trix-attachment]",a.prototype.createContentNodes=function(){return[]},a.prototype.createNodes=function(){var t,n,i,o,a,u,l;if(t=o=r({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(n=this.getHref())&&(o=r({tagName:"a",editable:!1,attributes:{href:n,tabindex:-1}}),t.appendChild(o)),this.attachment.hasContent())o.innerHTML=this.attachment.getContent();else for(i=0,a=(l=this.createContentNodes()).length;a>i;i++)u=l[i],o.appendChild(u);return o.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=r({tagName:"progress",attributes:{class:e.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),t.appendChild(this.progressElement)),[s("left"),t,s("right")]},a.prototype.createCaptionElement=function(){var t,n,i,o,a,s,u;return i=r({tagName:"figcaption",className:e.attachmentCaption}),(t=this.attachmentPiece.getCaption())?(i.classList.add(e.attachmentCaption+"--edited"),i.textContent=t):((n=this.getCaptionConfig()).name&&(o=this.attachment.getFilename()),n.size&&(s=this.attachment.getFormattedFilesize()),o&&(a=r({tagName:"span",className:e.attachmentName,textContent:o}),i.appendChild(a)),s&&(o&&i.appendChild(document.createTextNode(" ")),u=r({tagName:"span",className:e.attachmentSize,textContent:s}),i.appendChild(u))),i},a.prototype.getClassName=function(){var t,n;return n=[e.attachment,e.attachment+"--"+this.attachment.getType()],(t=this.attachment.getExtension())&&n.push(e.attachment+"--"+t),n.join(" ")},a.prototype.getData=function(){var t,e;return e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(t=this.attachmentPiece.attributes).isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e},a.prototype.getHref=function(){return n(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},a.prototype.getCaptionConfig=function(){var e,n,r;return r=this.attachment.getType(),e=t.copyObject(null!=(n=t.config.attachments[r])?n.caption:void 0),"file"===r&&(e.name=!0),e},a.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector("progress"):void 0},s=function(e){return r({tagName:"span",textContent:t.ZERO_WIDTH_SPACE,data:{trixCursorTarget:e,trixSerialize:!1}})},a.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},a}(t.ObjectView),n=function(t,e){var n;return(n=r("div")).innerHTML=null!=t?t:"",n.querySelector(e)}}.call(this),function(){var e,n={}.hasOwnProperty;e=t.makeElement,t.PreviewableAttachmentView=function(r){function i(){i.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(i,r),i.prototype.createContentNodes=function(){return this.image=e({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},i.prototype.createCaptionElement=function(){var e;return(e=i.__super__.createCaptionElement.apply(this,arguments)).textContent||e.setAttribute("data-trix-placeholder",t.config.lang.captionPlaceholder),e},i.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector("img"):void 0),t?this.updateAttributesForImage(t):void 0},i.prototype.updateAttributesForImage=function(t){var e,n,r,i,o,a;return o=this.attachment.getURL(),n=this.attachment.getPreviewURL(),t.src=n||o,n===o?t.removeAttribute("data-trix-serialized-attributes"):(r=JSON.stringify({src:o}),t.setAttribute("data-trix-serialized-attributes",r)),a=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=a&&(t.width=a),null!=e&&(t.height=e),i=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/"),t.dataset.trixStoreKey=i},i.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},i}(t.AttachmentView)}.call(this),function(){var e,n,r,i={}.hasOwnProperty;r=t.makeElement,e=t.findInnerElement,n=t.getTextConfig,t.PieceView=function(o){function a(){var t;a.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var s;return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(a,o),a.prototype.createNodes=function(){var t,n,r,i,o,a;if(a=this.attachment?this.createAttachmentNodes():this.createStringNodes(),t=this.createElement()){for(r=e(t),n=0,i=a.length;i>n;n++)o=a[n],r.appendChild(o);a=[t]}return a},a.prototype.createAttachmentNodes=function(){var e;return e=this.attachment.isPreviewable()?t.PreviewableAttachmentView:t.AttachmentView,this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()},a.prototype.createStringNodes=function(){var t,e,n,i,o,a,s,u,l;if(null!=(s=this.textConfig)?s.plaintext:void 0)return[document.createTextNode(this.string)];for(a=[],n=e=0,i=(u=this.string.split("\n")).length;i>e;n=++e)l=u[n],n>0&&(t=r("br"),a.push(t)),l.length&&(o=document.createTextNode(this.preserveSpaces(l)),a.push(o));return a},a.prototype.createElement=function(){var t,e,i,o,a,s,u,l,c;for(o in l={},s=this.attributes)if(c=s[o],(t=n(o))&&(t.tagName&&(a=r(t.tagName),i?(i.appendChild(a),i=a):e=i=a),t.styleProperty&&(l[t.styleProperty]=c),t.style))for(o in u=t.style)c=u[o],l[o]=c;if(Object.keys(l).length)for(o in null==e&&(e=r("span")),l)c=l[o],e.style[o]=c;return e},a.prototype.createContainerElement=function(){var t,e,i,o,a;for(i in o=this.attributes)if(a=o[i],(e=n(i))&&e.groupTagName)return(t={})[i]=a,r(e.groupTagName,t)},s=t.NON_BREAKING_SPACE,a.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\ $/,s)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 "+s+" $2").replace(/\ {2}/g,s+" ").replace(/\ {2}/g," "+s),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,s)),t},a}(t.ObjectView)}.call(this),function(){var e={}.hasOwnProperty;t.TextView=function(n){function r(){r.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var i;return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(r,n),r.prototype.createNodes=function(){var e,n,r,o,a,s,u,l,c,h;for(s=[],o=(l=t.ObjectGroup.groupObjects(this.getPieces())).length-1,r=n=0,a=l.length;a>n;r=++n)u=l[r],e={},0===r&&(e.isFirst=!0),r===o&&(e.isLast=!0),i(c)&&(e.followsWhitespace=!0),h=this.findOrCreateCachedChildView(t.PieceView,u,{textConfig:this.textConfig,context:e}),s.push.apply(s,h.getNodes()),c=u;return s},r.prototype.getPieces=function(){var t,e,n,r,i;for(i=[],t=0,e=(r=this.text.getPieces()).length;e>t;t++)(n=r[t]).hasAttribute("blockBreak")||i.push(n);return i},i=function(t){return/\s$/.test(null!=t?t.toString():void 0)},r}(t.ObjectView)}.call(this),function(){var e,n,r,i={}.hasOwnProperty;r=t.makeElement,n=t.getBlockConfig,e=t.config.css,t.BlockView=function(o){function a(){a.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(a,o),a.prototype.createNodes=function(){var e,i,o,a,s,u,l,c,h,f;if(u=[document.createComment("block")],this.block.isEmpty()?u.push(r("br")):(h=null!=(l=n(this.block.getLastAttribute()))?l.text:void 0,f=this.findOrCreateCachedChildView(t.TextView,this.block.text,{textConfig:h}),u.push.apply(u,f.getNodes()),this.shouldAddExtraNewlineElement()&&u.push(r("br"))),this.attributes.length)return u;for(c=t.config.blockAttributes.default.tagName,this.block.isRTL()&&(e={dir:"rtl"}),i=r({tagName:c,attributes:e}),o=0,a=u.length;a>o;o++)s=u[o],i.appendChild(s);return[i]},a.prototype.createContainerElement=function(t){var i,o,a,s,u;return i=this.attributes[t],u=n(i).tagName,0===t&&this.block.isRTL()&&(o={dir:"rtl"}),"attachmentGallery"===i&&(s=this.block.getBlockBreakPosition(),a=e.attachmentGallery+" "+e.attachmentGallery+"--"+s),r({tagName:u,className:a,attributes:o})},a.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},a}(t.ObjectView)}.call(this),function(){var e,n,r={}.hasOwnProperty;e=t.defer,n=t.makeElement,t.DocumentView=function(i){function o(){o.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new t.ElementStore,this.setDocument(this.object)}var a,s,u;return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(o,i),o.render=function(t){var e,r;return(r=new this(t,{element:e=n("div")})).render(),r.sync(),e},o.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},o.prototype.render=function(){var e,r,i,o,a,s,u;if(this.childViews=[],this.shadowElement=n("div"),!this.document.isEmpty()){for(s=[],e=0,r=(a=t.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;r>e;e++)o=a[e],u=this.findOrCreateCachedChildView(t.BlockView,o),s.push(function(){var t,e,n,r;for(r=[],t=0,e=(n=u.getNodes()).length;e>t;t++)i=n[t],r.push(this.shadowElement.appendChild(i));return r}.call(this));return s}},o.prototype.isSynced=function(){return a(this.shadowElement,this.element)},o.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},o.prototype.didSync=function(){return this.elementStore.reset(s(this.element)),e((t=this,function(){return t.garbageCollectCachedViews()}));var t},o.prototype.createDocumentFragmentForSync=function(){var t,e,n,r,i,o,a,u,l,c;for(e=document.createDocumentFragment(),n=0,i=(u=this.shadowElement.childNodes).length;i>n;n++)a=u[n],e.appendChild(a.cloneNode(!0));for(r=0,o=(l=s(e)).length;o>r;r++)t=l[r],(c=this.elementStore.remove(t))&&t.parentNode.replaceChild(c,t);return e},s=function(t){return t.querySelectorAll("[data-trix-store-key]")},a=function(t,e){return u(t.innerHTML)===u(e.innerHTML)},u=function(t){return t.replace(/&nbsp;/g," ")},o}(t.ObjectView)}.call(this),function(){var e,n,r,i,o,a=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty;r=t.findClosestElementFromNode,i=t.handleEvent,o=t.innerElementIsActive,n=t.defer,e=t.AttachmentView.attachmentSelector,t.CompositionController=function(u){function l(n,r){this.element=n,this.composition=r,this.didClickAttachment=a(this.didClickAttachment,this),this.didBlur=a(this.didBlur,this),this.didFocus=a(this.didFocus,this),this.documentView=new t.DocumentView(this.composition.document,{element:this.element}),i("focus",{onElement:this.element,withCallback:this.didFocus}),i("blur",{onElement:this.element,withCallback:this.didBlur}),i("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),i("mousedown",{onElement:this.element,matchingSelector:e,withCallback:this.didClickAttachment}),i("click",{onElement:this.element,matchingSelector:"a"+e,preventDefault:!0})}return function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(l,u),l.prototype.didFocus=function(){var t,e,n,r;return r=this,t=function(){var t;return r.focused?void 0:(r.focused=!0,null!=(t=r.delegate)&&"function"==typeof t.compositionControllerDidFocus?t.compositionControllerDidFocus():void 0)},null!=(e=null!=(n=this.blurPromise)?n.then(t):void 0)?e:t()},l.prototype.didBlur=function(){return this.blurPromise=new Promise((t=this,function(e){return n((function(){var n;return o(t.element)||(t.focused=null,null!=(n=t.delegate)&&"function"==typeof n.compositionControllerDidBlur&&n.compositionControllerDidBlur()),t.blurPromise=null,e()}))}));var t},l.prototype.didClickAttachment=function(t,e){var n,i,o;return n=this.findAttachmentForElement(e),i=null!=r(t.target,{matchingSelector:"figcaption"}),null!=(o=this.delegate)&&"function"==typeof o.compositionControllerDidSelectAttachment?o.compositionControllerDidSelectAttachment(n,{editCaption:i}):void 0},l.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},l.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null!=(t=this.delegate)&&"function"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},l.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},l.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},l.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},l.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},l.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},l.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},l.prototype.isEditingAttachment=function(){return null!=this.attachmentEditor},l.prototype.installAttachmentEditorForAttachment=function(e,n){var r,i,o;if((null!=(o=this.attachmentEditor)?o.attachment:void 0)!==e&&(i=this.documentView.findElementForObject(e)))return this.uninstallAttachmentEditor(),r=this.composition.document.getAttachmentPieceForAttachment(e),this.attachmentEditor=new t.AttachmentEditorController(r,i,this.element,n),this.attachmentEditor.delegate=this},l.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},l.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},l.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},l.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},l.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},l.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},l.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},l.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},l}(t.BasicObject)}.call(this),function(){var e,n,r,i=function(t,e){return function(){return t.apply(e,arguments)}},o={}.hasOwnProperty;n=t.handleEvent,r=t.triggerEvent,e=t.findClosestElementFromNode,t.ToolbarController=function(t){function a(t){this.element=t,this.didKeyDownDialogInput=i(this.didKeyDownDialogInput,this),this.didClickDialogButton=i(this.didClickDialogButton,this),this.didClickAttributeButton=i(this.didClickAttributeButton,this),this.didClickActionButton=i(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),n("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickActionButton}),n("mousedown",{onElement:this.element,matchingSelector:u,withCallback:this.didClickAttributeButton}),n("click",{onElement:this.element,matchingSelector:m,preventDefault:!0}),n("click",{onElement:this.element,matchingSelector:l,withCallback:this.didClickDialogButton}),n("keydown",{onElement:this.element,matchingSelector:c,withCallback:this.didKeyDownDialogInput})}var s,u,l,c,h,f,d,p,g,m;return function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(a,t),m=(u="[data-trix-attribute]")+", "+(s="[data-trix-action]"),(h="[data-trix-dialog]")+"[data-trix-active]",l=h+" [data-trix-method]",c=h+" [data-trix-input]",a.prototype.didClickActionButton=function(t,e){var n,r,i;return null!=(r=this.delegate)&&r.toolbarDidClickButton(),t.preventDefault(),n=f(e),this.getDialog(n)?this.toggleDialog(n):null!=(i=this.delegate)?i.toolbarDidInvokeAction(n):void 0},a.prototype.didClickAttributeButton=function(t,e){var n,r,i;return null!=(r=this.delegate)&&r.toolbarDidClickButton(),t.preventDefault(),n=d(e),this.getDialog(n)?this.toggleDialog(n):null!=(i=this.delegate)&&i.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},a.prototype.didClickDialogButton=function(t,n){var r;return r=e(n,{matchingSelector:h}),this[n.getAttribute("data-trix-method")].call(this,r)},a.prototype.didKeyDownDialogInput=function(t,e){var n,r;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute("name"),r=this.getDialog(n),this.setAttribute(r)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},a.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},a.prototype.refreshActionButtons=function(){return this.eachActionButton((t=this,function(e,n){return e.disabled=!1===t.actions[n]}));var t},a.prototype.eachActionButton=function(t){var e,n,r,i,o;for(o=[],n=0,r=(i=this.element.querySelectorAll(s)).length;r>n;n++)e=i[n],o.push(t(e,f(e)));return o},a.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},a.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton((t=this,function(e,n){return e.disabled=!1===t.attributes[n],t.attributes[n]||t.dialogIsVisible(n)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))}));var t},a.prototype.eachAttributeButton=function(t){var e,n,r,i,o;for(o=[],n=0,r=(i=this.element.querySelectorAll(u)).length;r>n;n++)e=i[n],o.push(t(e,d(e)));return o},a.prototype.applyKeyboardCommand=function(t){var e,n,i,o,a,s;for(o=JSON.stringify(t.sort()),i=0,a=(s=this.element.querySelectorAll("[data-trix-key]")).length;a>i;i++)if(n=(e=s[i]).getAttribute("data-trix-key").split("+"),JSON.stringify(n.sort())===o)return r("mousedown",{onElement:e}),!0;return!1},a.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.hasAttribute("data-trix-active"):void 0},a.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},a.prototype.showDialog=function(t){var e,n,r,i,o,a,s,u,l;for(this.hideDialog(),null!=(a=this.delegate)&&a.toolbarWillShowDialog(),(n=this.getDialog(t)).setAttribute("data-trix-active",""),n.classList.add("trix-active"),r=0,o=(s=n.querySelectorAll("input[disabled]")).length;o>r;r++)s[r].removeAttribute("disabled");return(e=d(n))&&(i=g(n,t))&&(i.value=null!=(u=this.attributes[e])?u:"",i.select()),null!=(l=this.delegate)?l.toolbarDidShowDialog(t):void 0},a.prototype.setAttribute=function(t){var e,n,r;return e=d(t),(n=g(t,e)).willValidate&&!n.checkValidity()?(n.setAttribute("data-trix-validate",""),n.classList.add("trix-validate"),n.focus()):(null!=(r=this.delegate)&&r.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},a.prototype.removeAttribute=function(t){var e,n;return e=d(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},a.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector("[data-trix-dialog][data-trix-active]"))?(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(p(t)):void 0):void 0},a.prototype.resetDialogInputs=function(){var t,e,n,r,i;for(i=[],t=0,n=(r=this.element.querySelectorAll(c)).length;n>t;t++)(e=r[t]).setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),i.push(e.classList.remove("trix-validate"));return i},a.prototype.getDialog=function(t){return this.element.querySelector("[data-trix-dialog="+t+"]")},g=function(t,e){return null==e&&(e=d(t)),t.querySelector("[data-trix-input][name='"+e+"']")},f=function(t){return t.getAttribute("data-trix-action")},d=function(t){var e;return null!=(e=t.getAttribute("data-trix-attribute"))?e:t.getAttribute("data-trix-dialog-attribute")},p=function(t){return t.getAttribute("data-trix-dialog")},a}(t.BasicObject)}.call(this),function(){var e={}.hasOwnProperty;t.ImagePreloadOperation=function(t){function n(t){this.url=t}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(n,t),n.prototype.perform=function(t){var e,n;return(e=new Image).onload=(n=this,function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}),e.onerror=function(){return t(!1)},e.src=this.url},n}(t.Operation)}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;t.Attachment=function(r){function i(n){null==n&&(n={}),this.releaseFile=e(this.releaseFile,this),i.__super__.constructor.apply(this,arguments),this.attributes=t.Hash.box(n),this.didChangeAttributes()}return function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(i,r),i.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,i.attachmentForFile=function(t){var e;return(e=new this(this.attributesForFile(t))).setFile(t),e},i.attributesForFile=function(e){return new t.Hash({filename:e.name,filesize:e.size,contentType:e.type})},i.fromJSON=function(t){return new this(t)},i.prototype.getAttribute=function(t){return this.attributes.get(t)},i.prototype.hasAttribute=function(t){return this.attributes.has(t)},i.prototype.getAttributes=function(){return this.attributes.toObject()},i.prototype.setAttributes=function(t){var e,n,r;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.previewDelegate)&&"function"==typeof n.attachmentDidChangeAttributes&&n.attachmentDidChangeAttributes(this),null!=(r=this.delegate)&&"function"==typeof r.attachmentDidChangeAttributes?r.attachmentDidChangeAttributes(this):void 0)},i.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},i.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},i.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},i.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},i.prototype.getURL=function(){return this.attributes.get("url")},i.prototype.getHref=function(){return this.attributes.get("href")},i.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get("filename"))?t:""},i.prototype.getFilesize=function(){return this.attributes.get("filesize")},i.prototype.getFormattedFilesize=function(){var e;return"number"==typeof(e=this.attributes.get("filesize"))?t.config.fileSize.formatter(e):""},i.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\.(\w+)$/))?t[1].toLowerCase():void 0},i.prototype.getContentType=function(){return this.attributes.get("contentType")},i.prototype.hasContent=function(){return this.attributes.has("content")},i.prototype.getContent=function(){return this.attributes.get("content")},i.prototype.getWidth=function(){return this.attributes.get("width")},i.prototype.getHeight=function(){return this.attributes.get("height")},i.prototype.getFile=function(){return this.file},i.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},i.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},i.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},i.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},i.prototype.toJSON=function(){return this.getAttributes()},i.prototype.getCacheKey=function(){return[i.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},i.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},i.prototype.setPreviewURL=function(t){var e,n;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&"function"==typeof e.attachmentDidChangeAttributes&&e.attachmentDidChangeAttributes(this),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},i.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},i.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},i.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},i.prototype.preload=function(e,n){var r,i;return e&&e!==this.getPreviewURL()?(this.preloadingURL=e,new t.ImagePreloadOperation(e).then((i=this,function(t){var r,o;return o=t.width,r=t.height,i.getWidth()&&i.getHeight()||i.setAttributes({width:o,height:r}),i.preloadingURL=null,i.setPreviewURL(e),"function"==typeof n?n():void 0})).catch((r=this,function(){return r.preloadingURL=null,"function"==typeof n?n():void 0}))):void 0},i}(t.Object)}.call(this),function(){var e={}.hasOwnProperty;t.Piece=function(n){function r(e,n){null==n&&(n={}),r.__super__.constructor.apply(this,arguments),this.attributes=t.Hash.box(n)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(r,n),r.types={},r.registerType=function(t,e){return e.type=t,this.types[t]=e},r.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},r.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},r.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},r.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},r.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},r.prototype.getAttribute=function(t){return this.attributes.get(t)},r.prototype.getAttributesHash=function(){return this.attributes},r.prototype.getAttributes=function(){return this.attributes.toObject()},r.prototype.getCommonAttributes=function(){var t,e,n;return(n=pieceList.getPieceAtIndex(0))?(t=n.attributes,e=t.getKeys(),pieceList.eachPiece((function(n){return e=t.getKeysCommonToHash(n.attributes),t=t.slice(e)})),t.toObject()):{}},r.prototype.hasAttribute=function(t){return this.attributes.has(t)},r.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},r.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},r.prototype.isBlockBreak=function(){return!1},r.prototype.isEqualTo=function(t){return r.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},r.prototype.isEmpty=function(){return 0===this.length},r.prototype.isSerializable=function(){return!0},r.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},r.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},r.prototype.canBeGrouped=function(){return this.hasAttribute("href")},r.prototype.canBeGroupedWith=function(t){return this.getAttribute("href")===t.getAttribute("href")},r.prototype.getLength=function(){return this.length},r.prototype.canBeConsolidatedWith=function(){return!1},r}(t.Object)}.call(this),function(){var e={}.hasOwnProperty;t.Piece.registerType("attachment",t.AttachmentPiece=function(n){function r(t){this.attachment=t,r.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(r,n),r.fromJSON=function(e){return new this(t.Attachment.fromJSON(e.attachment),e.attributes)},r.permittedAttributes=["caption","presentation"],r.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)?(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice(t)),this.attributes=this.attributes.remove(t)):void 0},r.prototype.removeProhibitedAttributes=function(){var t;return(t=this.attributes.slice(this.constructor.permittedAttributes)).isEqualTo(this.attributes)?void 0:this.attributes=t},r.prototype.getValue=function(){return this.attachment},r.prototype.isSerializable=function(){return!this.attachment.isPending()},r.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get("caption"))?t:""},r.prototype.isEqualTo=function(t){var e;return r.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},r.prototype.toString=function(){return t.OBJECT_REPLACEMENT_CHARACTER},r.prototype.toJSON=function(){var t;return(t=r.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,t},r.prototype.getCacheKey=function(){return[r.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},r.prototype.toConsole=function(){return JSON.stringify(this.toString())},r}(t.Piece))}.call(this),function(){var e,n={}.hasOwnProperty;e=t.normalizeNewlines,t.Piece.registerType("string",t.StringPiece=function(t){function r(t){r.__super__.constructor.apply(this,arguments),this.string=e(t),this.length=this.string.length}return function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,t),r.fromJSON=function(t){return new this(t.string,t.attributes)},r.prototype.getValue=function(){return this.string},r.prototype.toString=function(){return this.string.toString()},r.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},r.prototype.toJSON=function(){var t;return(t=r.__super__.toJSON.apply(this,arguments)).string=this.string,t},r.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},r.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},r.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]},r.prototype.toConsole=function(){var t;return(t=this.string).length>15&&(t=t.slice(0,14)+""),JSON.stringify(t.toString())},r}(t.Piece))}.call(this),function(){var e,n={}.hasOwnProperty,r=[].slice;e=t.spliceArray,t.SplittableList=function(t){function i(t){null==t&&(t=[]),i.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var o,a,s;return function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(i,t),i.box=function(t){return t instanceof this?t:new this(t)},i.prototype.indexOf=function(t){return this.objects.indexOf(t)},i.prototype.splice=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],new this.constructor(e.apply(null,[this.objects].concat(r.call(t))))},i.prototype.eachObject=function(t){var e,n,r,i,o,a;for(a=[],n=e=0,r=(o=this.objects).length;r>e;n=++e)i=o[n],a.push(t(i,n));return a},i.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},i.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(r.call(t.objects)))},i.prototype.insertSplittableListAtPosition=function(t,e){var n,r,i;return r=(i=this.splitObjectAtPosition(e))[0],n=i[1],new this.constructor(r).insertSplittableListAtIndex(t,n)},i.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},i.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},i.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},i.prototype.getObjectAtIndex=function(t){return this.objects[t]},i.prototype.getSplittableListInRange=function(t){var e,n,r,i;return n=(r=this.splitObjectsAtRange(t))[0],e=r[1],i=r[2],new this.constructor(n.slice(e,i+1))},i.prototype.selectSplittableList=function(t){var e,n;return n=function(){var n,r,i,o;for(o=[],n=0,r=(i=this.objects).length;r>n;n++)e=i[n],t(e)&&o.push(e);return o}.call(this),new this.constructor(n)},i.prototype.removeObjectsInRange=function(t){var e,n,r,i;return n=(r=this.splitObjectsAtRange(t))[0],e=r[1],i=r[2],new this.constructor(n).splice(e,i-e+1)},i.prototype.transformObjectsInRange=function(t,e){var n,r,i,o,a,s,u;return a=this.splitObjectsAtRange(t),o=a[0],r=a[1],s=a[2],u=function(){var t,a,u;for(u=[],n=t=0,a=o.length;a>t;n=++t)i=o[n],u.push(n>=r&&s>=n?e(i):i);return u}(),new this.constructor(u)},i.prototype.splitObjectsAtRange=function(t){var e,n,r,i,a;return n=(i=this.splitObjectAtPosition(s(t)))[0],e=i[1],r=i[2],[n=(a=new this.constructor(n).splitObjectAtPosition(o(t)+r))[0],e,a[1]-1]},i.prototype.getObjectAtPosition=function(t){var e,n;return e=(n=this.findIndexAndOffsetAtPosition(t)).index,n.offset,this.objects[e]},i.prototype.splitObjectAtPosition=function(t){var e,n,r,i,o,a,s,u,l;return e=(o=this.findIndexAndOffsetAtPosition(t)).index,i=o.offset,r=this.objects.slice(0),null!=e?0===i?(u=e,l=0):(n=(a=this.getObjectAtIndex(e).splitAtOffset(i))[0],s=a[1],r.splice(e,1,n,s),u=e+1,l=n.getLength()-i):(u=r.length,l=0),[r,u,l]},i.prototype.consolidate=function(){var t,e,n,r,i,o;for(r=[],i=this.objects[0],t=0,e=(o=this.objects.slice(1)).length;e>t;t++)n=o[t],("function"==typeof i.canBeConsolidatedWith?i.canBeConsolidatedWith(n):void 0)?i=i.consolidateWith(n):(r.push(i),i=n);return null!=i&&r.push(i),new this.constructor(r)},i.prototype.consolidateFromIndexToIndex=function(t,e){var n,i;return i=this.objects.slice(0).slice(t,e+1),n=new this.constructor(i).consolidate().toArray(),this.splice.apply(this,[t,i.length].concat(r.call(n)))},i.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,r,i,o,a;for(e=0,r=n=0,i=(a=this.objects).length;i>n;r=++n){if(o=e+a[r].getLength(),t>=e&&o>t)return{index:r,offset:t-e};e=o}return{index:null,offset:null}},i.prototype.findPositionAtIndexAndOffset=function(t,e){var n,r,i,o,a,s;for(a=0,n=r=0,i=(s=this.objects).length;i>r;n=++r)if(o=s[n],t>n)a+=o.getLength();else if(n===t){a+=e;break}return a},i.prototype.getEndPosition=function(){var t,e;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var n,r,i;for(e=0,n=0,r=(i=this.objects).length;r>n;n++)t=i[n],e+=t.getLength();return e}.call(this)},i.prototype.toString=function(){return this.objects.join("")},i.prototype.toArray=function(){return this.objects.slice(0)},i.prototype.toJSON=function(){return this.toArray()},i.prototype.isEqualTo=function(t){return i.__super__.isEqualTo.apply(this,arguments)||a(this.objects,null!=t?t.objects:void 0)},a=function(t,e){var n,r,i,o,a;if(null==e&&(e=[]),t.length!==e.length)return!1;for(a=!0,r=n=0,i=t.length;i>n;r=++n)o=t[r],a&&!o.isEqualTo(e[r])&&(a=!1);return a},i.prototype.contentsForInspection=function(){var t;return{objects:"["+function(){var e,n,r,i;for(i=[],e=0,n=(r=this.objects).length;n>e;e++)t=r[e],i.push(t.inspect());return i}.call(this).join(", ")+"]"}},s=function(t){return t[0]},o=function(t){return t[1]},i}(t.Object)}.call(this),function(){var e={}.hasOwnProperty;t.Text=function(n){function r(e){var n;null==e&&(e=[]),r.__super__.constructor.apply(this,arguments),this.pieceList=new t.SplittableList(function(){var t,r,i;for(i=[],t=0,r=e.length;r>t;t++)(n=e[t]).isEmpty()||i.push(n);return i}())}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(r,n),r.textForAttachmentWithAttributes=function(e,n){return new this([new t.AttachmentPiece(e,n)])},r.textForStringWithAttributes=function(e,n){return new this([new t.StringPiece(e,n)])},r.fromJSON=function(e){var n;return new this(function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(t.Piece.fromJSON(n));return o}())},r.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},r.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},r.prototype.copyUsingObjectMap=function(t){var e,n;return n=function(){var n,r,i,o,a;for(a=[],n=0,r=(i=this.getPieces()).length;r>n;n++)e=i[n],a.push(null!=(o=t.find(e))?o:e);return a}.call(this),new this.constructor(n)},r.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},r.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},r.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},r.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},r.prototype.moveTextFromRangeToPosition=function(t,e){var n,r;if(!(t[0]<=e&&e<=t[1]))return n=(r=this.getTextAtRange(t)).getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(r,e)},r.prototype.addAttributeAtRange=function(t,e,n){var r;return(r={})[t]=e,this.addAttributesAtRange(r,n)},r.prototype.addAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(function(e){return e.copyWithAdditionalAttributes(t)})))},r.prototype.removeAttributeAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(function(e){return e.copyWithoutAttribute(t)})))},r.prototype.setAttributesAtRange=function(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(function(e){return e.copyWithAttributes(t)})))},r.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},r.prototype.getCommonAttributes=function(){var e,n;return e=function(){var t,e,r,i;for(i=[],t=0,e=(r=this.pieceList.toArray()).length;e>t;t++)n=r[t],i.push(n.getAttributes());return i}.call(this),t.Hash.fromCommonAttributesOfObjects(e).toObject()},r.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},r.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,r,i;for(n=i=e,r=this.getLength();n>0&&this.getCommonAttributesAtRange([n-1,i])[t];)n--;for(;r>i&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[n,i]},r.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},r.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},r.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},r.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},r.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},r.prototype.getAttachmentPieces=function(){var t,e,n,r,i;for(i=[],t=0,e=(r=this.pieceList.toArray()).length;e>t;t++)null!=(n=r[t]).attachment&&i.push(n);return i},r.prototype.getAttachments=function(){var t,e,n,r,i;for(i=[],t=0,e=(r=this.getAttachmentPieces()).length;e>t;t++)n=r[t],i.push(n.attachment);return i},r.prototype.getAttachmentAndPositionById=function(t){var e,n,r,i,o,a;for(i=0,e=0,n=(o=this.pieceList.toArray()).length;n>e;e++){if((null!=(a=(r=o[e]).attachment)?a.id:void 0)===t)return{attachment:r.attachment,position:i};i+=r.length}return{attachment:null,position:null}},r.prototype.getAttachmentById=function(t){var e,n;return e=(n=this.getAttachmentAndPositionById(t)).attachment,n.position,e},r.prototype.getRangeOfAttachment=function(t){var e,n;return t=(n=this.getAttachmentAndPositionById(t.id)).attachment,e=n.position,null!=t?[e,e+1]:void 0},r.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},r.prototype.getLength=function(){return this.pieceList.getEndPosition()},r.prototype.isEmpty=function(){return 0===this.getLength()},r.prototype.isEqualTo=function(t){var e;return r.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},r.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},r.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},r.prototype.getPieces=function(){return this.pieceList.toArray()},r.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},r.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},r.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList((function(t){return t.isSerializable()})),this.copyWithPieceList(t)},r.prototype.toString=function(){return this.pieceList.toString()},r.prototype.toJSON=function(){return this.pieceList.toJSON()},r.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,r,i;for(i=[],e=0,n=(r=this.pieceList.toArray()).length;n>e;e++)t=r[e],i.push(JSON.parse(t.toConsole()));return i}.call(this))},r.prototype.getDirection=function(){return t.getDirection(this.toString())},r.prototype.isRTL=function(){return"rtl"===this.getDirection()},r}(t.Object)}.call(this),function(){var e,n,r,i,o={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},s=[].slice;e=t.arraysAreEqual,i=t.spliceArray,n=t.getBlockConfig,t.getBlockAttributeNames,r=t.getListAttributeNames,t.Block=function(u){function l(e,n){null==e&&(e=new t.Text),null==n&&(n=[]),l.__super__.constructor.apply(this,arguments),this.text=h(e),this.attributes=n}var c,h,f,d,p,g,m,v,y;return function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(l,u),l.fromJSON=function(e){return new this(t.Text.fromJSON(e.text),e.attributes)},l.prototype.isEmpty=function(){return this.text.isBlockBreak()},l.prototype.isEqualTo=function(t){return l.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=t?t.text:void 0)&&e(this.attributes,null!=t?t.attributes:void 0)},l.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},l.prototype.copyWithoutText=function(){return this.copyWithText(null)},l.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},l.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},l.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},l.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(d(t)),this.copyWithAttributes(e)},l.prototype.removeAttribute=function(t){var e,r;return r=n(t).listAttribute,e=g(g(this.attributes,t),r),this.copyWithAttributes(e)},l.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},l.prototype.getLastAttribute=function(){return p(this.attributes)},l.prototype.getAttributes=function(){return this.attributes.slice(0)},l.prototype.getAttributeLevel=function(){return this.attributes.length},l.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},l.prototype.hasAttribute=function(t){return a.call(this.attributes,t)>=0},l.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},l.prototype.getLastNestableAttribute=function(){return p(this.getNestableAttributes())},l.prototype.getNestableAttributes=function(){var t,e,r,i,o;for(o=[],e=0,r=(i=this.attributes).length;r>e;e++)t=i[e],n(t).nestable&&o.push(t);return o},l.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},l.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},l.prototype.increaseNestingLevel=function(){var t,e,n;return(t=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(t),e=i.apply(null,[this.attributes,n+1,0].concat(s.call(d(t)))),this.copyWithAttributes(e)):this},l.prototype.getListItemAttributes=function(){var t,e,r,i,o;for(o=[],e=0,r=(i=this.attributes).length;r>e;e++)t=i[e],n(t).listAttribute&&o.push(t);return o},l.prototype.isListItem=function(){var t;return null!=(t=n(this.getLastAttribute()))?t.listAttribute:void 0},l.prototype.isTerminalBlock=function(){var t;return null!=(t=n(this.getLastAttribute()))?t.terminal:void 0},l.prototype.breaksOnReturn=function(){var t;return null!=(t=n(this.getLastAttribute()))?t.breakOnReturn:void 0},l.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,r;return r=this.toString(),-1!==(n=function(){switch(t){case"forward":return r.indexOf("\n",e);case"backward":return r.slice(0,e).lastIndexOf("\n")}}())?n:void 0},l.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},l.prototype.toString=function(){return this.text.toString()},l.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},l.prototype.getDirection=function(){return this.text.getDirection()},l.prototype.isRTL=function(){return this.text.isRTL()},l.prototype.getLength=function(){return this.text.getLength()},l.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()},l.prototype.consolidateWith=function(e){var n,r;return n=t.Text.textForStringWithAttributes("\n"),r=this.getTextWithoutBlockBreak().appendText(n),this.copyWithText(r.appendText(e.text))},l.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},l.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},l.prototype.getTextWithoutBlockBreak=function(){return m(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},l.prototype.canBeGrouped=function(t){return this.attributes[t]},l.prototype.canBeGroupedWith=function(t,e){var i,o,s,u;return o=(s=t.getAttributes())[e],!((i=this.attributes[e])!==o||!1===n(i).group&&(u=s[e+1],a.call(r(),u)<0)||this.getDirection()!==t.getDirection()&&!t.isEmpty())},h=function(t){return t=y(t),c(t)},y=function(e){var n,r,i,o,a,u;return o=!1,u=e.getPieces(),r=2<=u.length?s.call(u,0,n=u.length-1):(n=0,[]),null==(i=u[n++])?e:(r=function(){var t,e,n;for(n=[],t=0,e=r.length;e>t;t++)(a=r[t]).isBlockBreak()?(o=!0,n.push(v(a))):n.push(a);return n}(),o?new t.Text(s.call(r).concat([i])):e)},f=t.Text.textForStringWithAttributes("\n",{blockBreak:!0}),c=function(t){return m(t)?t:t.appendText(f)},m=function(t){var e;return 0!==(e=t.getLength())&&t.getTextAtRange([e-1,e]).isBlockBreak()},v=function(t){return t.copyWithoutAttribute("blockBreak")},d=function(t){var e;return null!=(e=n(t).listAttribute)?[e,t]:[t]},p=function(t){return t.slice(-1)[0]},g=function(t,e){var n;return-1===(n=t.lastIndexOf(e))?t:i(t,n,1)},l}(t.Object)}.call(this),function(){var e,n,r,i={}.hasOwnProperty,o=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},a=[].slice;n=t.tagName,r=t.walkTree,e=t.nodeIsAttachmentElement,t.HTMLSanitizer=function(s){function u(t,e){var n;n=null!=e?e:{},this.allowedAttributes=n.allowedAttributes,this.forbiddenProtocols=n.forbiddenProtocols,this.forbiddenElements=n.forbiddenElements,null==this.allowedAttributes&&(this.allowedAttributes=l),null==this.forbiddenProtocols&&(this.forbiddenProtocols=h),null==this.forbiddenElements&&(this.forbiddenElements=c),this.body=f(t)}var l,c,h,f;return function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(u,s),l="style href src width height class".split(" "),h="javascript:".split(" "),c="script iframe".split(" "),u.sanitize=function(t,e){var n;return(n=new this(t,e)).sanitize(),n},u.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},u.prototype.getHTML=function(){return this.body.innerHTML},u.prototype.getBody=function(){return this.body},u.prototype.sanitizeElements=function(){var e,n,i,o,a;for(a=r(this.body),o=[];a.nextNode();)switch((i=a.currentNode).nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?o.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:o.push(i)}for(e=0,n=o.length;n>e;e++)i=o[e],t.removeNode(i);return this.body},u.prototype.sanitizeElement=function(t){var e,n,r,i,s;for(t.hasAttribute("href")&&(i=t.protocol,o.call(this.forbiddenProtocols,i)>=0&&t.removeAttribute("href")),e=0,n=(s=a.call(t.attributes)).length;n>e;e++)r=s[e].name,o.call(this.allowedAttributes,r)>=0||0===r.indexOf("data-trix")||t.removeAttribute(r);return t},u.prototype.normalizeListElementNesting=function(){var t,e,r,i,o;for(t=0,e=(o=a.call(this.body.querySelectorAll("ul,ol"))).length;e>t;t++)(i=(r=o[t]).previousElementSibling)&&"li"===n(i)&&i.appendChild(r);return this.body},u.prototype.elementIsRemovable=function(t){return(null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(t)||this.elementIsntSerializable(t):void 0},u.prototype.elementIsForbidden=function(t){var e;return e=n(t),o.call(this.forbiddenElements,e)>=0},u.prototype.elementIsntSerializable=function(t){return"false"===t.getAttribute("data-trix-serialize")&&!e(t)},f=function(t){var e,n,r,i,o;for(null==t&&(t=""),t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(e=document.implementation.createHTMLDocument("")).documentElement.innerHTML=t,r=0,i=(o=e.head.querySelectorAll("style")).length;i>r;r++)n=o[r],e.body.appendChild(n);return e.body},u}(t.BasicObject)}.call(this),function(){var e,n,r,i,o,a,s,u,l,c,h,f={}.hasOwnProperty,d=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=t.arraysAreEqual,a=t.makeElement,c=t.tagName,o=t.getBlockTagNames,h=t.walkTree,i=t.findClosestElementFromNode,r=t.elementContainsNode,s=t.nodeIsAttachmentElement,u=t.normalizeSpaces,n=t.breakableWhitespacePattern,l=t.squishBreakableWhitespace,t.HTMLParser=function(p){function g(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var m,v,y,E,b,A,_,D,w,T,x,C;return function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(g,p),g.parse=function(t,e){var n;return(n=new this(t,e)).parse(),n},g.prototype.getDocument=function(){return t.Document.fromJSON(this.blocks)},g.prototype.parse=function(){var e,n;try{for(this.createHiddenContainer(),e=t.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=e,n=h(this.containerElement,{usingFilter:_});n.nextNode();)this.processNode(n.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},g.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=a({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},g.prototype.removeHiddenContainer=function(){return t.removeNode(this.containerElement)},_=function(t){return"style"===c(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},g.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},g.prototype.appendBlockForTextNode=function(t){var n,r,i;return(r=t.parentNode)===this.currentBlockElement&&this.isBlockElement(t.previousSibling)?this.appendStringWithAttributes("\n"):r!==this.containerElement&&!this.isBlockElement(r)||(n=this.getBlockAttributes(r),e(n,null!=(i=this.currentBlock)?i.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(n,r),this.currentBlockElement=r)},g.prototype.appendBlockForElement=function(t){var n,i,o,a;if(o=this.isBlockElement(t),i=r(this.currentBlockElement,t),o&&!this.isBlockElement(t.firstChild)){if((!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild))&&(n=this.getBlockAttributes(t),t.firstChild))return i&&e(n,this.currentBlock.attributes)?this.appendStringWithAttributes("\n"):(this.currentBlock=this.appendBlockForAttributesWithElement(n,t),this.currentBlockElement=t)}else if(this.currentBlockElement&&!i&&!o)return(a=this.findParentBlockElement(t))?this.appendBlockForElement(a):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},g.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&d.call(this.blockElements,e)>=0)return e;e=e.parentElement}return null},g.prototype.processTextNode=function(t){var e,n;return n=t.data,v(t.parentNode)||(n=l(n),x(null!=(e=t.previousSibling)?e.textContent:void 0)&&(n=b(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode))},g.prototype.processElement=function(t){var e,n,r,i,o;if(s(t))return e=D(t,"attachment"),Object.keys(e).length&&(i=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,i),t.innerHTML=""),this.processedElements.push(t);switch(c(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":for(n in e={url:t.getAttribute("src"),contentType:"image"},r=E(t))o=r[n],e[n]=o;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes("\n");break;case"td":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(" | ")}},g.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=m(t),this.blocks.push(n),n},g.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},g.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(T(t,e))},g.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(w(t,e))},g.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},g.prototype.appendStringToTextAtIndex=function(t,e){var n,r;return"string"===(null!=(n=(r=this.blocks[e].text)[r.length-1])?n.type:void 0)?n.string+=t:r.push(T(t))},g.prototype.prependStringToTextAtIndex=function(t,e){var n,r;return"string"===(null!=(n=(r=this.blocks[e].text)[0])?n.type:void 0)?n.string=t+n.string:r.unshift(T(t))},T=function(t,e){return null==e&&(e={}),"string",{string:t=u(t),attributes:e,type:"string"}},w=function(t,e){return null==e&&(e={}),"attachment",{attachment:t,attributes:e,type:"attachment"}},m=function(t){return null==t&&(t={}),{text:[],attributes:t}},g.prototype.getTextAttributes=function(e){var n,r,o,a,u,l,c,h,f,d,p,g;for(n in o={},f=t.config.textAttributes)if((u=f[n]).tagName&&i(e,{matchingSelector:u.tagName,untilNode:this.containerElement}))o[n]=!0;else if(u.parser){if(g=u.parser(e)){for(r=!1,l=0,h=(d=this.findBlockElementAncestors(e)).length;h>l;l++)if(a=d[l],u.parser(a)===g){r=!0;break}r||(o[n]=g)}}else u.styleProperty&&(g=e.style[u.styleProperty])&&(o[n]=g);if(s(e))for(c in p=D(e,"attributes"))g=p[c],o[c]=g;return o},g.prototype.getBlockAttributes=function(e){var n,r,i,o;for(r=[];e&&e!==this.containerElement;){for(n in o=t.config.blockAttributes)!1!==(i=o[n]).parse&&c(e)===i.tagName&&(("function"==typeof i.test?i.test(e):void 0)||!i.test)&&(r.push(n),i.listAttribute&&r.push(i.listAttribute));e=e.parentNode}return r.reverse()},g.prototype.findBlockElementAncestors=function(t){var e,n;for(e=[];t&&t!==this.containerElement;)n=c(t),d.call(o(),n)>=0&&e.push(t),t=t.parentNode;return e},D=function(t,e){try{return JSON.parse(t.getAttribute("data-trix-"+e))}catch(t){return{}}},E=function(t){var e,n,r;return r=t.getAttribute("width"),n=t.getAttribute("height"),e={},r&&(e.width=parseInt(r,10)),n&&(e.height=parseInt(n,10)),e},g.prototype.isBlockElement=function(t){var e;if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&!s(t)&&!i(t,{matchingSelector:"td",untilNode:this.containerElement}))return e=c(t),d.call(o(),e)>=0||"block"===window.getComputedStyle(t).display},g.prototype.isInsignificantTextNode=function(t){var e,n,r;if((null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&C(t.data)&&(n=t.parentNode,r=t.previousSibling,e=t.nextSibling,(!A(n.previousSibling)||this.isBlockElement(n.previousSibling))&&!v(n)))return!r||this.isBlockElement(r)||!e||this.isBlockElement(e)},g.prototype.isExtraBR=function(t){return"br"===c(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},v=function(t){var e;return"pre"===(e=window.getComputedStyle(t).whiteSpace)||"pre-wrap"===e||"pre-line"===e},A=function(t){return t&&!x(t.textContent)},g.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,r,i,o,a;for(t=this.getMarginOfDefaultBlockElement(),a=[],n=e=0,r=(o=this.blocks).length;r>e;n=++e)o[n],(i=this.getMarginOfBlockElementAtIndex(n))&&(i.top>2*t.top&&this.prependStringToTextAtIndex("\n",n),a.push(i.bottom>2*t.bottom?this.appendStringToTextAtIndex("\n",n):void 0));return a},g.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||!e.textContent||(n=c(e),d.call(o(),n)>=0||d.call(this.processedElements,e)>=0)?void 0:y(e)},g.prototype.getMarginOfDefaultBlockElement=function(){var e;return e=a(t.config.blockAttributes.default.tagName),this.containerElement.appendChild(e),y(e)},y=function(t){var e;return"block"===(e=window.getComputedStyle(t)).display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},b=function(t){return t.replace(RegExp("^"+n.source+"+"),"")},C=function(t){return RegExp("^"+n.source+"*$").test(t)},x=function(t){return/\s$/.test(t)},g}(t.BasicObject)}.call(this),function(){var e,n,r,i,o={}.hasOwnProperty,a=[].slice,s=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=t.arraysAreEqual,r=t.normalizeRange,i=t.rangeIsCollapsed,n=t.getBlockConfig,t.Document=function(u){function l(e){null==e&&(e=[]),l.__super__.constructor.apply(this,arguments),0===e.length&&(e=[new t.Block]),this.blockList=t.SplittableList.box(e)}var c;return function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(l,u),l.fromJSON=function(e){var n;return new this(function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(t.Block.fromJSON(n));return o}())},l.fromHTML=function(e,n){return t.HTMLParser.parse(e,n).getDocument()},l.fromString=function(e,n){var r;return r=t.Text.textForStringWithAttributes(e,n),new this([new t.Block(r)])},l.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&((t=this.getBlockAtIndex(0)).isEmpty()&&!t.hasAttributes())},l.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},l.prototype.copyUsingObjectsFromDocument=function(e){var n;return n=new t.ObjectMap(e.getObjects()),this.copyUsingObjectMap(n)},l.prototype.copyUsingObjectMap=function(t){var e,n,r;return n=function(){var n,i,o,a;for(a=[],n=0,i=(o=this.getBlocks()).length;i>n;n++)e=o[n],a.push((r=t.find(e))?r:e.copyUsingObjectMap(t));return a}.call(this),new this.constructor(n)},l.prototype.copyWithBaseBlockAttributes=function(t){var e,n,r;return null==t&&(t=[]),r=function(){var r,i,o,a;for(a=[],r=0,i=(o=this.getBlocks()).length;i>r;r++)n=o[r],e=t.concat(n.getAttributes()),a.push(n.copyWithAttributes(e));return a}.call(this),new this.constructor(r)},l.prototype.replaceBlock=function(t,e){var n;return-1===(n=this.blockList.indexOf(t))?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))},l.prototype.insertDocumentAtRange=function(t,e){var n,o,a,s,u,l,c;return o=t.blockList,u=(e=r(e))[0],a=(l=this.locationFromPosition(u)).index,s=l.offset,c=this,n=this.getBlockAtPosition(u),i(e)&&n.isEmpty()&&!n.hasAttributes()?c=new this.constructor(c.blockList.removeObjectAtIndex(a)):n.getBlockBreakPosition()===s&&u++,c=c.removeTextAtRange(e),new this.constructor(c.blockList.insertSplittableListAtPosition(o,u))},l.prototype.mergeDocumentAtRange=function(t,n){var i,o,a,s,u,l,c,h,f,d,p,g;return p=(n=r(n))[0],d=this.locationFromPosition(p),o=this.getBlockAtIndex(d.index).getAttributes(),i=t.getBaseBlockAttributes(),g=o.slice(-i.length),e(i,g)?(c=o.slice(0,-i.length),l=t.copyWithBaseBlockAttributes(c)):l=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(o),a=l.getBlockCount(),s=l.getBlockAtIndex(0),e(o,s.getAttributes())?(u=s.getTextWithoutBlockBreak(),f=this.insertTextAtRange(u,n),a>1&&(l=new this.constructor(l.getBlocks().slice(1)),h=p+u.getLength(),f=f.insertDocumentAtRange(l,h))):f=this.insertDocumentAtRange(l,n),f},l.prototype.insertTextAtRange=function(t,e){var n,i,o,a,s;return s=(e=r(e))[0],i=(a=this.locationFromPosition(s)).index,o=a.offset,n=this.removeTextAtRange(e),new this.constructor(n.blockList.editObjectAtIndex(i,(function(e){return e.copyWithText(e.text.insertTextAtPosition(t,o))})))},l.prototype.removeTextAtRange=function(t){var e,n,o,a,s,u,l,c,h,f,d,p,g,m,v,y,E,b;return c=(f=t=r(t))[0],y=f[1],i(t)?this:(u=(d=this.locationRangeFromRange(t))[0],m=d[1],s=u.index,l=u.offset,a=this.getBlockAtIndex(s),g=m.index,v=m.offset,p=this.getBlockAtIndex(g),y-c==1&&a.getBlockBreakPosition()===l&&p.getBlockBreakPosition()!==v&&"\n"===p.text.getStringAtPosition(v)?o=this.blockList.editObjectAtIndex(g,(function(t){return t.copyWithText(t.text.removeTextAtRange([v,v+1]))})):(h=a.text.getTextAtRange([0,l]),E=p.text.getTextAtRange([v,p.getLength()]),b=h.appendText(E),n=s!==g&&0===l&&a.getAttributeLevel()>=p.getAttributeLevel()?p.copyWithText(b):a.copyWithText(b),e=g+1-s,o=this.blockList.splice(s,e,n)),new this.constructor(o))},l.prototype.moveTextFromRangeToPosition=function(t,e){var n,i,o,s,u,l,c,h,f,d;return f=(l=t=r(t))[0],o=l[1],e>=f&&o>=e?this:(i=this.getDocumentAtRange(t),h=this.removeTextAtRange(t),(u=e>f)&&(e-=i.getLength()),s=(c=i.getBlocks())[0],0===(n=2<=c.length?a.call(c,1):[]).length?(d=s.getTextWithoutBlockBreak(),u&&(e+=1)):d=s.text,h=h.insertTextAtRange(d,e),0===n.length?h:(i=new this.constructor(n),e+=d.getLength(),h.insertDocumentAtRange(i,e)))},l.prototype.addAttributeAtRange=function(t,e,r){var i;return i=this.blockList,this.eachBlockAtRange(r,(function(r,o,a){return i=i.editObjectAtIndex(a,(function(){return n(t)?r.addAttribute(t,e):o[0]===o[1]?r:r.copyWithText(r.text.addAttributeAtRange(t,e,o))}))})),new this.constructor(i)},l.prototype.addAttribute=function(t,e){var n;return n=this.blockList,this.eachBlock((function(r,i){return n=n.editObjectAtIndex(i,(function(){return r.addAttribute(t,e)}))})),new this.constructor(n)},l.prototype.removeAttributeAtRange=function(t,e){var r;return r=this.blockList,this.eachBlockAtRange(e,(function(e,i,o){return n(t)?r=r.editObjectAtIndex(o,(function(){return e.removeAttribute(t)})):i[0]!==i[1]?r=r.editObjectAtIndex(o,(function(){return e.copyWithText(e.text.removeAttributeAtRange(t,i))})):void 0})),new this.constructor(r)},l.prototype.updateAttributesForAttachment=function(t,e){var n,r,i;return r=this.getRangeOfAttachment(e)[0],n=this.locationFromPosition(r).index,i=this.getTextAtIndex(n),new this.constructor(this.blockList.editObjectAtIndex(n,(function(n){return n.copyWithText(i.updateAttributesForAttachment(t,e))})))},l.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},l.prototype.insertBlockBreakAtRange=function(e){var n,i,o,a;return a=(e=r(e))[0],o=this.locationFromPosition(a).offset,i=this.removeTextAtRange(e),0===o&&(n=[new t.Block]),new this.constructor(i.blockList.insertSplittableListAtPosition(new t.SplittableList(n),a))},l.prototype.applyBlockAttributeAtRange=function(t,e,r){var i,o,a,s;return o=(a=this.expandRangeToLineBreaksAndSplitBlocks(r)).document,r=a.range,(i=n(t)).listAttribute?(s=(o=o.removeLastListAttributeAtRange(r,{exceptAttributeName:t})).convertLineBreaksToBlockBreaksInRange(r),o=s.document,r=s.range):o=i.exclusive?o.removeBlockAttributesAtRange(r):i.terminal?o.removeLastTerminalAttributeAtRange(r):o.consolidateBlocksAtRange(r),o.addAttributeAtRange(t,e,r)},l.prototype.removeLastListAttributeAtRange=function(t,e){var r;return null==e&&(e={}),r=this.blockList,this.eachBlockAtRange(t,(function(t,i,o){var a;if((a=t.getLastAttribute())&&n(a).listAttribute&&a!==e.exceptAttributeName)return r=r.editObjectAtIndex(o,(function(){return t.removeAttribute(a)}))})),new this.constructor(r)},l.prototype.removeLastTerminalAttributeAtRange=function(t){var e;return e=this.blockList,this.eachBlockAtRange(t,(function(t,r,i){var o;if((o=t.getLastAttribute())&&n(o).terminal)return e=e.editObjectAtIndex(i,(function(){return t.removeAttribute(o)}))})),new this.constructor(e)},l.prototype.removeBlockAttributesAtRange=function(t){var e;return e=this.blockList,this.eachBlockAtRange(t,(function(t,n,r){return t.hasAttributes()?e=e.editObjectAtIndex(r,(function(){return t.copyWithoutAttributes()})):void 0})),new this.constructor(e)},l.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,n,i,o,a,s,u,l,c;return c=(s=t=r(t))[0],o=s[1],l=this.locationFromPosition(c),i=this.locationFromPosition(o),u=(e=this).getBlockAtIndex(l.index),null!=(l.offset=u.findLineBreakInDirectionFromPosition("backward",l.offset))&&(a=e.positionFromLocation(l),e=e.insertBlockBreakAtRange([a,a+1]),i.index+=1,i.offset-=e.getBlockAtIndex(l.index).getLength(),l.index+=1),l.offset=0,0===i.offset&&i.index>l.index?(i.index-=1,i.offset=e.getBlockAtIndex(i.index).getBlockBreakPosition()):("\n"===(n=e.getBlockAtIndex(i.index)).text.getStringAtRange([i.offset-1,i.offset])?i.offset-=1:i.offset=n.findLineBreakInDirectionFromPosition("forward",i.offset),i.offset!==n.getBlockBreakPosition()&&(a=e.positionFromLocation(i),e=e.insertBlockBreakAtRange([a,a+1]))),c=e.positionFromLocation(l),o=e.positionFromLocation(i),{document:e,range:t=r([c,o])}},l.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,n,i;return n=(t=r(t))[0],i=this.getStringAtRange(t).slice(0,-1),e=this,i.replace(/.*?\n/g,(function(t){return n+=t.length,e=e.insertBlockBreakAtRange([n-1,n])})),{document:e,range:t}},l.prototype.consolidateBlocksAtRange=function(t){var e,n,i,o,a;return a=(i=t=r(t))[0],n=i[1],o=this.locationFromPosition(a).index,e=this.locationFromPosition(n).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(o,e))},l.prototype.getDocumentAtRange=function(t){var e;return t=r(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},l.prototype.getStringAtRange=function(t){var e,n;return(n=t=r(t))[n.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)},l.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},l.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},l.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},l.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},l.prototype.getPieceAtPosition=function(t){var e,n,r;return e=(r=this.locationFromPosition(t)).index,n=r.offset,this.getTextAtIndex(e).getPieceAtPosition(n)},l.prototype.getCharacterAtPosition=function(t){var e,n,r;return e=(r=this.locationFromPosition(t)).index,n=r.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},l.prototype.getLength=function(){return this.blockList.getEndPosition()},l.prototype.getBlocks=function(){return this.blockList.toArray()},l.prototype.getBlockCount=function(){return this.blockList.length},l.prototype.getEditCount=function(){return this.editCount},l.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},l.prototype.eachBlockAtRange=function(t,e){var n,i,o,a,s,u,l,c,h,f,d,p;if(d=(u=t=r(t))[0],o=u[1],f=this.locationFromPosition(d),i=this.locationFromPosition(o),f.index===i.index)return n=this.getBlockAtIndex(f.index),p=[f.offset,i.offset],e(n,p,f.index);for(h=[],s=a=l=f.index,c=i.index;c>=l?c>=a:a>=c;s=c>=l?++a:--a)(n=this.getBlockAtIndex(s))?(p=function(){switch(s){case f.index:return[f.offset,n.text.getLength()];case i.index:return[0,i.offset];default:return[0,n.text.getLength()]}}(),h.push(e(n,p,s))):h.push(void 0);return h},l.prototype.getCommonAttributesAtRange=function(e){var n,o,a;return o=(e=r(e))[0],i(e)?this.getCommonAttributesAtPosition(o):(a=[],n=[],this.eachBlockAtRange(e,(function(t,e){return e[0]!==e[1]?(a.push(t.text.getCommonAttributesAtRange(e)),n.push(c(t))):void 0})),t.Hash.fromCommonAttributesOfObjects(a).merge(t.Hash.fromCommonAttributesOfObjects(n)).toObject())},l.prototype.getCommonAttributesAtPosition=function(e){var n,r,i,o,a,u,l,h,f,d;if(a=(f=this.locationFromPosition(e)).index,h=f.offset,!(i=this.getBlockAtIndex(a)))return{};for(l in o=c(i),n=i.text.getAttributesAtPosition(h),r=i.text.getAttributesAtPosition(h-1),u=function(){var e,n;for(l in n=[],e=t.config.textAttributes)(d=e[l]).inheritable&&n.push(l);return n}(),r)((d=r[l])===n[l]||s.call(u,l)>=0)&&(o[l]=d);return o},l.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var n,i,o,a,s,u,l,c;return o=(s=this.locationFromPosition(e)).index,a=s.offset,c=(u=this.getTextAtIndex(o).getExpandedRangeForAttributeAtOffset(t,a))[0],i=u[1],l=this.positionFromLocation({index:o,offset:c}),n=this.positionFromLocation({index:o,offset:i}),r([l,n])},l.prototype.getBaseBlockAttributes=function(){var t,e,n,r,i,o,a;for(t=this.getBlockAtIndex(0).getAttributes(),n=r=1,a=this.getBlockCount();a>=1?a>r:r>a;n=a>=1?++r:--r)e=this.getBlockAtIndex(n).getAttributes(),o=Math.min(t.length,e.length),t=function(){var n,r,a;for(a=[],i=n=0,r=o;(r>=0?r>n:n>r)&&e[i]===t[i];i=r>=0?++n:--n)a.push(e[i]);return a}();return t},c=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},l.prototype.getAttachmentById=function(t){var e,n,r,i;for(n=0,r=(i=this.getAttachments()).length;r>n;n++)if((e=i[n]).id===t)return e},l.prototype.getAttachmentPieces=function(){var t;return t=[],this.blockList.eachObject((function(e){var n;return n=e.text,t=t.concat(n.getAttachmentPieces())})),t},l.prototype.getAttachments=function(){var t,e,n,r,i;for(i=[],t=0,e=(r=this.getAttachmentPieces()).length;e>t;t++)n=r[t],i.push(n.attachment);return i},l.prototype.getRangeOfAttachment=function(t){var e,n,i,o,a,s,u;for(o=0,n=e=0,i=(a=this.blockList.toArray()).length;i>e;n=++e){if(u=(s=a[n].text).getRangeOfAttachment(t))return r([o+u[0],o+u[1]]);o+=s.getLength()}},l.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},l.prototype.getAttachmentPieceForAttachment=function(t){var e,n,r,i;for(e=0,n=(i=this.getAttachmentPieces()).length;n>e;e++)if((r=i[e]).attachment===t)return r},l.prototype.findRangesForBlockAttribute=function(t){var e,n,r,i,o,a,s;for(o=0,a=[],n=0,r=(s=this.getBlocks()).length;r>n;n++)i=(e=s[n]).getLength(),e.hasAttribute(t)&&a.push([o,o+i]),o+=i;return a},l.prototype.findRangesForTextAttribute=function(t,e){var n,r,i,o,a,s,u,l,c,h;for(h=(null!=e?e:{}).withValue,s=0,u=[],l=[],o=function(e){return null!=h?e.getAttribute(t)===h:e.hasAttribute(t)},n=0,r=(c=this.getPieces()).length;r>n;n++)i=(a=c[n]).getLength(),o(a)&&(u[1]===s?u[1]=s+i:l.push(u=[s,s+i])),s+=i;return l},l.prototype.locationFromPosition=function(t){var e,n;return null!=(n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t))).index?n:{index:(e=this.getBlocks()).length-1,offset:e[e.length-1].getLength()}},l.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},l.prototype.locationRangeFromPosition=function(t){return r(this.locationFromPosition(t))},l.prototype.locationRangeFromRange=function(t){var e,n,i,o;if(t=r(t))return o=t[0],n=t[1],i=this.locationFromPosition(o),e=this.locationFromPosition(n),r([i,e])},l.prototype.rangeFromLocationRange=function(t){var e,n;return t=r(t),e=this.positionFromLocation(t[0]),i(t)||(n=this.positionFromLocation(t[1])),r([e,n])},l.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},l.prototype.getTexts=function(){var t,e,n,r,i;for(i=[],e=0,n=(r=this.getBlocks()).length;n>e;e++)t=r[e],i.push(t.text);return i},l.prototype.getPieces=function(){var t,e,n,r,i;for(n=[],t=0,e=(r=this.getTexts()).length;e>t;t++)i=r[t],n.push.apply(n,i.getPieces());return n},l.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},l.prototype.toSerializableDocument=function(){var t;return t=[],this.blockList.eachObject((function(e){return t.push(e.copyWithText(e.text.toSerializableText()))})),new this.constructor(t)},l.prototype.toString=function(){return this.blockList.toString()},l.prototype.toJSON=function(){return this.blockList.toJSON()},l.prototype.toConsole=function(){var t;return JSON.stringify(function(){var e,n,r,i;for(i=[],e=0,n=(r=this.blockList.toArray()).length;n>e;e++)t=r[e],i.push(JSON.parse(t.text.toConsole()));return i}.call(this))},l}(t.Object)}.call(this),function(){t.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var e,n,r,i,o,a,s,u,l,c,h={}.hasOwnProperty;a=t.normalizeRange,l=t.rangesAreEqual,u=t.rangeIsCollapsed,s=t.objectsAreEqual,e=t.arrayStartsWith,c=t.summarizeArrayChange,r=t.getAllAttributeNames,i=t.getBlockConfig,o=t.getTextConfig,n=t.extend,t.Composition=function(f){function d(){this.document=new t.Document,this.attachments=[],this.currentAttributes={},this.revision=0}return function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(d,f),d.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},d.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},d.prototype.loadSnapshot=function(e){var n,r,i,o;return n=e.document,o=e.selectedRange,null!=(r=this.delegate)&&"function"==typeof r.compositionWillLoadSnapshot&&r.compositionWillLoadSnapshot(),this.setDocument(null!=n?n:new t.Document),this.setSelection(null!=o?o:[0,0]),null!=(i=this.delegate)&&"function"==typeof i.compositionDidLoadSnapshot?i.compositionDidLoadSnapshot():void 0},d.prototype.insertText=function(t,e){var n,r,i,o;return o=(null!=e?e:{updatePosition:!0}).updatePosition,r=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,r)),n=(i=r[0])+t.getLength(),o&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([i,n])},d.prototype.insertBlock=function(e){var n;return null==e&&(e=new t.Block),n=new t.Document([e]),this.insertDocument(n)},d.prototype.insertDocument=function(e){var n,r,i;return null==e&&(e=new t.Document),r=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(e,r)),n=(i=r[0])+e.getLength(),this.setSelection(n),this.notifyDelegateOfInsertionAtRange([i,n])},d.prototype.insertString=function(e,n){var r,i;return r=this.getCurrentTextAttributes(),i=t.Text.textForStringWithAttributes(e,r),this.insertText(i,n)},d.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),t=(n=e[0])+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},d.prototype.insertLineBreak=function(){var e,n;return(n=new t.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(n.startPosition)):n.shouldPrependListItem()?(e=new t.Document([n.block.copyWithoutText()]),this.insertDocument(e)):n.shouldInsertBlockBreak()?this.insertBlockBreak():n.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():n.shouldBreakFormattedBlock()?this.breakFormattedBlock(n):this.insertString("\n")},d.prototype.insertHTML=function(e){var n,r,i,o;return n=t.Document.fromHTML(e),i=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(n,i)),r=(o=i[0])+n.getLength()-1,this.setSelection(r),this.notifyDelegateOfInsertionAtRange([o,r])},d.prototype.replaceHTML=function(e){var n,r,i;return n=t.Document.fromHTML(e).copyUsingObjectsFromDocument(this.document),r=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(r),this.setDocument(n),this.setSelection(i)},d.prototype.insertFile=function(t){return this.insertFiles([t])},d.prototype.insertFiles=function(e){var n,r,i,o,a,s;for(r=[],o=0,a=e.length;a>o;o++)i=e[o],(null!=(s=this.delegate)?s.compositionShouldAcceptFile(i):void 0)&&(n=t.Attachment.attachmentForFile(i),r.push(n));return this.insertAttachments(r)},d.prototype.insertAttachment=function(t){return this.insertAttachments([t])},d.prototype.insertAttachments=function(e){var n,r,i,o,a,s,u,l,c;for(l=new t.Text,o=0,a=e.length;a>o;o++)c=(n=e[o]).getType(),s=null!=(u=t.config.attachments[c])?u.presentation:void 0,i=this.getCurrentTextAttributes(),s&&(i.presentation=s),r=t.Text.textForAttachmentWithAttributes(n,i),l=l.appendText(r);return this.insertText(l)},d.prototype.shouldManageDeletingInDirection=function(t){var e;if(e=this.getLocationRange(),u(e)){if("backward"===t&&0===e[0].offset)return!0;if(this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1},d.prototype.deleteInDirection=function(t,e){var n,r,i,o,a,s,l,c;return o=(null!=e?e:{}).length,a=this.getLocationRange(),s=this.getSelectedRange(),(l=u(s))?i="backward"===t&&0===a[0].offset:c=a[0].index!==a[1].index,!(i&&this.canDecreaseBlockAttributeLevel()&&(r=this.getBlock(),r.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(s[0]),r.isEmpty()))&&(l&&(s=this.getExpandedRangeInDirection(t,{length:o}),"backward"===t&&(n=this.getAttachmentAtRange(s))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(s)),this.setSelection(s[0]),!i&&!c&&void 0))},d.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},d.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},d.prototype.removeLastBlockAttribute=function(){var t,e,n,r;return r=(n=this.getSelectedRange())[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(r)}," ",d.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")},d.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+" ".length]),this.getSelectedRange()):void 0},d.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},d.prototype.hasCurrentAttribute=function(t){var e;return null!=(e=this.currentAttributes[t])&&!1!==e},d.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},d.prototype.canSetCurrentAttribute=function(t){return i(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},d.prototype.canSetCurrentTextAttribute=function(){var t,e,n,r;if(t=this.getSelectedDocument()){for(e=0,n=(r=t.getAttachments()).length;n>e;e++)if(!r[e].hasContent())return!1;return!0}},d.prototype.canSetCurrentBlockAttribute=function(){var t;if(t=this.getBlock())return!t.isTerminalBlock()},d.prototype.setCurrentAttribute=function(t,e){return i(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},d.prototype.setTextAttribute=function(e,n){var r,i;if(r=this.getSelectedRange())return r[0]!==r[1]?this.setDocument(this.document.addAttributeAtRange(e,n,r)):"href"===e?(i=t.Text.textForStringWithAttributes(n,{href:n}),this.insertText(i)):void 0},d.prototype.setBlockAttribute=function(t,e){var n;if(n=this.getSelectedRange())return this.canSetCurrentAttribute(t)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,n)),this.setSelection(n)):void 0},d.prototype.removeCurrentAttribute=function(t){return i(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},d.prototype.removeTextAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},d.prototype.removeBlockAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},d.prototype.canDecreaseNestingLevel=function(){var t;return(null!=(t=this.getBlock())?t.getNestingLevel():void 0)>0},d.prototype.canIncreaseNestingLevel=function(){var t,n,r;if(t=this.getBlock())return null!=(r=i(t.getLastNestableAttribute()))&&r.listAttribute?(n=this.getPreviousBlock())?e(n.getListItemAttributes(),t.getListItemAttributes()):void 0:t.getNestingLevel()>0},d.prototype.decreaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))},d.prototype.increaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))},d.prototype.canDecreaseBlockAttributeLevel=function(){var t;return(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)>0},d.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},d.prototype.decreaseListLevel=function(){var t,e,n,r,i,o;for(o=this.getSelectedRange()[0],n=i=this.document.locationFromPosition(o).index,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return o=this.document.positionFromLocation({index:i,offset:0}),r=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([o,r]))},d.prototype.updateCurrentAttributes=function(){var t,e,n,i,o,a;if(a=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(a),n=0,i=(o=r()).length;i>n;n++)e[t=o[n]]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!s(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},d.prototype.getCurrentAttributes=function(){return n.call({},this.currentAttributes)},d.prototype.getCurrentTextAttributes=function(){var t,e,n,r;for(e in t={},n=this.currentAttributes)!1!==(r=n[e])&&o(e)&&(t[e]=r);return t},d.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},d.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},d.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},d.proxyMethod("getSelectionManager().getPointRange"),d.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),d.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),d.proxyMethod("getSelectionManager().locationIsCursorTarget"),d.proxyMethod("getSelectionManager().selectionIsExpanded"),d.proxyMethod("delegate?.getSelectionManager"),d.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},d.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},d.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},d.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},d.prototype.getLocationRange=function(t){var e,n;return null!=(e=null!=(n=this.targetLocationRange)?n:this.getSelectionManager().getLocationRange(t))?e:a({index:0,offset:0})},d.prototype.withTargetLocationRange=function(t,e){var n;this.targetLocationRange=t;try{n=e()}finally{this.targetLocationRange=null}return n},d.prototype.withTargetRange=function(t,e){var n;return n=this.document.locationRangeFromRange(t),this.withTargetLocationRange(n,e)},d.prototype.withTargetDOMRange=function(t,e){var n;return n=this.createLocationRangeFromDOMRange(t,{strict:!1}),this.withTargetLocationRange(n,e)},d.prototype.getExpandedRangeInDirection=function(t,e){var n,r,i,o;return r=(null!=e?e:{}).length,o=(i=this.getSelectedRange())[0],n=i[1],"backward"===t?r?o-=r:o=this.translateUTF16PositionFromOffset(o,-1):r?n+=r:n=this.translateUTF16PositionFromOffset(n,1),a([o,n])},d.prototype.shouldManageMovingCursorInDirection=function(t){var e;return!!this.editingAttachment||(e=this.getExpandedRangeInDirection(t),null!=this.getAttachmentAtRange(e))},d.prototype.moveCursorInDirection=function(t){var e,n,r,i;return this.editingAttachment?r=this.document.getRangeOfAttachment(this.editingAttachment):(i=this.getSelectedRange(),r=this.getExpandedRangeInDirection(t),n=!l(i,r)),this.setSelectedRange("backward"===t?r[0]:r[1]),n&&(e=this.getAttachmentAtRange(r))?this.editAttachment(e):void 0},d.prototype.expandSelectionInDirection=function(t,e){var n,r;return n=(null!=e?e:{}).length,r=this.getExpandedRangeInDirection(t,{length:n}),this.setSelectedRange(r)},d.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},d.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},d.prototype.selectionContainsAttachments=function(){var t;return(null!=(t=this.getSelectedAttachments())?t.length:void 0)>0},d.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},d.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},d.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},d.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},d.prototype.getSelectedAttachments=function(){var t;return null!=(t=this.getSelectedDocument())?t.getAttachments():void 0},d.prototype.getAttachments=function(){return this.attachments.slice(0)},d.prototype.refreshAttachments=function(){var t,e,n,r,i,o,a,s,u,l,h,f;for(n=this.document.getAttachments(),t=(s=c(this.attachments,n)).added,h=s.removed,this.attachments=n,r=0,o=h.length;o>r;r++)(e=h[r]).delegate=null,null!=(u=this.delegate)&&"function"==typeof u.compositionDidRemoveAttachment&&u.compositionDidRemoveAttachment(e);for(f=[],i=0,a=t.length;a>i;i++)(e=t[i]).delegate=this,f.push(null!=(l=this.delegate)&&"function"==typeof l.compositionDidAddAttachment?l.compositionDidAddAttachment(e):void 0);return f},d.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},d.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},d.prototype.editAttachment=function(t,e){var n;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null!=(n=this.delegate)&&"function"==typeof n.compositionDidStartEditingAttachment?n.compositionDidStartEditingAttachment(this.editingAttachment,e):void 0},d.prototype.stopEditingAttachment=function(){var t;if(this.editingAttachment)return null!=(t=this.delegate)&&"function"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},d.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},d.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},d.prototype.breakFormattedBlock=function(e){var n,r,i,o,a;return r=e.document,n=e.block,a=[(o=e.startPosition)-1,o],n.getBlockBreakPosition()===e.startLocation.offset?(n.breaksOnReturn()&&"\n"===e.nextCharacter?o+=1:r=r.removeTextAtRange(a),a=[o,o]):"\n"===e.nextCharacter?"\n"===e.previousCharacter?a=[o-1,o+1]:(a=[o,o+1],o+=1):e.startLocation.offset-1!=0&&(o+=1),i=new t.Document([n.removeLastAttribute().copyWithoutText()]),this.setDocument(r.insertDocumentAtRange(i,a)),this.setSelection(o)},d.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&(t=e[0].index)>0?this.document.getBlockAtIndex(t-1):void 0},d.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},d.prototype.getAttachmentAtRange=function(e){var n;return(n=this.document.getDocumentAtRange(e)).toString()===t.OBJECT_REPLACEMENT_CHARACTER+"\n"?n.getAttachments()[0]:void 0},d.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},d.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},d.prototype.translateUTF16PositionFromOffset=function(t,e){var n,r;return n=(r=this.document.toUTF16String()).offsetFromUCS2Offset(t),r.offsetToUCS2Offset(n+e)},d}(t.BasicObject)}.call(this),function(){var e={}.hasOwnProperty;t.UndoManager=function(t){function n(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var r;return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(n,t),n.prototype.recordUndoEntry=function(t,e){var n,i,o,a,s;return i=(a=null!=e?e:{}).context,n=a.consolidatable,o=this.undoEntries.slice(-1)[0],n&&r(o,t,i)?void 0:(s=this.createEntry({description:t,context:i}),this.undoEntries.push(s),this.redoEntries=[])},n.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},n.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},n.prototype.canUndo=function(){return this.undoEntries.length>0},n.prototype.canRedo=function(){return this.redoEntries.length>0},n.prototype.createEntry=function(t){var e,n,r;return n=(r=null!=t?t:{}).description,e=r.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},r=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},n}(t.BasicObject)}.call(this),function(){var e;t.attachmentGalleryFilter=function(t){var n;return(n=new e(t)).perform(),n.getSnapshot()},e=function(){function t(t){this.document=t.document,this.selectedRange=t.selectedRange}var e;return e="attachmentGallery","presentation","gallery",t.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},t.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},t.prototype.removeBlockAttribute=function(){var t,n,r,i,o;for(o=[],t=0,n=(i=this.findRangesOfBlocks()).length;n>t;t++)r=i[t],o.push(this.document=this.document.removeAttributeAtRange(e,r));return o},t.prototype.applyBlockAttribute=function(){var t,n,r,i,o,a;for(r=0,a=[],t=0,n=(o=this.findRangesOfPieces()).length;n>t;t++)(i=o[t])[1]-i[0]>1&&(i[0]+=r,i[1]+=r,"\n"!==this.document.getCharacterAtPosition(i[1])&&(this.document=this.document.insertBlockBreakAtRange(i[1]),i[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),i[1]++,r++),0!==i[0]&&"\n"!==this.document.getCharacterAtPosition(i[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(i[0]),i[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),i[0]++,r++),a.push(this.document=this.document.applyBlockAttributeAtRange(e,!0,i)));return a},t.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(e)},t.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})},t.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},t}()}.call(this),function(){t.Editor=function(){function e(e,r,i){var o,a;this.composition=e,this.selectionManager=r,this.element=i,this.insertFiles=(o=this.insertFiles,a=this,function(){return o.apply(a,arguments)}),this.undoManager=new t.UndoManager(this.composition),this.filters=n.slice(0)}var n;return n=[t.attachmentGalleryFilter],e.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},e.prototype.loadHTML=function(e){return null==e&&(e=""),this.loadDocument(t.Document.fromHTML(e,{referenceElement:this.element}))},e.prototype.loadJSON=function(e){var n,r;return n=e.document,r=e.selectedRange,n=t.Document.fromJSON(n),this.loadSnapshot({document:n,selectedRange:r})},e.prototype.loadSnapshot=function(e){return this.undoManager=new t.UndoManager(this.composition),this.composition.loadSnapshot(e)},e.prototype.getDocument=function(){return this.composition.document},e.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},e.prototype.getSnapshot=function(){return this.composition.getSnapshot()},e.prototype.toJSON=function(){return this.getSnapshot()},e.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},e.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},e.prototype.insertAttachments=function(t){return this.composition.insertAttachments(t)},e.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},e.prototype.insertFile=function(t){return this.composition.insertFile(t)},e.prototype.insertFiles=function(t){return this.composition.insertFiles(t)},e.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},e.prototype.insertString=function(t){return this.composition.insertString(t)},e.prototype.insertText=function(t){return this.composition.insertText(t)},e.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},e.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},e.prototype.getPosition=function(){return this.composition.getPosition()},e.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},e.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},e.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},e.prototype.setSelectedRange=function(t){return this.composition.setSelectedRange(t)},e.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},e.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},e.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},e.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},e.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},e.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},e.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},e.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},e.prototype.canRedo=function(){return this.undoManager.canRedo()},e.prototype.canUndo=function(){return this.undoManager.canUndo()},e.prototype.recordUndoEntry=function(t,e){var n,r,i;return r=(i=null!=e?e:{}).context,n=i.consolidatable,this.undoManager.recordUndoEntry(t,{context:r,consolidatable:n})},e.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},e.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},e}()}.call(this),function(){var e={}.hasOwnProperty;t.ManagedAttachment=function(t){function n(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(n,t),n.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},n.proxyMethod("attachment.getAttribute"),n.proxyMethod("attachment.hasAttribute"),n.proxyMethod("attachment.setAttribute"),n.proxyMethod("attachment.getAttributes"),n.proxyMethod("attachment.setAttributes"),n.proxyMethod("attachment.isPending"),n.proxyMethod("attachment.isPreviewable"),n.proxyMethod("attachment.getURL"),n.proxyMethod("attachment.getHref"),n.proxyMethod("attachment.getFilename"),n.proxyMethod("attachment.getFilesize"),n.proxyMethod("attachment.getFormattedFilesize"),n.proxyMethod("attachment.getExtension"),n.proxyMethod("attachment.getContentType"),n.proxyMethod("attachment.getFile"),n.proxyMethod("attachment.setFile"),n.proxyMethod("attachment.releaseFile"),n.proxyMethod("attachment.getUploadProgress"),n.proxyMethod("attachment.setUploadProgress"),n}(t.BasicObject)}.call(this),function(){var e={}.hasOwnProperty;t.AttachmentManager=function(n){function r(t){var e,n,r;for(null==t&&(t=[]),this.managedAttachments={},n=0,r=t.length;r>n;n++)e=t[n],this.manageAttachment(e)}return function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype}(r,n),r.prototype.getAttachments=function(){var t,e,n,r;for(e in r=[],n=this.managedAttachments)t=n[e],r.push(t);return r},r.prototype.manageAttachment=function(e){var n,r;return null!=(n=this.managedAttachments)[r=e.id]?n[r]:n[r]=new t.ManagedAttachment(this,e)},r.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},r.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&"function"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},r.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},r}(t.BasicObject)}.call(this),function(){var e,n,r,i,o,a,s,u,l,c,h;e=t.elementContainsNode,n=t.findChildIndexOfNode,o=t.nodeIsBlockStart,a=t.nodeIsBlockStartComment,i=t.nodeIsBlockContainer,s=t.nodeIsCursorTarget,u=t.nodeIsEmptyTextNode,l=t.nodeIsTextNode,r=t.nodeIsAttachmentElement,c=t.tagName,h=t.walkTree,t.LocationMapper=function(){function t(t){this.element=t}var f,d,p,g;return t.prototype.findLocationFromContainerAndOffset=function(t,r,i){var a,u,c,f,g,m,v;for(m=(null!=i?i:{strict:!0}).strict,u=0,c=!1,f={index:0,offset:0},(a=this.findAttachmentElementParentForNode(t))&&(t=a.parentNode,r=n(a)),v=h(this.element,{usingFilter:p});v.nextNode();){if((g=v.currentNode)===t&&l(t)){s(g)||(f.offset+=r);break}if(g.parentNode===t){if(u++===r)break}else if(!e(t,g)&&u>0)break;o(g,{strict:m})?(c&&f.index++,f.offset=0,c=!0):f.offset+=d(g)}return f},t.prototype.findContainerAndOffsetFromLocation=function(t){var e,r,a,u,c;if(0===t.index&&0===t.offset){for(e=this.element,u=0;e.firstChild;)if(e=e.firstChild,i(e)){u=1;break}return[e,u]}if(r=(c=this.findNodeAndOffsetFromLocation(t))[0],a=c[1],r){if(l(r))0===d(r)?(e=r.parentNode.parentNode,u=n(r.parentNode),s(r,{name:"right"})&&u++):(e=r,u=t.offset-a);else{if(e=r.parentNode,!o(r.previousSibling)&&!i(e))for(;r===e.lastChild&&(r=e,e=e.parentNode,!i(e)););u=n(r),0!==t.offset&&u++}return[e,u]}},t.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,r,i,o,a,u,c;for(u=0,n=0,r=(c=this.getSignificantNodesForIndex(t.index)).length;r>n;n++){if(e=c[n],i=d(e),t.offset<=u+i)if(l(e)){if(o=e,a=u,t.offset===a&&s(o))break}else o||(o=e,a=u);if((u+=i)>t.offset)break}return[o,a]},t.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(r(t))return t;t=t.parentNode}},t.prototype.getSignificantNodesForIndex=function(t){var e,n,r,i,o;for(r=[],o=h(this.element,{usingFilter:f}),i=!1;o.nextNode();)if(n=o.currentNode,a(n)){if(null!=e?e++:e=0,e===t)i=!0;else if(i)break}else i&&r.push(n);return r},d=function(t){return t.nodeType===Node.TEXT_NODE?s(t)?0:t.textContent.length:"br"===c(t)||r(t)?1:0},f=function(t){return g(t)===NodeFilter.FILTER_ACCEPT?p(t):NodeFilter.FILTER_REJECT},g=function(t){return u(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},p=function(t){return r(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},t}()}.call(this),function(){var e,n,r=[].slice;e=t.getDOMRange,n=t.setDOMRange,t.PointMapper=function(){function t(){}return t.prototype.createDOMRangeFromPoint=function(t){var r,i,o,a,s,u,l,c;if(l=t.x,c=t.y,document.caretPositionFromPoint)return o=(s=document.caretPositionFromPoint(l,c)).offsetNode,i=s.offset,(r=document.createRange()).setStart(o,i),r;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(l,c);if(document.body.createTextRange){a=e();try{(u=document.body.createTextRange()).moveToPoint(l,c),u.select()}catch(t){}return r=e(),n(a),r}},t.prototype.getClientRectsForDOMRange=function(t){var e;return[(e=r.call(t.getClientRects()))[0],e[e.length-1]]},t}()}.call(this),function(){var e,n=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty,i=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e=t.getDOMRange,t.SelectionChangeObserver=function(t){function o(){this.run=n(this.run,this),this.update=n(this.update,this),this.selectionManagers=[]}var a;return function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(o,t),o.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},o.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},o.prototype.registerSelectionManager=function(t){return i.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},o.prototype.unregisterSelectionManager=function(t){var e;return this.selectionManagers=function(){var n,r,i,o;for(o=[],n=0,r=(i=this.selectionManagers).length;r>n;n++)(e=i[n])!==t&&o.push(e);return o}.call(this),0===this.selectionManagers.length?this.stop():void 0},o.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,r,i;for(r=[],t=0,e=(n=this.selectionManagers).length;e>t;t++)i=n[t],r.push(i.selectionDidChange());return r},o.prototype.update=function(){var t;return t=e(),a(t,this.domRange)?void 0:(this.domRange=t,this.notifySelectionManagersOfSelectionChange())},o.prototype.reset=function(){return this.domRange=null,this.update()},o.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},a=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},o}(t.BasicObject),null==t.selectionChangeObserver&&(t.selectionChangeObserver=new t.SelectionChangeObserver)}.call(this),function(){var e,n,r,i,o,a,s,u,l,c,h=function(t,e){return function(){return t.apply(e,arguments)}},f={}.hasOwnProperty;r=t.getDOMSelection,n=t.getDOMRange,c=t.setDOMRange,e=t.elementContainsNode,a=t.nodeIsCursorTarget,o=t.innerElementIsActive,i=t.handleEvent,s=t.normalizeRange,u=t.rangeIsCollapsed,l=t.rangesAreEqual,t.SelectionManager=function(d){function p(e){this.element=e,this.selectionDidChange=h(this.selectionDidChange,this),this.didMouseDown=h(this.didMouseDown,this),this.locationMapper=new t.LocationMapper(this.element),this.pointMapper=new t.PointMapper,this.lockCount=0,i("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(p,d),p.prototype.getLocationRange=function(t){var e;return null==t&&(t={}),!1===t.strict?this.createLocationRangeFromDOMRange(n(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(e=this.lockedLocationRange)?e:this.currentLocationRange},p.prototype.setLocationRange=function(t){var e;if(!this.lockedLocationRange)return t=s(t),(e=this.createDOMRangeFromLocationRange(t))?(c(e),this.updateCurrentLocationRange(t)):void 0},p.prototype.setLocationRangeFromPointRange=function(t){var e,n;return t=s(t),n=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([n,e])},p.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},p.prototype.locationIsCursorTarget=function(t){var e,n;return e=(n=this.findNodeAndOffsetFromLocation(t))[0],n[1],a(e)},p.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},p.prototype.unlock=function(){var t;return 0==--this.lockCount&&(t=this.lockedLocationRange,this.lockedLocationRange=null,null!=t)?this.setLocationRange(t):void 0},p.prototype.clearSelection=function(){var t;return null!=(t=r())?t.removeAllRanges():void 0},p.prototype.selectionIsCollapsed=function(){var t;return!0===(null!=(t=n())?t.collapsed:void 0)},p.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},p.prototype.createLocationRangeFromDOMRange=function(t,e){var n,r;if(null!=t&&this.domRangeWithinElement(t)&&(r=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e)))return t.collapsed||(n=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),s([r,n])},p.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),p.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),p.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),p.proxyMethod("pointMapper.createDOMRangeFromPoint"),p.proxyMethod("pointMapper.getClientRectsForDOMRange"),p.prototype.didMouseDown=function(){return this.pauseTemporarily()},p.prototype.pauseTemporarily=function(){var t,n,r,o,a;return this.paused=!0,a=this,n=function(){var t,n;for(a.paused=!1,clearTimeout(o),t=0,n=r.length;n>t;t++)r[t].destroy();return e(document,a.element)?a.selectionDidChange():void 0},o=setTimeout(n,200),r=function(){var e,r,o,a;for(a=[],e=0,r=(o=["mousemove","keydown"]).length;r>e;e++)t=o[e],a.push(i(t,{onElement:document,withCallback:n}));return a}()},p.prototype.selectionDidChange=function(){return this.paused||o(this.element)?void 0:this.updateCurrentLocationRange()},p.prototype.updateCurrentLocationRange=function(t){var e;return(null!=t?t:t=this.createLocationRangeFromDOMRange(n()))&&!l(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(e=this.delegate)&&"function"==typeof e.locationRangeDidChange?e.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},p.prototype.createDOMRangeFromLocationRange=function(t){var e,n,r,i;return r=this.findContainerAndOffsetFromLocation(t[0]),n=u(t)?r:null!=(i=this.findContainerAndOffsetFromLocation(t[1]))?i:r,null!=r&&null!=n?((e=document.createRange()).setStart.apply(e,r),e.setEnd.apply(e,n),e):void 0},p.prototype.getLocationAtPoint=function(t){var e,n;return(e=this.createDOMRangeFromPoint(t))&&null!=(n=this.createLocationRangeFromDOMRange(e))?n[0]:void 0},p.prototype.domRangeWithinElement=function(t){return t.collapsed?e(this.element,t.startContainer):e(this.element,t.startContainer)&&e(this.element,t.endContainer)},p}(t.BasicObject)}.call(this),function(){var e,n,r,i,o={}.hasOwnProperty,a=[].slice;r=t.rangeIsCollapsed,i=t.rangesAreEqual,n=t.objectsAreEqual,e=t.getBlockConfig,t.EditorController=function(s){function u(e){var n,r;this.editorElement=e.editorElement,n=e.document,r=e.html,this.selectionManager=new t.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new t.Composition,this.composition.delegate=this,this.attachmentManager=new t.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new(t["Level"+t.config.input.getLevel()+"InputController"])(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new t.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new t.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new t.Editor(this.composition,this.selectionManager,this.editorElement),null!=n?this.editor.loadDocument(n):this.editor.loadHTML(r)}var l;return function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype}(u,s),u.prototype.registerSelectionManager=function(){return t.selectionChangeObserver.registerSelectionManager(this.selectionManager)},u.prototype.unregisterSelectionManager=function(){return t.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},u.prototype.render=function(){return this.compositionController.render()},u.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},u.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},u.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},u.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},u.prototype.compositionShouldAcceptFile=function(t){return this.notifyEditorElement("file-accept",{file:t})},u.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement("attachment-add",{attachment:e})},u.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.notifyEditorElement("attachment-edit",{attachment:e}),this.notifyEditorElement("change")},u.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")},u.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.notifyEditorElement("attachment-remove",{attachment:e})},u.prototype.compositionDidStartEditingAttachment=function(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)},u.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},u.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},u.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},u.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},u.prototype.getSelectionManager=function(){return this.selectionManager},u.proxyMethod("getSelectionManager().setLocationRange"),u.proxyMethod("getSelectionManager().getLocationRange"),u.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},u.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},u.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},u.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},u.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},u.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},u.prototype.compositionControllerDidSelectAttachment=function(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)},u.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,n;return e=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},u.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})},u.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},u.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},u.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},u.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},u.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},u.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},u.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},u.prototype.inputControllerWillPerformFormatting=function(t){return this.recordFormattingUndoEntry(t)},u.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},u.prototype.inputControllerWillPaste=function(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})},u.prototype.inputControllerDidPaste=function(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})},u.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},u.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},u.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},u.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},u.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},u.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},u.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},u.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},u.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!i(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},u.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},u.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},u.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},u.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},u.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},u.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},u.prototype.toolbarDidShowDialog=function(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})},u.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})},u.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},u.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},u.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return t.config.input.pickFiles(this.editor.insertFiles)}}},u.prototype.canInvokeAction=function(t){var e,n;return!!this.actionIsExternal(t)||!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},u.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},u.prototype.actionIsExternal=function(t){return/^x-./.test(t)},u.prototype.getCurrentActions=function(){var t,e;for(t in e={},this.actions)e[t]=this.canInvokeAction(t);return e},u.prototype.updateCurrentActions=function(){var t;return t=this.getCurrentActions(),n(t,this.currentActions)?void 0:(this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},u.prototype.runEditorFilters=function(){var t,e,n,r,i,o,a,s;for(s=this.composition.getSnapshot(),n=0,r=(i=this.editor.filters).length;r>n;n++)e=i[n],t=s.document,a=s.selectedRange,null==(s=null!=(o=e.call(this.editor,s))?o:{}).document&&(s.document=t),null==s.selectedRange&&(s.selectedRange=a);return l(s,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(s)},l=function(t,e){return i(t.selectedRange,e.selectedRange)&&t.document.isEqualTo(e.document)},u.prototype.updateInputElement=function(){var e,n;return e=this.compositionController.getSerializableElement(),n=t.serializeToContentType(e,"text/html"),this.editorElement.setInputElementValue(n)},u.prototype.notifyEditorElement=function(t,e){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,e)},u.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()},u.prototype.recordFormattingUndoEntry=function(t){var n,i;return n=e(t),i=this.selectionManager.getLocationRange(),n||!r(i)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},u.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},u.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(a.call(t))},u.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),r(t)?t[0].index:t},u.prototype.getTimeContext=function(){return t.config.undoInterval>0?Math.floor((new Date).getTime()/t.config.undoInterval):0},u.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},u.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},u}(t.Controller)}.call(this),function(){var e,n,r,i,o,a,s,u,l,c,h,f,d,p,g,m,v=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};n=t.browser,a=t.makeElement,s=t.triggerEvent,i=t.handleEvent,o=t.handleEventOnce,r=t.findClosestElementFromNode,e=t.AttachmentView.attachmentSelector,t.registerElement("trix-editor",(p=0,l=function(t){return!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t?t.focus():void 0},g=function(t){return t.hasAttribute("contenteditable")?void 0:(t.setAttribute("contenteditable",""),o("focus",{onElement:t,withCallback:function(){return c(t)}}))},c=function(t){return f(t),m(t)},f=function(t){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),i("mscontrolselect",{onElement:t,preventDefault:!0})):void 0},m=function(){var e;return!("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)||"div"!==(e=t.config.blockAttributes.default.tagName)&&"p"!==e?void 0:document.execCommand("DefaultParagraphSeparator",!1,e)},u=function(t){return t.hasAttribute("role")?void 0:t.setAttribute("role","textbox")},d=function(t){var e;if(!t.hasAttribute("aria-label")&&!t.hasAttribute("aria-labelledby"))return(e=function(){var e,n;return(n=function(){var n,r,i,o;for(o=[],n=0,r=(i=t.labels).length;r>n;n++)(e=i[n]).contains(t)||o.push(e.textContent);return o}().join(" "))?t.setAttribute("aria-label",n):t.removeAttribute("aria-label")})(),i("focus",{onElement:t,withCallback:e})},h=n.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"},{defaultCSS:"%t {\n  display: block;\n}\n\n%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n  cursor: text;\n  pointer-events: none;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+e+" figcaption textarea {\n  resize: none;\n}\n\n%t "+e+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+e+" figcaption[data-trix-placeholder]:empty::before {\n  content: attr(data-trix-placeholder);\n  color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n  display: "+h.display+" !important;\n  width: "+h.width+" !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n  vertical-align: top !important;\n  margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n  vertical-align: bottom !important;\n  margin-right: -1px !important;\n}",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++p),this.trixId)}},labels:{get:function(){var t,e,n;return e=[],this.id&&this.ownerDocument&&e.push.apply(e,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(t=r(this,{matchingSelector:"label"}))&&((n=t.control)===this||null===n)&&e.push(t),e}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute("toolbar")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),t=a("trix-toolbar",{id:n}),this.parentNode.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentNode?(e="trix-input-"+this.trixId,this.setAttribute("input",e),t=a("input",{type:"hidden",id:e}),this.parentNode.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){return this.editorController?s("trix-"+t,{onElement:this,attributes:e}):void 0},setInputElementValue:function(t){var e;return null!=(e=this.inputElement)?e.value=t:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(g(this),u(this),d(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(s("trix-before-initialize",{onElement:this}),this.editorController=new t.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame((e=this,function(){return s("trix-initialize",{onElement:e})}))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),l(this));var e},disconnect:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(t){var e;if(!t.defaultPrevented&&t.target===(null!=(e=this.inputElement)?e.form:void 0))return this.reset()},clickBubbled:function(t){var e;if(!(t.defaultPrevented||this.contains(t.target)||!(e=r(t.target,{matchingSelector:"label"}))||v.call(this.labels,e)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),"object"==Be(e)&&e.exports?e.exports=t:"function"==typeof define&&n.amdO&&define(t)}.call(t)}}),Xe=1e3,Ze=6e4,Ke=36e5,Je="millisecond",Qe="second",tn="minute",en="hour",nn="day",rn="week",on="month",an="quarter",sn="year",un="date",ln="Invalid Date",cn=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,hn=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,fn={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},dn=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},pn={s:dn,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+dn(r,2,"0")+":"+dn(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,on),o=n-i<0,a=e.clone().add(r+(o?-1:1),on);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:on,y:sn,w:rn,d:nn,D:un,h:en,m:tn,s:Qe,ms:Je,Q:an}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},gn="en",mn={};mn[gn]=fn;var vn=function(t){return t instanceof An},yn=function(t,e,n){var r;if(!t)return gn;if("string"==typeof t)mn[t]&&(r=t),e&&(mn[t]=e,r=t);else{var i=t.name;mn[i]=t,r=i}return!n&&r&&(gn=r),r||!n&&gn},En=function(t,e){if(vn(t))return t.clone();var n="object"===Be(e)?e:{};return n.date=t,n.args=arguments,new An(n)},bn=pn;bn.l=yn,bn.i=vn,bn.w=function(t,e){return En(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var An=function(){function t(t){this.$L=yn(t.locale,null,!0),this.parse(t)}var e=t.prototype;return e.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(bn.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(cn);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},e.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},e.$utils=function(){return bn},e.isValid=function(){return!(this.$d.toString()===ln)},e.isSame=function(t,e){var n=En(t);return this.startOf(e)<=n&&n<=this.endOf(e)},e.isAfter=function(t,e){return En(t)<this.startOf(e)},e.isBefore=function(t,e){return this.endOf(e)<En(t)},e.$g=function(t,e,n){return bn.u(t)?this[e]:this.set(n,t)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(t,e){var n=this,r=!!bn.u(e)||e,i=bn.p(t),o=function(t,e){var i=bn.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(nn)},a=function(t,e){return bn.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},s=this.$W,u=this.$M,l=this.$D,c="set"+(this.$u?"UTC":"");switch(i){case sn:return r?o(1,0):o(31,11);case on:return r?o(1,u):o(0,u+1);case rn:var h=this.$locale().weekStart||0,f=(s<h?s+7:s)-h;return o(r?l-f:l+(6-f),u);case nn:case un:return a(c+"Hours",0);case en:return a(c+"Minutes",1);case tn:return a(c+"Seconds",2);case Qe:return a(c+"Milliseconds",3);default:return this.clone()}},e.endOf=function(t){return this.startOf(t,!1)},e.$set=function(t,e){var n,r=bn.p(t),i="set"+(this.$u?"UTC":""),o=(n={},n[nn]=i+"Date",n[un]=i+"Date",n[on]=i+"Month",n[sn]=i+"FullYear",n[en]=i+"Hours",n[tn]=i+"Minutes",n[Qe]=i+"Seconds",n[Je]=i+"Milliseconds",n)[r],a=r===nn?this.$D+(e-this.$W):e;if(r===on||r===sn){var s=this.clone().set(un,1);s.$d[o](a),s.init(),this.$d=s.set(un,Math.min(this.$D,s.daysInMonth())).$d}else o&&this.$d[o](a);return this.init(),this},e.set=function(t,e){return this.clone().$set(t,e)},e.get=function(t){return this[bn.p(t)]()},e.add=function(t,e){var n,r=this;t=Number(t);var i=bn.p(e),o=function(e){var n=En(r);return bn.w(n.date(n.date()+Math.round(e*t)),r)};if(i===on)return this.set(on,this.$M+t);if(i===sn)return this.set(sn,this.$y+t);if(i===nn)return o(1);if(i===rn)return o(7);var a=(n={},n[tn]=Ze,n[en]=Ke,n[Qe]=Xe,n)[i]||1,s=this.$d.getTime()+t*a;return bn.w(s,this)},e.subtract=function(t,e){return this.add(-1*t,e)},e.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||ln;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=bn.z(this),o=this.$H,a=this.$m,s=this.$M,u=n.weekdays,l=n.months,c=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].substr(0,o)},h=function(t){return bn.s(o%12||12,t,"0")},f=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:bn.s(s+1,2,"0"),MMM:c(n.monthsShort,s,l,3),MMMM:c(l,s),D:this.$D,DD:bn.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,u,2),ddd:c(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:bn.s(o,2,"0"),h:h(1),hh:h(2),a:f(o,a,!0),A:f(o,a,!1),m:String(a),mm:bn.s(a,2,"0"),s:String(this.$s),ss:bn.s(this.$s,2,"0"),SSS:bn.s(this.$ms,3,"0"),Z:i};return r.replace(hn,(function(t,e){return e||d[t]||i.replace(":","")}))},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(t,e,n){var r,i=bn.p(e),o=En(t),a=(o.utcOffset()-this.utcOffset())*Ze,s=this-o,u=bn.m(this,o);return u=(r={},r[sn]=u/12,r[on]=u,r[an]=u/3,r[rn]=(s-a)/6048e5,r[nn]=(s-a)/864e5,r[en]=s/Ke,r[tn]=s/Ze,r[Qe]=s/Xe,r)[i]||s,n?u:bn.a(u)},e.daysInMonth=function(){return this.endOf(on).$D},e.$locale=function(){return mn[this.$L]},e.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=yn(t,e,!0);return r&&(n.$L=r),n},e.clone=function(){return bn.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},t}(),_n=An.prototype;En.prototype=_n,[["$ms",Je],["$s",Qe],["$m",tn],["$H",en],["$W",nn],["$M",on],["$y",sn],["$D",un]].forEach((function(t){_n[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),En.extend=function(t,e){return t.$i||(t(e,An,En),t.$i=!0),En},En.locale=yn,En.isDayjs=vn,En.unix=function(t){return En(1e3*t)},En.en=mn[gn],En.Ls=mn,En.p={};var Dn=En,wn=We(He()),Tn=We($e());Dn.extend(wn.default),Dn.extend(Tn.default),window.dayjs=Dn;var xn,Cn,kn=function(t){t.data("dateTimePickerFormComponent",(function(t){var e=t.displayFormat,n=t.firstDayOfWeek,r=t.format,i=t.isAutofocused,o=t.locale,a=t.maxDate,s=t.minDate,u=t.state;return Dn.locale(o),{daysInFocusedMonth:[],displayText:"",emptyDaysInFocusedMonth:[],focusedDate:null,focusedMonth:null,focusedYear:null,hour:null,maxDate:a,minDate:s,minute:null,open:!1,second:null,state:u,init:function(){var t,e=this;this.maxDate=Dn(this.maxDate),this.maxDate.isValid()||(this.maxDate=null),this.minDate=Dn(this.minDate),this.minDate.isValid()||(this.minDate=null);var n=null!==(t=this.getSelectedDate())&&void 0!==t?t:Dn().set("hour",0).set("minute",0).set("second",0);null!==this.maxDate&&n.isAfter(this.maxDate)&&(n=null),null!==this.minDate&&n.isBefore(this.minDate)&&(n=null),this.hour=n.hour(),this.minute=n.minute(),this.second=n.second(),this.setDisplayText(),i&&this.openPicker(),this.$watch("focusedMonth",(function(){e.focusedMonth=+e.focusedMonth,e.focusedDate.month()!==e.focusedMonth&&(e.focusedDate=e.focusedDate.set("month",e.focusedMonth))})),this.$watch("focusedYear",(function(){e.focusedYear=Number.isInteger(+e.focusedYear)?+e.focusedYear:Dn().year(),e.focusedDate.year()!==e.focusedYear&&(e.focusedDate=e.focusedDate.set("year",e.focusedYear))})),this.$watch("focusedDate",(function(){e.focusedMonth=e.focusedDate.month(),e.focusedYear=e.focusedDate.year(),e.setupDaysGrid(),e.$nextTick((function(){e.evaluatePosition()}))})),this.$watch("hour",(function(){var t,n=+e.hour;Number.isInteger(n)?e.hour=n>23?0:n<0?23:n:e.hour=Dn().hour();var r=null!==(t=e.getSelectedDate())&&void 0!==t?t:e.focusedDate;e.setState(r.set("hour",e.hour))})),this.$watch("minute",(function(){var t,n=+e.minute;Number.isInteger(n)?e.minute=n>59?0:n<0?59:n:e.minute=Dn().minute();var r=null!==(t=e.getSelectedDate())&&void 0!==t?t:e.focusedDate;e.setState(r.set("minute",e.minute))})),this.$watch("second",(function(){var t,n=+e.second;Number.isInteger(n)?e.second=n>59?0:n<0?59:n:e.second=Dn().second();var r=null!==(t=e.getSelectedDate())&&void 0!==t?t:e.focusedDate;e.setState(r.set("second",e.second))})),this.$watch("state",(function(){var t=e.getSelectedDate();null!==e.maxDate&&t.isAfter(e.maxDate)&&(t=null),null!==e.minDate&&t.isBefore(e.minDate)&&(t=null),e.hour=t.hour(),e.minute=t.minute(),e.second=t.second(),e.setDisplayText()}))},clearState:function(){this.setState(null),this.closePicker()},closePicker:function(){this.open=!1},dateIsDisabled:function(t){return!(!this.maxDate||!t.isAfter(this.maxDate))||!(!this.minDate||!t.isBefore(this.minDate))},dayIsDisabled:function(t){return this.dateIsDisabled(this.focusedDate.date(t))},dayIsSelected:function(t){var e=this.getSelectedDate();return null!==e&&(e.date()===t&&e.month()===this.focusedDate.month()&&e.year()===this.focusedDate.year())},dayIsToday:function(t){var e=Dn();return e.date()===t&&e.month()===this.focusedDate.month()&&e.year()===this.focusedDate.year()},evaluatePosition:function(){for(var t=window.innerHeight-this.$refs.button.offsetHeight,e=this.$refs.button;e;)t-=e.offsetTop,e=e.offsetParent;this.$refs.picker.offsetHeight<=t?this.$refs.picker.style.bottom="auto":this.$refs.picker.style.bottom="".concat(this.$refs.button.offsetHeight,"px")},focusPreviousDay:function(){this.focusedDate=this.focusedDate.subtract(1,"day")},focusPreviousWeek:function(){this.focusedDate=this.focusedDate.subtract(1,"week")},focusNextDay:function(){this.focusedDate=this.focusedDate.add(1,"day")},focusNextWeek:function(){this.focusedDate=this.focusedDate.add(1,"week")},getDayLabels:function(){var t=Dn.weekdaysShort();return 0===n?t:[].concat(Le(t.slice(n)),Le(t.slice(0,n)))},getSelectedDate:function(){var t=Dn(this.state,r);return t.isValid()?t:null},openPicker:function(){var t,e=this;this.focusedDate=null!==(t=this.getSelectedDate())&&void 0!==t?t:Dn(),this.setupDaysGrid(),this.open=!0,this.$nextTick((function(){e.evaluatePosition()}))},selectDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&this.setFocusedDay(t),this.setState(this.focusedDate)},setDisplayText:function(){this.displayText=this.getSelectedDate()?this.getSelectedDate().format(e):""},setupDaysGrid:function(){this.emptyDaysInFocusedMonth=Array.from({length:this.focusedDate.date(8-n).day()},(function(t,e){return e+1})),this.daysInFocusedMonth=Array.from({length:this.focusedDate.daysInMonth()},(function(t,e){return e+1}))},setFocusedDay:function(t){this.focusedDate=this.focusedDate.date(t)},setState:function(t){if(null===t)return this.state=null,void this.setDisplayText();this.dateIsDisabled(t)||(this.state=t.set("hour",this.hour).set("minute",this.minute).set("second",this.second).format(r),this.setDisplayText())},togglePickerVisibility:function(){this.open?this.closePicker():this.openPicker()}}}))},In=function(t){return t instanceof HTMLElement},Sn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Re({},t),i=[],o=[],a=function(){return Re({},r)},s=function(){var t=[].concat(i);return i.length=0,t},u=function(){var t=[].concat(o);o.length=0,t.forEach((function(t){var e=t.type,n=t.data;l(e,n)}))},l=function(t,e,n){!n||document.hidden?(d[t]&&d[t](e),i.push({type:t,data:e})):o.push({type:t,data:e})},c=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return f[t]?(e=f)[t].apply(e,r):null},h={getState:a,processActionQueue:s,processDispatchQueue:u,dispatch:l,query:c},f={};e.forEach((function(t){f=Re(Re({},t(r)),f)}));var d={};return n.forEach((function(t){d=Re(Re({},t(l,c,r)),d)})),h},Rn=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])},On=function(t){var e={};return Rn(t,(function(n){!function(t,e,n){"function"!=typeof n?Object.defineProperty(t,e,Re({},n)):t[e]=n}(e,n,t[n])})),e},Ln=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,n)},Mn="http://www.w3.org/2000/svg",Fn=["svg","path"],Pn=function(t){return Fn.includes(t)},Bn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===Be(e)&&(n=e,e=null);var r=Pn(t)?document.createElementNS(Mn,t):document.createElement(t);return e&&(Pn(t)?Ln(r,"class",e):r.className=e),Rn(n,(function(t,e){Ln(r,t,e)})),r},Nn=function(t){return function(e,n){void 0!==n&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)}},Gn=function(t,e){return function(t,n){return void 0!==n?e.splice(n,0,t):e.push(t),t}},jn=function(t,e){return function(n){return e.splice(e.indexOf(n),1),n.element.parentNode&&t.removeChild(n.element),n}},Un="undefined"!=typeof window&&void 0!==window.document,Vn=function(){return Un},qn="children"in(Vn()?Bn("svg"):{})?function(t){return t.children.length}:function(t){return t.childNodes.length},zn=function(t,e,n,r){var i=n[0]||t.left,o=n[1]||t.top,a=i+t.width,s=o+t.height*(r[1]||1),u={element:Re({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:i,top:o,right:a,bottom:s}};return e.filter((function(t){return!t.isRectIgnored()})).map((function(t){return t.rect})).forEach((function(t){Wn(u.inner,Re({},t.inner)),Wn(u.outer,Re({},t.outer))})),Hn(u.inner),u.outer.bottom+=u.element.marginBottom,u.outer.right+=u.element.marginRight,Hn(u.outer),u},Wn=function(t,e){e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},Hn=function(t){t.width=t.right-t.left,t.height=t.bottom-t.top},$n=function(t){return"number"==typeof t},Yn=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(t-e)<r&&Math.abs(n)<r},Xn=function(t){return t<.5?2*t*t:(4-2*t)*t-1},Zn={spring:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stiffness,n=void 0===e?.5:e,r=t.damping,i=void 0===r?.75:r,o=t.mass,a=void 0===o?10:o,s=null,u=null,l=0,c=!1,h=function(t,e){if(!c){if(!$n(s)||!$n(u))return c=!0,void(l=0);Yn(u+=l+=-(u-s)*n/a,s,l*=i)||e?(u=s,l=0,c=!0,d.onupdate(u),d.oncomplete(u)):d.onupdate(u)}},f=function(t){if($n(t)&&!$n(u)&&(u=t),null===s&&(s=t,u=t),u===(s=t)||void 0===s)return c=!0,l=0,d.onupdate(u),void d.oncomplete(u);c=!1},d=On({interpolate:h,target:{set:f,get:function(){return s}},resting:{get:function(){return c}},onupdate:function(t){},oncomplete:function(t){}});return d},tween:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.duration,i=void 0===r?500:r,o=n.easing,a=void 0===o?Xn:o,s=n.delay,u=void 0===s?0:s,l=null,c=!0,h=!1,f=null,d=function(n,r){c||null===f||(null===l&&(l=n),n-l<u||((t=n-l-u)>=i||r?(t=1,e=h?0:1,p.onupdate(e*f),p.oncomplete(e*f),c=!0):(e=t/i,p.onupdate((t>=0?a(h?1-e:e):0)*f))))},p=On({interpolate:d,target:{get:function(){return h?0:f},set:function(t){if(null===f)return f=t,p.onupdate(t),void p.oncomplete(t);t<f?(f=1,h=!0):(h=!1,f=t),c=!1,l=null}},resting:{get:function(){return c}},onupdate:function(t){},oncomplete:function(t){}});return p}},Kn=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(e=Array.isArray(e)?e:[e]).forEach((function(e){t.forEach((function(t){var i=t,o=function(){return n[t]},a=function(e){return n[t]=e};"object"===Be(t)&&(i=t.key,o=t.getter||o,a=t.setter||a),e[i]&&!r||(e[i]={get:o,set:a})}))}))},Jn=function(t){return null!=t},Qn={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},tr=function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1},er=function(t,e){var n=e.opacity,r=e.perspective,i=e.translateX,o=e.translateY,a=e.scaleX,s=e.scaleY,u=e.rotateX,l=e.rotateY,c=e.rotateZ,h=e.originX,f=e.originY,d=e.width,p=e.height,g="",m="";(Jn(h)||Jn(f))&&(m+="transform-origin: ".concat(h||0,"px ").concat(f||0,"px;")),Jn(r)&&(g+="perspective(".concat(r,"px) ")),(Jn(i)||Jn(o))&&(g+="translate3d(".concat(i||0,"px, ").concat(o||0,"px, 0) ")),(Jn(a)||Jn(s))&&(g+="scale3d(".concat(Jn(a)?a:1,", ").concat(Jn(s)?s:1,", 1) ")),Jn(c)&&(g+="rotateZ(".concat(c,"rad) ")),Jn(u)&&(g+="rotateX(".concat(u,"rad) ")),Jn(l)&&(g+="rotateY(".concat(l,"rad) ")),g.length&&(m+="transform:".concat(g,";")),Jn(n)&&(m+="opacity:".concat(n,";"),0===n&&(m+="visibility:hidden;"),n<1&&(m+="pointer-events:none;")),Jn(p)&&(m+="height:".concat(p,"px;")),Jn(d)&&(m+="width:".concat(d,"px;"));var v=t.elementCurrentStyle||"";m.length===v.length&&m===v||(t.style.cssText=m,t.elementCurrentStyle=m)},nr={styles:function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewInternalAPI,i=t.viewExternalAPI,o=t.view,a=Re({},n),s={};Kn(e,[r,i],n);var u=function(){return o.rect?zn(o.rect,o.childViews,[n.translateX||0,n.translateY||0],[n.scaleX||0,n.scaleY||0]):null};return r.rect={get:u},i.rect={get:u},e.forEach((function(t){n[t]=void 0===a[t]?Qn[t]:a[t]})),{write:function(){if(tr(s,n))return er(o.element,n),Object.assign(s,Re({},n)),!0},destroy:function(){}}},listeners:function(t){t.mixinConfig,t.viewProps,t.viewInternalAPI;var e,n=t.viewExternalAPI,r=(t.viewState,t.view),i=[],o=(e=r.element,function(t,n){e.addEventListener(t,n)}),a=function(t){return function(e,n){t.removeEventListener(e,n)}}(r.element);return n.on=function(t,e){i.push({type:t,fn:e}),o(t,e)},n.off=function(t,e){i.splice(i.findIndex((function(n){return n.type===t&&n.fn===e})),1),a(t,e)},{write:function(){return!0},destroy:function(){i.forEach((function(t){a(t.type,t.fn)}))}}},animations:function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewInternalAPI,i=t.viewExternalAPI,o=Re({},n),a=[];return Rn(e,(function(t,e){var s=function(t,e,n){var r=t[e]&&"object"===Be(t[e][n])?t[e][n]:t[e]||t,i="string"==typeof r?r:r.type,o="object"===Be(r)?Re({},r):{};return Zn[i]?Zn[i](o):null}(e);s&&(s.onupdate=function(e){n[t]=e},s.target=o[t],Kn([{key:t,setter:function(t){s.target!==t&&(s.target=t)},getter:function(){return n[t]}}],[r,i],n,!0),a.push(s))})),{write:function(t){var e=document.hidden,n=!0;return a.forEach((function(r){r.resting||(n=!1),r.interpolate(t,e)})),n},destroy:function(){}}},apis:function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewExternalAPI;Kn(e,r,n)}},rr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.layoutCalculated||(t.paddingTop=parseInt(n.paddingTop,10)||0,t.marginTop=parseInt(n.marginTop,10)||0,t.marginRight=parseInt(n.marginRight,10)||0,t.marginBottom=parseInt(n.marginBottom,10)||0,t.marginLeft=parseInt(n.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=null===e.offsetParent,t},ir=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tag,n=void 0===e?"div":e,r=t.name,i=void 0===r?null:r,o=t.attributes,a=void 0===o?{}:o,s=t.read,u=void 0===s?function(){}:s,l=t.write,c=void 0===l?function(){}:l,h=t.create,f=void 0===h?function(){}:h,d=t.destroy,p=void 0===d?function(){}:d,g=t.filterFrameActionsForChild,m=void 0===g?function(t,e){return e}:g,v=t.didCreateView,y=void 0===v?function(){}:v,E=t.didWriteView,b=void 0===E?function(){}:E,A=t.ignoreRect,_=void 0!==A&&A,D=t.ignoreRectUpdate,w=void 0!==D&&D,T=t.mixins,x=void 0===T?[]:T;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Bn(n,"filepond--".concat(i),a),o=window.getComputedStyle(r,null),s=rr(),l=null,h=!1,d=[],g=[],v={},E={},A=[c],D=[u],T=[p],C=function(){return r},k=function(){return d.concat()},I=function(){return v},S=function(t){return function(e,n){return e(t,n)}},R=function(){return l||(l=zn(s,d,[0,0],[1,1]))},O=function(){return o},L=function(){l=null,d.forEach((function(t){return t._read()})),!(w&&s.width&&s.height)&&rr(s,r,o);var t={root:j,props:e,rect:s};D.forEach((function(e){return e(t)}))},M=function(t,n,r){var i=0===n.length;return A.forEach((function(o){!1===o({props:e,root:j,actions:n,timestamp:t,shouldOptimize:r})&&(i=!1)})),g.forEach((function(e){!1===e.write(t)&&(i=!1)})),d.filter((function(t){return!!t.element.parentNode})).forEach((function(e){e._write(t,m(e,n),r)||(i=!1)})),d.forEach((function(e,o){e.element.parentNode||(j.appendChild(e.element,o),e._read(),e._write(t,m(e,n),r),i=!1)})),h=i,b({props:e,root:j,actions:n,timestamp:t}),i},F=function(){g.forEach((function(t){return t.destroy()})),T.forEach((function(t){t({root:j,props:e})})),d.forEach((function(t){return t._destroy()}))},P={element:{get:C},style:{get:O},childViews:{get:k}},B=Re(Re({},P),{},{rect:{get:R},ref:{get:I},is:function(t){return i===t},appendChild:Nn(r),createChildView:S(t),linkView:function(t){return d.push(t),t},unlinkView:function(t){d.splice(d.indexOf(t),1)},appendChildView:Gn(0,d),removeChildView:jn(r,d),registerWriter:function(t){return A.push(t)},registerReader:function(t){return D.push(t)},registerDestroyer:function(t){return T.push(t)},invalidateLayout:function(){return r.layoutCalculated=!1},dispatch:t.dispatch,query:t.query}),N={element:{get:C},childViews:{get:k},rect:{get:R},resting:{get:function(){return h}},isRectIgnored:function(){return _},_read:L,_write:M,_destroy:F},G=Re(Re({},P),{},{rect:{get:function(){return s}}});Object.keys(x).sort((function(t,e){return"styles"===t?1:"styles"===e?-1:0})).forEach((function(t){var n=nr[t]({mixinConfig:x[t],viewProps:e,viewState:E,viewInternalAPI:B,viewExternalAPI:N,view:On(G)});n&&g.push(n)}));var j=On(B);f({root:j,props:e});var U=qn(r);return d.forEach((function(t,e){j.appendChild(t.element,U+e)})),y(j),On(N)}},or=function(t,e){return function(n){var r=n.root,i=n.props,o=n.actions,a=void 0===o?[]:o,s=n.timestamp,u=n.shouldOptimize;a.filter((function(e){return t[e.type]})).forEach((function(e){return t[e.type]({root:r,props:i,action:e.data,timestamp:s,shouldOptimize:u})})),e&&e({root:r,props:i,actions:a,timestamp:s,shouldOptimize:u})}},ar=function(t,e){return e.parentNode.insertBefore(t,e)},sr=function(t,e){return e.parentNode.insertBefore(t,e.nextSibling)},ur=function(t){return Array.isArray(t)},lr=function(t){return null==t},cr=function(t){return t.trim()},hr=function(t){return""+t},fr=function(t){return"boolean"==typeof t},dr=function(t){return fr(t)?t:"true"===t},pr=function(t){return"string"==typeof t},gr=function(t){return $n(t)?t:pr(t)?hr(t).replace(/[a-z]+/gi,""):0},mr=function(t){return parseInt(gr(t),10)},vr=function(t){return parseFloat(gr(t))},yr=function(t){return $n(t)&&isFinite(t)&&Math.floor(t)===t},Er=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(yr(t))return t;var n=hr(t).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),mr(n)*e*e):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),mr(n)*e):mr(n)},br=function(t){return"function"==typeof t},Ar={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},_r=function(t,e,n,r,i){if(null===e)return null;if("function"==typeof e)return e;var o={url:"GET"===n||"PATCH"===n?"?".concat(t,"="):"",method:n,headers:i,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(pr(e))return o.url=e,o;if(Object.assign(o,e),pr(o.headers)){var a=o.headers.split(/:(.+)/);o.headers={header:a[0],value:a[1]}}return o.withCredentials=dr(o.withCredentials),o},Dr=function(t){return"object"===Be(t)&&null!==t},wr=function(t){return ur(t)?"array":function(t){return null===t}(t)?"null":yr(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":function(t){return Dr(t)&&pr(t.url)&&Dr(t.process)&&Dr(t.revert)&&Dr(t.restore)&&Dr(t.fetch)}(t)?"api":Be(t)},Tr={array:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return lr(t)?[]:ur(t)?t:hr(t).split(e).map(cr).filter((function(t){return t.length}))},boolean:dr,int:function(t){return"bytes"===wr(t)?Er(t):mr(t)},number:vr,float:vr,bytes:Er,string:function(t){return br(t)?t:hr(t)},function:function(t){return function(t){for(var e=self,n=t.split("."),r=null;r=n.shift();)if(!(e=e[r]))return null;return e}(t)},serverapi:function(t){return(n={}).url=pr(e=t)?e:e.url||"",n.timeout=e.timeout?parseInt(e.timeout,10):0,n.headers=e.headers?e.headers:{},Rn(Ar,(function(t){n[t]=_r(t,e[t],Ar[t],n.timeout,n.headers)})),n.process=e.process||pr(e)||e.url?n.process:null,n.remove=e.remove||null,delete n.headers,n;var e,n},object:function(t){try{return JSON.parse(t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(t){return null}}},xr=function(t,e,n){if(t===e)return t;var r,i=wr(t);if(i!==n){var o=(r=t,Tr[n](r));if(i=wr(o),null===o)throw'Trying to assign value with incorrect type to "'.concat(option,'", allowed type: "').concat(n,'"');t=o}return t},Cr=function(t){var e={};return Rn(t,(function(n){var r,i,o,a=t[n];e[n]=(r=a[0],i=a[1],o=r,{enumerable:!0,get:function(){return o},set:function(t){o=xr(t,r,i)}})})),On(e)},kr=function(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Cr(t)}},Ir=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.split(/(?=[A-Z])/).map((function(t){return t.toLowerCase()})).join(e)},Sr=function(t,e){var n={};return Rn(e,(function(e){n[e]={get:function(){return t.getState().options[e]},set:function(n){t.dispatch("SET_".concat(Ir(e,"_").toUpperCase()),{value:n})}}})),n},Rr=function(t){return function(e,n,r){var i={};return Rn(t,(function(t){var n=Ir(t,"_").toUpperCase();i["SET_".concat(n)]=function(i){try{r.options[t]=i.value}catch(t){}e("DID_SET_".concat(n),{value:r.options[t]})}})),i}},Or=function(t){return function(e){var n={};return Rn(t,(function(t){n["GET_".concat(Ir(t,"_").toUpperCase())]=function(n){return e.options[t]}})),n}},Lr=1,Mr=2,Fr=3,Pr=4,Br=5,Nr=function(){return Math.random().toString(36).substr(2,9)},Gr=function(t,e){return t.splice(e,1)},jr=function(){var t=[],e=function(e,n){Gr(t,t.findIndex((function(t){return t.event===e&&(t.cb===n||!n)})))},n=function(e,n,r){t.filter((function(t){return t.event===e})).map((function(t){return t.cb})).forEach((function(t){return function(t,e){e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)}((function(){return t.apply(void 0,Le(n))}),r)}))};return{fireSync:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n(t,r,!0)},fire:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];n(t,r,!1)},on:function(e,n){t.push({event:e,cb:n})},onOnce:function(n,r){t.push({event:n,cb:function(){e(n,r),r.apply(void 0,arguments)}})},off:e}},Ur=function(t,e,n){Object.getOwnPropertyNames(t).filter((function(t){return!n.includes(t)})).forEach((function(n){return Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))},Vr=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],qr=function(t){var e={};return Ur(t,e,Vr),e},zr=function(t){t.forEach((function(e,n){e.released&&Gr(t,n)}))},Wr={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Hr={INPUT:1,LIMBO:2,LOCAL:3},$r=function(t){return/[^0-9]+/.exec(t)},Yr=function(){return $r(1.1.toLocaleString())[0]},Xr={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Zr=[],Kr=function(t,e,n){return new Promise((function(r,i){var o=Zr.filter((function(e){return e.key===t})).map((function(t){return t.cb}));if(0!==o.length){var a=o.shift();o.reduce((function(t,e){return t.then((function(t){return e(t,n)}))}),a(e,n)).then((function(t){return r(t)})).catch((function(t){return i(t)}))}else r(e)}))},Jr=function(t,e,n){return Zr.filter((function(e){return e.key===t})).map((function(t){return t.cb(e,n)}))},Qr=function(t,e){return Zr.push({key:t,cb:e})},ti=function(){return Re({},ei)},ei={id:[null,Xr.STRING],name:["filepond",Xr.STRING],disabled:[!1,Xr.BOOLEAN],className:[null,Xr.STRING],required:[!1,Xr.BOOLEAN],captureMethod:[null,Xr.STRING],allowSyncAcceptAttribute:[!0,Xr.BOOLEAN],allowDrop:[!0,Xr.BOOLEAN],allowBrowse:[!0,Xr.BOOLEAN],allowPaste:[!0,Xr.BOOLEAN],allowMultiple:[!1,Xr.BOOLEAN],allowReplace:[!0,Xr.BOOLEAN],allowRevert:[!0,Xr.BOOLEAN],allowRemove:[!0,Xr.BOOLEAN],allowProcess:[!0,Xr.BOOLEAN],allowReorder:[!1,Xr.BOOLEAN],allowDirectoriesOnly:[!1,Xr.BOOLEAN],storeAsFile:[!1,Xr.BOOLEAN],forceRevert:[!1,Xr.BOOLEAN],maxFiles:[null,Xr.INT],checkValidity:[!1,Xr.BOOLEAN],itemInsertLocationFreedom:[!0,Xr.BOOLEAN],itemInsertLocation:["before",Xr.STRING],itemInsertInterval:[75,Xr.INT],dropOnPage:[!1,Xr.BOOLEAN],dropOnElement:[!0,Xr.BOOLEAN],dropValidation:[!1,Xr.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Xr.ARRAY],instantUpload:[!0,Xr.BOOLEAN],maxParallelUploads:[2,Xr.INT],allowMinimumUploadDuration:[!0,Xr.BOOLEAN],chunkUploads:[!1,Xr.BOOLEAN],chunkForce:[!1,Xr.BOOLEAN],chunkSize:[5e6,Xr.INT],chunkRetryDelays:[[500,1e3,3e3],Xr.ARRAY],server:[null,Xr.SERVER_API],fileSizeBase:[1e3,Xr.INT],labelFileSizeBytes:["bytes",Xr.STRING],labelFileSizeKilobytes:["KB",Xr.STRING],labelFileSizeMegabytes:["MB",Xr.STRING],labelFileSizeGigabytes:["GB",Xr.STRING],labelDecimalSeparator:[Yr(),Xr.STRING],labelThousandsSeparator:[(xn=Yr(),Cn=1e3.toLocaleString(),Cn!==1e3.toString()?$r(Cn)[0]:"."===xn?",":"."),Xr.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Xr.STRING],labelInvalidField:["Field contains invalid files",Xr.STRING],labelFileWaitingForSize:["Waiting for size",Xr.STRING],labelFileSizeNotAvailable:["Size not available",Xr.STRING],labelFileCountSingular:["file in list",Xr.STRING],labelFileCountPlural:["files in list",Xr.STRING],labelFileLoading:["Loading",Xr.STRING],labelFileAdded:["Added",Xr.STRING],labelFileLoadError:["Error during load",Xr.STRING],labelFileRemoved:["Removed",Xr.STRING],labelFileRemoveError:["Error during remove",Xr.STRING],labelFileProcessing:["Uploading",Xr.STRING],labelFileProcessingComplete:["Upload complete",Xr.STRING],labelFileProcessingAborted:["Upload cancelled",Xr.STRING],labelFileProcessingError:["Error during upload",Xr.STRING],labelFileProcessingRevertError:["Error during revert",Xr.STRING],labelTapToCancel:["tap to cancel",Xr.STRING],labelTapToRetry:["tap to retry",Xr.STRING],labelTapToUndo:["tap to undo",Xr.STRING],labelButtonRemoveItem:["Remove",Xr.STRING],labelButtonAbortItemLoad:["Abort",Xr.STRING],labelButtonRetryItemLoad:["Retry",Xr.STRING],labelButtonAbortItemProcessing:["Cancel",Xr.STRING],labelButtonUndoItemProcessing:["Undo",Xr.STRING],labelButtonRetryItemProcessing:["Retry",Xr.STRING],labelButtonProcessItem:["Upload",Xr.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Xr.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Xr.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Xr.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Xr.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Xr.STRING],oninit:[null,Xr.FUNCTION],onwarning:[null,Xr.FUNCTION],onerror:[null,Xr.FUNCTION],onactivatefile:[null,Xr.FUNCTION],oninitfile:[null,Xr.FUNCTION],onaddfilestart:[null,Xr.FUNCTION],onaddfileprogress:[null,Xr.FUNCTION],onaddfile:[null,Xr.FUNCTION],onprocessfilestart:[null,Xr.FUNCTION],onprocessfileprogress:[null,Xr.FUNCTION],onprocessfileabort:[null,Xr.FUNCTION],onprocessfilerevert:[null,Xr.FUNCTION],onprocessfile:[null,Xr.FUNCTION],onprocessfiles:[null,Xr.FUNCTION],onremovefile:[null,Xr.FUNCTION],onpreparefile:[null,Xr.FUNCTION],onupdatefiles:[null,Xr.FUNCTION],onreorderfiles:[null,Xr.FUNCTION],beforeDropFile:[null,Xr.FUNCTION],beforeAddFile:[null,Xr.FUNCTION],beforeRemoveFile:[null,Xr.FUNCTION],beforePrepareFile:[null,Xr.FUNCTION],stylePanelLayout:[null,Xr.STRING],stylePanelAspectRatio:[null,Xr.STRING],styleItemPanelAspectRatio:[null,Xr.STRING],styleButtonRemoveItemPosition:["left",Xr.STRING],styleButtonProcessItemPosition:["right",Xr.STRING],styleLoadIndicatorPosition:["right",Xr.STRING],styleProgressIndicatorPosition:["right",Xr.STRING],styleButtonRemoveItemAlign:[!1,Xr.BOOLEAN],files:[[],Xr.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Xr.ARRAY]},ni=function(t,e){return lr(e)?t[0]||null:yr(e)?t[e]||null:("object"===Be(e)&&(e=e.id),t.find((function(t){return t.id===e}))||null)},ri=function(t){if(lr(t))return t;if(/:/.test(t)){var e=t.split(":");return e[1]/e[0]}return parseFloat(t)},ii=function(t){return t.filter((function(t){return!t.archived}))},oi={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},ai=null,si=[Wr.LOAD_ERROR,Wr.PROCESSING_ERROR,Wr.PROCESSING_REVERT_ERROR],ui=[Wr.LOADING,Wr.PROCESSING,Wr.PROCESSING_QUEUED,Wr.INIT],li=[Wr.PROCESSING_COMPLETE],ci=function(t){return si.includes(t.status)},hi=function(t){return ui.includes(t.status)},fi=function(t){return li.includes(t.status)},di=function(t){return Dr(t.options.server)&&(Dr(t.options.server.process)||br(t.options.server.process))},pi=function(t){return{GET_STATUS:function(){var e=ii(t.items),n=oi.EMPTY,r=oi.ERROR,i=oi.BUSY,o=oi.IDLE,a=oi.READY;return 0===e.length?n:e.some(ci)?r:e.some(hi)?i:e.some(fi)?a:o},GET_ITEM:function(e){return ni(t.items,e)},GET_ACTIVE_ITEM:function(e){return ni(ii(t.items),e)},GET_ACTIVE_ITEMS:function(){return ii(t.items)},GET_ITEMS:function(){return t.items},GET_ITEM_NAME:function(e){var n=ni(t.items,e);return n?n.filename:null},GET_ITEM_SIZE:function(e){var n=ni(t.items,e);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(t.options).filter((function(t){return/^style/.test(t)})).map((function(e){return{name:e,value:t.options[e]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(t.options.stylePanelLayout)?1:ri(t.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return t.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(e){return ii(t.items).filter((function(t){return t.status===e}))},GET_TOTAL_ITEMS:function(){return ii(t.items).length},SHOULD_UPDATE_FILE_INPUT:function(){return t.options.storeAsFile&&function(){if(null===ai)try{var t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));var e=document.createElement("input");e.setAttribute("type","file"),e.files=t.files,ai=1===e.files.length}catch(t){ai=!1}return ai}()&&!di(t)},IS_ASYNC:function(){return di(t)},GET_FILE_SIZE_LABELS:function(t){return{labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},gi=function(t,e,n){return Math.max(Math.min(n,t),e)},mi=function(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},vi=function(t){return t.split("/").pop().split("?").shift()},yi=function(t){return t.split(".").pop()},Ei=function(t){if("string"!=typeof t)return"";var e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?"jpeg"===e?"jpg":e:""},bi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(e+t).slice(-e.length)},Ai=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(t.getFullYear(),"-").concat(bi(t.getMonth()+1,"00"),"-").concat(bi(t.getDate(),"00"),"_").concat(bi(t.getHours(),"00"),"-").concat(bi(t.getMinutes(),"00"),"-").concat(bi(t.getSeconds(),"00"))},_i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i="string"==typeof n?t.slice(0,t.size,n):t.slice(0,t.size,t.type);return i.lastModifiedDate=new Date,t._relativePath&&(i._relativePath=t._relativePath),pr(e)||(e=Ai()),e&&null===r&&yi(e)?i.name=e:(r=r||Ei(i.type),i.name=e+(r?"."+r:"")),i},Di=function(t,e){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},wi=function(t){return(/^data:(.+);/.exec(t)||[])[1]||null},Ti=function(t){var e=wi(t),n=function(t){return atob(function(t){return t.split(",")[1].replace(/\s/g,"")}(t))}(t);return function(t,e){for(var n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return Di(n,e)}(n,e)},xi=function(t){if(!/^content-disposition:/i.test(t))return null;var e=t.split(/filename=|filename\*=.+''/).splice(1).map((function(t){return t.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(t){return t.length}));return e.length?decodeURI(e[e.length-1]):null},Ci=function(t){if(/content-length:/i.test(t)){var e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},ki=function(t){return/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null},Ii=function(t){var e,n={source:null,name:null,size:null},r=Me(t.split("\n"));try{for(r.s();!(e=r.n()).done;){var i=e.value,o=xi(i);if(o)n.name=o;else{var a=Ci(i);if(a)n.size=a;else{var s=ki(i);s&&(n.source=s)}}}}catch(t){r.e(t)}finally{r.f()}return n},Si=function(t){var e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(n){t?(e.timestamp=Date.now(),e.request=t(n,(function(t){e.duration=Date.now()-e.timestamp,e.complete=!0,t instanceof Blob&&(t=_i(t,t.name||vi(n))),r.fire("load",t instanceof Blob?t:t?t.body:null)}),(function(t){r.fire("error","string"==typeof t?{type:"error",code:0,body:t}:t)}),(function(t,n,i){i&&(e.size=i),e.duration=Date.now()-e.timestamp,t?(e.progress=n/i,r.fire("progress",e.progress)):e.progress=null}),(function(){r.fire("abort")}),(function(t){var n=Ii("string"==typeof t?t:t.headers);r.fire("meta",{size:e.size||n.size,filename:n.name,source:n.source})}))):r.fire("error",{type:"error",body:"Can't load URL",code:400})},r=Re(Re({},jr()),{},{setSource:function(t){return e.source=t},getProgress:function(){return e.progress},abort:function(){e.request&&e.request.abort&&e.request.abort()},load:function(){var t,i,o=e.source;r.fire("init",o),o instanceof File?r.fire("load",o):o instanceof Blob?r.fire("load",_i(o,o.name)):mi(o)?r.fire("load",_i(Ti(o),t,null,i)):n(o)}});return r},Ri=function(t){return/GET|HEAD/.test(t)},Oi=function(t,e,n){var r={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){i=!0,a.abort()}},i=!1,o=!1;n=Re({method:"POST",headers:{},withCredentials:!1},n),e=encodeURI(e),Ri(n.method)&&t&&(e="".concat(e).concat(encodeURIComponent("string"==typeof t?t:JSON.stringify(t))));var a=new XMLHttpRequest;return(Ri(n.method)?a:a.upload).onprogress=function(t){i||r.onprogress(t.lengthComputable,t.loaded,t.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||o||(o=!0,r.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?r.onload(a):r.onerror(a)},a.onerror=function(){return r.onerror(a)},a.onabort=function(){i=!0,r.onabort()},a.ontimeout=function(){return r.ontimeout(a)},a.open(n.method,e,!0),yr(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(t){var e=unescape(encodeURIComponent(n.headers[t]));a.setRequestHeader(t,e)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(t),r},Li=function(t,e,n,r){return{type:t,code:e,body:n,headers:r}},Mi=function(t){return function(e){t(Li("error",0,"Timeout",e.getAllResponseHeaders()))}},Fi=function(t){return/\?/.test(t)},Pi=function(){for(var t="",e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){t+=Fi(t)&&Fi(e)?e.replace(/\?/,"&"):e})),t},Bi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!pr(e.url))return null;var n=e.onload||function(t){return t},r=e.onerror||function(t){return null};return function(i,o,a,s,u,l){var c=Oi(i,Pi(t,e.url),Re(Re({},e),{},{responseType:"blob"}));return c.onload=function(t){var r=t.getAllResponseHeaders(),a=Ii(r).name||vi(i);o(Li("load",t.status,"HEAD"===e.method?null:_i(n(t.response),a),r))},c.onerror=function(t){a(Li("error",t.status,r(t.response)||t.statusText,t.getAllResponseHeaders()))},c.onheaders=function(t){l(Li("headers",t.status,null,t.getAllResponseHeaders()))},c.ontimeout=Mi(a),c.onprogress=s,c.onabort=u,c}},Ni=0,Gi=1,ji=2,Ui=3,Vi=4,qi=function(t,e,n,r,i,o,a,s,u,l,c){for(var h=[],f=c.chunkTransferId,d=c.chunkServer,p=c.chunkSize,g=c.chunkRetryDelays,m={serverId:f,aborted:!1},v=e.ondata||function(t){return t},y=e.onload||function(t,e){return"HEAD"===e?t.getResponseHeader("Upload-Offset"):t.response},E=e.onerror||function(t){return null},b=Math.floor(r.size/p),A=0;A<=b;A++){var _=A*p,D=r.slice(_,_+p,"application/offset+octet-stream");h[A]={index:A,size:D.size,offset:_,data:D,file:r,progress:0,retries:Le(g),status:Ni,error:null,request:null,timeout:null}}var w,T,x,C,k=function(t){return t.status===Ni||t.status===Ui},I=function(e){if(!m.aborted)if(e=e||h.find(k)){e.status=ji,e.progress=null;var n=d.ondata||function(t){return t},i=d.onerror||function(t){return null},s=Pi(t,d.url,m.serverId),l="function"==typeof d.headers?d.headers(e):Re(Re({},d.headers),{},{"Content-Type":"application/offset+octet-stream","Upload-Offset":e.offset,"Upload-Length":r.size,"Upload-Name":r.name}),c=e.request=Oi(n(e.data),s,Re(Re({},d),{},{headers:l}));c.onload=function(){e.status=Gi,e.request=null,O()},c.onprogress=function(t,n,r){e.progress=t?n:null,R()},c.onerror=function(t){e.status=Ui,e.request=null,e.error=i(t.response)||t.statusText,S(e)||a(Li("error",t.status,i(t.response)||t.statusText,t.getAllResponseHeaders()))},c.ontimeout=function(t){e.status=Ui,e.request=null,S(e)||Mi(a)(t)},c.onabort=function(){e.status=Ni,e.request=null,u()}}else h.every((function(t){return t.status===Gi}))&&o(m.serverId)},S=function(t){return 0!==t.retries.length&&(t.status=Vi,clearTimeout(t.timeout),t.timeout=setTimeout((function(){I(t)}),t.retries.shift()),!0)},R=function(){var t=h.reduce((function(t,e){return null===t||null===e.progress?null:t+e.progress}),0);if(null===t)return s(!1,0,0);var e=h.reduce((function(t,e){return t+e.size}),0);s(!0,t,e)},O=function(){h.filter((function(t){return t.status===ji})).length>=1||I()};return m.serverId?(w=function(t){m.aborted||(h.filter((function(e){return e.offset<t})).forEach((function(t){t.status=Gi,t.progress=t.size})),O())},T=Pi(t,d.url,m.serverId),x={headers:"function"==typeof e.headers?e.headers(m.serverId):Re({},e.headers),method:"HEAD"},(C=Oi(null,T,x)).onload=function(t){return w(y(t,x.method))},C.onerror=function(t){return a(Li("error",t.status,E(t.response)||t.statusText,t.getAllResponseHeaders()))},C.ontimeout=Mi(a)):function(o){var s=new FormData;Dr(i)&&s.append(n,JSON.stringify(i));var u="function"==typeof e.headers?e.headers(r,i):Re(Re({},e.headers),{},{"Upload-Length":r.size}),l=Re(Re({},e),{},{headers:u}),c=Oi(v(s),Pi(t,e.url),l);c.onload=function(t){return o(y(t,l.method))},c.onerror=function(t){return a(Li("error",t.status,E(t.response)||t.statusText,t.getAllResponseHeaders()))},c.ontimeout=Mi(a)}((function(t){m.aborted||(l(t),m.serverId=t,O())})),{abort:function(){m.aborted=!0,h.forEach((function(t){clearTimeout(t.timeout),t.request&&t.request.abort()}))}}},zi=function(t,e,n,r){return function(i,o,a,s,u,l,c){if(i){var h=r.chunkUploads,f=h&&i.size>r.chunkSize,d=h&&(f||r.chunkForce);if(i instanceof Blob&&d)return qi(t,e,n,i,o,a,s,u,l,c,r);var p=e.ondata||function(t){return t},g=e.onload||function(t){return t},m=e.onerror||function(t){return null},v="function"==typeof e.headers?e.headers(i,o)||{}:Re({},e.headers),y=Re(Re({},e),{},{headers:v}),E=new FormData;Dr(o)&&E.append(n,JSON.stringify(o)),(i instanceof Blob?[{name:null,file:i}]:i).forEach((function(t){E.append(n,t.file,null===t.name?t.file.name:"".concat(t.name).concat(t.file.name))}));var b=Oi(p(E),Pi(t,e.url),y);return b.onload=function(t){a(Li("load",t.status,g(t.response),t.getAllResponseHeaders()))},b.onerror=function(t){s(Li("error",t.status,m(t.response)||t.statusText,t.getAllResponseHeaders()))},b.ontimeout=Mi(s),b.onprogress=u,b.onabort=l,b}}},Wi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!pr(e.url))return function(t,e){return e()};var n=e.onload||function(t){return t},r=e.onerror||function(t){return null};return function(i,o,a){var s=Oi(i,t+e.url,e);return s.onload=function(t){o(Li("load",t.status,n(t.response),t.getAllResponseHeaders()))},s.onerror=function(t){a(Li("error",t.status,r(t.response)||t.statusText,t.getAllResponseHeaders()))},s.ontimeout=Mi(a),s}},Hi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t+Math.random()*(e-t)},$i=function(t,e){var n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},r=e.allowMinimumUploadDuration,i=function(){n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},o=r?function(){return n.progress?Math.min(n.progress,n.perceivedProgress):null}:function(){return n.progress||null},a=r?function(){return Math.min(n.duration,n.perceivedDuration)}:function(){return n.duration},s=Re(Re({},jr()),{},{process:function(e,i){var o=function(){0!==n.duration&&null!==n.progress&&s.fire("progress",s.getProgress())},a=function(){n.complete=!0,s.fire("load-perceived",n.response.body)};s.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,i=null,o=Date.now(),a=function a(){var s=Date.now()-o,u=Hi(n,r);s+u>e&&(u=s+u-e);var l=s/e;l>=1||document.hidden?t(1):(t(l),i=setTimeout(a,u))};return e>0&&a(),{clear:function(){clearTimeout(i)}}}((function(t){n.perceivedProgress=t,n.perceivedDuration=Date.now()-n.timestamp,o(),n.response&&1===n.perceivedProgress&&!n.complete&&a()}),r?Hi(750,1500):0),n.request=t(e,i,(function(t){n.response=Dr(t)?t:{type:"load",code:200,body:"".concat(t),headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,s.fire("load",n.response.body),(!r||r&&1===n.perceivedProgress)&&a()}),(function(t){n.perceivedPerformanceUpdater.clear(),s.fire("error",Dr(t)?t:{type:"error",code:0,body:"".concat(t)})}),(function(t,e,r){n.duration=Date.now()-n.timestamp,n.progress=t?e/r:null,o()}),(function(){n.perceivedPerformanceUpdater.clear(),s.fire("abort",n.response?n.response.body:null)}),(function(t){s.fire("transfer",t)}))},abort:i,getProgress:o,getDuration:a,reset:function(){i(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null}});return s},Yi=function(t){return t.substr(0,t.lastIndexOf("."))||t},Xi=function(t){var e=[t.name,t.size,t.type];return t instanceof Blob||mi(t)?e[0]=t.name||Ai():mi(t)?(e[1]=t.length,e[2]=wi(t)):pr(t)&&(e[0]=vi(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},Zi=function(t){return!!(t instanceof File||t instanceof Blob&&t.name)},Ki=function t(e){if(!Dr(e))return e;var n=ur(e)?[]:{};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];n[r]=i&&Dr(i)?t(i):i}return n},Ji=function(t,e){var n=function(t,e){return lr(e)?0:pr(e)?t.findIndex((function(t){return t.id===e})):-1}(t,e);if(!(n<0))return t[n]||null},Qi=function(t,e,n,r,i,o){var a=Oi(null,t,{method:"GET",responseType:"blob"});return a.onload=function(n){var r=n.getAllResponseHeaders(),i=Ii(r).name||vi(t);e(Li("load",n.status,_i(n.response,i),r))},a.onerror=function(t){n(Li("error",t.status,t.statusText,t.getAllResponseHeaders()))},a.onheaders=function(t){o(Li("headers",t.status,null,t.getAllResponseHeaders()))},a.ontimeout=Mi(n),a.onprogress=r,a.onabort=i,a},to=function(t){return 0===t.indexOf("//")&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},eo=function(t){return function(){return br(t)?t.apply(void 0,arguments):t}},no=function(t,e){clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout((function(){t("DID_UPDATE_ITEMS",{items:ii(e.items)})}),0)},ro=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new Promise((function(e){if(!t)return e(!0);var r=t.apply(void 0,n);return null==r?e(!0):"boolean"==typeof r?e(r):void("function"==typeof r.then&&r.then(e))}))},io=function(t,e){t.items.sort((function(t,n){return e(qr(t),qr(n))}))},oo=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.query,i=n.success,o=void 0===i?function(){}:i,a=n.failure,s=void 0===a?function(){}:a,u=Ie(n,fe),l=ni(t.items,r);l?e(l,o,s,u||{}):s({error:Li("error",0,"Item not found"),file:null})}},ao=function(t,e,n){return{ABORT_ALL:function(){ii(n.items).forEach((function(t){t.freeze(),t.abortLoad(),t.abortProcessing()}))},DID_SET_FILES:function(e){var r=e.value,i=(void 0===r?[]:r).map((function(t){return{source:t.source?t.source:t,options:t.options}})),o=ii(n.items);o.forEach((function(e){i.find((function(t){return t.source===e.source||t.source===e.file}))||t("REMOVE_ITEM",{query:e,remove:!1})})),o=ii(n.items),i.forEach((function(e,n){o.find((function(t){return t.source===e.source||t.file===e.source}))||t("ADD_ITEM",Re(Re({},e),{},{interactionMethod:Br,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(r){var i=r.id,o=r.action,a=r.change;a.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var r=Ji(n.items,i);if(e("IS_ASYNC")){r.origin===Hr.LOCAL&&t("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.source});var s,u=function(){setTimeout((function(){t("REQUEST_ITEM_PROCESSING",{query:i})}),32)};return r.status===Wr.PROCESSING_COMPLETE?(s=n.options.instantUpload,void r.revert(Wi(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(s?u:function(){}).catch((function(){}))):r.status===Wr.PROCESSING?function(t){r.abortProcessing().then(t?u:function(){})}(n.options.instantUpload):void(n.options.instantUpload&&u())}Kr("SHOULD_PREPARE_OUTPUT",!1,{item:r,query:e,action:o,change:a}).then((function(n){var o=e("GET_BEFORE_PREPARE_FILE");o&&(n=o(r,n)),n&&t("REQUEST_PREPARE_OUTPUT",{query:i,item:r,success:function(e){t("DID_PREPARE_OUTPUT",{id:i,file:e})}},!0)}))}),0))},MOVE_ITEM:function(t){var e=t.query,r=t.index,i=ni(n.items,e);if(i){var o=n.items.indexOf(i);o!==(r=gi(r,0,n.items.length-1))&&n.items.splice(r,0,n.items.splice(o,1)[0])}},SORT:function(r){var i=r.compare;io(n,i),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var r=n.items,i=n.index,o=n.interactionMethod,a=n.success,s=void 0===a?function(){}:a,u=n.failure,l=void 0===u?function(){}:u,c=i;if(-1===i||void 0===i){var h=e("GET_ITEM_INSERT_LOCATION"),f=e("GET_TOTAL_ITEMS");c="before"===h?0:f}var d=e("GET_IGNORED_FILES"),p=r.filter((function(t){return Zi(t)?!d.includes(t.name.toLowerCase()):!lr(t)})).map((function(e){return new Promise((function(n,r){t("ADD_ITEM",{interactionMethod:o,source:e.source||e,success:n,failure:r,index:c++,options:e.options||{}})}))}));Promise.all(p).then(s).catch(l)},ADD_ITEM:function(r){var i=r.source,o=r.index,a=void 0===o?-1:o,s=r.interactionMethod,u=r.success,l=void 0===u?function(){}:u,c=r.failure,h=void 0===c?function(){}:c,f=r.options,d=void 0===f?{}:f;if(lr(i))h({error:Li("error",0,"No source"),file:null});else if(!Zi(i)||!n.options.ignoredFiles.includes(i.name.toLowerCase())){if(!function(t){var e=ii(t.items).length;if(!t.options.allowMultiple)return 0===e;var n=t.options.maxFiles;return null===n||e<n}(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var p=Li("warning",0,"Max files");return t("DID_THROW_MAX_FILES",{source:i,error:p}),void h({error:p,file:null})}var g=ii(n.items)[0];if(g.status===Wr.PROCESSING_COMPLETE||g.status===Wr.PROCESSING_REVERT_ERROR){var m=e("GET_FORCE_REVERT");if(g.revert(Wi(n.options.server.url,n.options.server.revert),m).then((function(){m&&t("ADD_ITEM",{source:i,index:a,interactionMethod:s,success:l,failure:h,options:d})})).catch((function(){})),m)return}t("REMOVE_ITEM",{query:g.id})}var v="local"===d.type?Hr.LOCAL:"limbo"===d.type?Hr.LIMBO:Hr.INPUT,y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Nr(),i={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:e,transferId:null,processingAborted:!1,status:e?Wr.PROCESSING_COMPLETE:Wr.INIT,activeLoader:null,activeProcessor:null},o=null,a={},s=function(t){return i.status=t},u=function(t){if(!i.released&&!i.frozen){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];d.fire.apply(d,[t].concat(n))}},l=function(e,n,r){i.source=e,d.fireSync("init"),i.file?d.fireSync("load-skip"):(i.file=Xi(e),n.on("init",(function(){u("load-init")})),n.on("meta",(function(e){i.file.size=e.size,i.file.filename=e.filename,e.source&&(t=Hr.LIMBO,i.serverFileReference=e.source,i.status=Wr.PROCESSING_COMPLETE),u("load-meta")})),n.on("progress",(function(t){s(Wr.LOADING),u("load-progress",t)})),n.on("error",(function(t){s(Wr.LOAD_ERROR),u("load-request-error",t)})),n.on("abort",(function(){s(Wr.INIT),u("load-abort")})),n.on("load",(function(e){i.activeLoader=null;var n=function(e){i.file=Zi(e)?e:i.file,t===Hr.LIMBO&&i.serverFileReference?s(Wr.PROCESSING_COMPLETE):s(Wr.IDLE),u("load")};i.serverFileReference?n(e):r(e,n,(function(t){i.file=e,u("load-meta"),s(Wr.LOAD_ERROR),u("load-file-error",t)}))})),n.setSource(e),i.activeLoader=n,n.load())},c=function t(e,n){if(i.processingAborted)i.processingAborted=!1;else if(s(Wr.PROCESSING),o=null,i.file instanceof Blob){e.on("load",(function(t){i.transferId=null,i.serverFileReference=t})),e.on("transfer",(function(t){i.transferId=t})),e.on("load-perceived",(function(t){i.activeProcessor=null,i.transferId=null,i.serverFileReference=t,s(Wr.PROCESSING_COMPLETE),u("process-complete",t)})),e.on("start",(function(){u("process-start")})),e.on("error",(function(t){i.activeProcessor=null,s(Wr.PROCESSING_ERROR),u("process-error",t)})),e.on("abort",(function(t){i.activeProcessor=null,i.serverFileReference=t,s(Wr.IDLE),u("process-abort"),o&&o()})),e.on("progress",(function(t){u("process-progress",t)}));var r=console.error;n(i.file,(function(t){i.archived||e.process(t,Re({},a))}),r),i.activeProcessor=e}else d.on("load",(function(){t(e,n)}))},h=function(t,e){return new Promise((function(n,r){var o=null!==i.serverFileReference?i.serverFileReference:i.transferId;null!==o?(t(o,(function(){i.serverFileReference=null,i.transferId=null,n()}),(function(t){e?(s(Wr.PROCESSING_REVERT_ERROR),u("process-revert-error"),r(t)):n()})),s(Wr.IDLE),u("process-revert")):n()}))},f=function(t,e,n){var r=t.split("."),i=r[0],o=r.pop(),s=a;r.forEach((function(t){return s=s[t]})),JSON.stringify(s[o])!==JSON.stringify(e)&&(s[o]=e,u("metadata-update",{key:i,value:a[i],silent:n}))},d=Re(Re({id:{get:function(){return r}},origin:{get:function(){return t},set:function(e){return t=e}},serverId:{get:function(){return i.serverFileReference}},transferId:{get:function(){return i.transferId}},status:{get:function(){return i.status}},filename:{get:function(){return i.file.name}},filenameWithoutExtension:{get:function(){return Yi(i.file.name)}},fileExtension:{get:function(){return yi(i.file.name)}},fileType:{get:function(){return i.file.type}},fileSize:{get:function(){return i.file.size}},file:{get:function(){return i.file}},relativePath:{get:function(){return i.file._relativePath}},source:{get:function(){return i.source}},getMetadata:function(t){return Ki(t?a[t]:a)},setMetadata:function(t,e,n){if(Dr(t)){var r=t;return Object.keys(r).forEach((function(t){f(t,r[t],e)})),t}return f(t,e,n),e},extend:function(t,e){return p[t]=e},abortLoad:function(){i.activeLoader?i.activeLoader.abort():(s(Wr.INIT),u("load-abort"))},retryLoad:function(){i.activeLoader&&i.activeLoader.load()},requestProcessing:function(){i.processingAborted=!1,s(Wr.PROCESSING_QUEUED)},abortProcessing:function(){return new Promise((function(t){if(!i.activeProcessor)return i.processingAborted=!0,s(Wr.IDLE),u("process-abort"),void t();o=function(){t()},i.activeProcessor.abort()}))},load:l,process:c,revert:h},jr()),{},{freeze:function(){return i.frozen=!0},release:function(){return i.released=!0},released:{get:function(){return i.released}},archive:function(){return i.archived=!0},archived:{get:function(){return i.archived}}}),p=On(d);return p}(v,v===Hr.INPUT?null:i,d.file);Object.keys(d.metadata||{}).forEach((function(t){y.setMetadata(t,d.metadata[t])})),Jr("DID_CREATE_ITEM",y,{query:e,dispatch:t});var E=e("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(a="before"===E?-1:n.items.length),function(t,e,n){lr(e)||(void 0===n?t.push(e):function(t,e,n){t.splice(e,0,n)}(t,n=gi(n,0,t.length),e))}(n.items,y,a),br(E)&&i&&io(n,E);var b=y.id;y.on("init",(function(){t("DID_INIT_ITEM",{id:b})})),y.on("load-init",(function(){t("DID_START_ITEM_LOAD",{id:b})})),y.on("load-meta",(function(){t("DID_UPDATE_ITEM_META",{id:b})})),y.on("load-progress",(function(e){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:b,progress:e})})),y.on("load-request-error",(function(e){var r=eo(n.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500)return t("DID_THROW_ITEM_INVALID",{id:b,error:e,status:{main:r,sub:"".concat(e.code," (").concat(e.body,")")}}),void h({error:e,file:qr(y)});t("DID_THROW_ITEM_LOAD_ERROR",{id:b,error:e,status:{main:r,sub:n.options.labelTapToRetry}})})),y.on("load-file-error",(function(e){t("DID_THROW_ITEM_INVALID",{id:b,error:e.status,status:e.status}),h({error:e.status,file:qr(y)})})),y.on("load-abort",(function(){t("REMOVE_ITEM",{query:b})})),y.on("load-skip",(function(){t("COMPLETE_LOAD_ITEM",{query:b,item:y,data:{source:i,success:l}})})),y.on("load",(function(){var r=function(r){r?(y.on("metadata-update",(function(e){t("DID_UPDATE_ITEM_METADATA",{id:b,change:e})})),Kr("SHOULD_PREPARE_OUTPUT",!1,{item:y,query:e}).then((function(r){var o=e("GET_BEFORE_PREPARE_FILE");o&&(r=o(y,r));var a=function(){t("COMPLETE_LOAD_ITEM",{query:b,item:y,data:{source:i,success:l}}),no(t,n)};r?t("REQUEST_PREPARE_OUTPUT",{query:b,item:y,success:function(e){t("DID_PREPARE_OUTPUT",{id:b,file:e}),a()}},!0):a()}))):t("REMOVE_ITEM",{query:b})};Kr("DID_LOAD_ITEM",y,{query:e,dispatch:t}).then((function(){ro(e("GET_BEFORE_ADD_FILE"),qr(y)).then(r)})).catch((function(e){if(!e||!e.error||!e.status)return r(!1);t("DID_THROW_ITEM_INVALID",{id:b,error:e.error,status:e.status})}))})),y.on("process-start",(function(){t("DID_START_ITEM_PROCESSING",{id:b})})),y.on("process-progress",(function(e){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:b,progress:e})})),y.on("process-error",(function(e){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:b,error:e,status:{main:eo(n.options.labelFileProcessingError)(e),sub:n.options.labelTapToRetry}})})),y.on("process-revert-error",(function(e){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:b,error:e,status:{main:eo(n.options.labelFileProcessingRevertError)(e),sub:n.options.labelTapToRetry}})})),y.on("process-complete",(function(e){t("DID_COMPLETE_ITEM_PROCESSING",{id:b,error:null,serverFileReference:e}),t("DID_DEFINE_VALUE",{id:b,value:e})})),y.on("process-abort",(function(){t("DID_ABORT_ITEM_PROCESSING",{id:b})})),y.on("process-revert",(function(){t("DID_REVERT_ITEM_PROCESSING",{id:b}),t("DID_DEFINE_VALUE",{id:b,value:null})})),t("DID_ADD_ITEM",{id:b,index:a,interactionMethod:s}),no(t,n);var A=n.options.server||{},_=A.url,D=A.load,w=A.restore,T=A.fetch;y.load(i,Si(v===Hr.INPUT?pr(i)&&function(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&to(location.href)!==to(t)}(i)&&T?Bi(_,T):Qi:Bi(_,v===Hr.LIMBO?w:D)),(function(t,n,r){Kr("LOAD_FILE",t,{query:e}).then(n).catch(r)}))}},REQUEST_PREPARE_OUTPUT:function(t){var n=t.item,r=t.success,i=t.failure,o=void 0===i?function(){}:i,a={error:Li("error",0,"Item not found"),file:null};if(n.archived)return o(a);Kr("PREPARE_OUTPUT",n.file,{query:e,item:n}).then((function(t){Kr("COMPLETE_PREPARE_OUTPUT",t,{query:e,item:n}).then((function(t){if(n.archived)return o(a);r(t)}))}))},COMPLETE_LOAD_ITEM:function(r){var i=r.item,o=r.data,a=o.success,s=o.source,u=e("GET_ITEM_INSERT_LOCATION");if(br(u)&&s&&io(n,u),t("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.origin===Hr.INPUT?null:s}),a(qr(i)),i.origin!==Hr.LOCAL)return i.origin===Hr.LIMBO?(t("DID_COMPLETE_ITEM_PROCESSING",{id:i.id,error:null,serverFileReference:s}),void t("DID_DEFINE_VALUE",{id:i.id,value:i.serverId||s})):void(e("IS_ASYNC")&&n.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:i.id}));t("DID_LOAD_LOCAL_ITEM",{id:i.id})},RETRY_ITEM_LOAD:oo(n,(function(t){t.retryLoad()})),REQUEST_ITEM_PREPARE:oo(n,(function(e,n,r){t("REQUEST_PREPARE_OUTPUT",{query:e.id,item:e,success:function(r){t("DID_PREPARE_OUTPUT",{id:e.id,file:r}),n({file:e,output:r})},failure:r},!0)})),REQUEST_ITEM_PROCESSING:oo(n,(function(r,i,o){if(r.status===Wr.IDLE||r.status===Wr.PROCESSING_ERROR)r.status!==Wr.PROCESSING_QUEUED&&(r.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),t("PROCESS_ITEM",{query:r,success:i,failure:o},!0));else{var a=function(){return t("REQUEST_ITEM_PROCESSING",{query:r,success:i,failure:o})},s=function(){return document.hidden?a():setTimeout(a,32)};r.status===Wr.PROCESSING_COMPLETE||r.status===Wr.PROCESSING_REVERT_ERROR?r.revert(Wi(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(s).catch((function(){})):r.status===Wr.PROCESSING&&r.abortProcessing().then(s)}})),PROCESS_ITEM:oo(n,(function(r,i,o){var a=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",Wr.PROCESSING).length!==a){if(r.status!==Wr.PROCESSING){var s=function e(){var r=n.processingQueue.shift();if(r){var i=r.id,o=r.success,a=r.failure,s=ni(n.items,i);s&&!s.archived?t("PROCESS_ITEM",{query:i,success:o,failure:a},!0):e()}};r.onOnce("process-complete",(function(){i(qr(r)),s();var o=n.options.server;if(n.options.instantUpload&&r.origin===Hr.LOCAL&&br(o.remove)){var a=function(){};r.origin=Hr.LIMBO,n.options.server.remove(r.source,a,a)}e("GET_ITEMS_BY_STATUS",Wr.PROCESSING_COMPLETE).length===n.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")})),r.onOnce("process-error",(function(t){o({error:t,file:qr(r)}),s()}));var u=n.options;r.process($i(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return"function"==typeof e?function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e.apply(void 0,[n].concat(i,[r]))}:e&&pr(e.url)?zi(t,e,n,r):null}(u.server.url,u.server.process,u.name,{chunkTransferId:r.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:e("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(function(n,i,o){Kr("PREPARE_OUTPUT",n,{query:e,item:r}).then((function(e){t("DID_PREPARE_OUTPUT",{id:r.id,file:e}),i(e)})).catch(o)}))}}else n.processingQueue.push({id:r.id,success:i,failure:o})})),RETRY_ITEM_PROCESSING:oo(n,(function(e){t("REQUEST_ITEM_PROCESSING",{query:e})})),REQUEST_REMOVE_ITEM:oo(n,(function(n){ro(e("GET_BEFORE_REMOVE_FILE"),qr(n)).then((function(e){e&&t("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:oo(n,(function(t){t.release()})),REMOVE_ITEM:oo(n,(function(r,i,o,a){var s=function(){var e=r.id;Ji(n.items,e).archive(),t("DID_REMOVE_ITEM",{error:null,id:e,item:r}),no(t,n),i(qr(r))},u=n.options.server;r.origin===Hr.LOCAL&&u&&br(u.remove)&&!1!==a.remove?(t("DID_START_ITEM_REMOVE",{id:r.id}),u.remove(r.source,(function(){return s()}),(function(e){t("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:Li("error",0,e,null),status:{main:eo(n.options.labelFileRemoveError)(e),sub:n.options.labelTapToRetry}})}))):((a.revert&&r.origin!==Hr.LOCAL&&null!==r.serverId||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(Wi(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")),s())})),ABORT_ITEM_LOAD:oo(n,(function(t){t.abortLoad()})),ABORT_ITEM_PROCESSING:oo(n,(function(e){e.serverId?t("REVERT_ITEM_PROCESSING",{id:e.id}):e.abortProcessing().then((function(){n.options.instantUpload&&t("REMOVE_ITEM",{query:e.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:oo(n,(function(r){if(n.options.instantUpload){var i=function(e){e&&t("REVERT_ITEM_PROCESSING",{query:r})},o=e("GET_BEFORE_REMOVE_FILE");if(!o)return i(!0);var a=o(qr(r));return null==a?i(!0):"boolean"==typeof a?i(a):void("function"==typeof a.then&&a.then(i))}t("REVERT_ITEM_PROCESSING",{query:r})})),REVERT_ITEM_PROCESSING:oo(n,(function(r){r.revert(Wi(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then((function(){var e=n.options.instantUpload||function(t){return!Zi(t.file)}(r);e&&t("REMOVE_ITEM",{query:r.id})})).catch((function(){}))})),SET_OPTIONS:function(e){var n=e.options,r=Object.keys(n),i=so.filter((function(t){return r.includes(t)}));[].concat(Le(i),Le(Object.keys(n).filter((function(t){return!i.includes(t)})))).forEach((function(e){t("SET_".concat(Ir(e,"_").toUpperCase()),{value:n[e]})}))}}},so=["server"],uo=function(t){return document.createElement(t)},lo=function(t,e){var n=t.childNodes[0];n?e!==n.nodeValue&&(n.nodeValue=e):(n=document.createTextNode(e),t.appendChild(n))},co=function(t,e,n,r){var i=(r%360-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}},ho=function(t,e,n,r,i){var o=1;return i>r&&i-r<=.5&&(o=0),r>i&&r-i>=.5&&(o=0),function(t,e,n,r,i,o){var a=co(t,e,n,i),s=co(t,e,n,r);return["M",a.x,a.y,"A",n,n,0,o,0,s.x,s.y].join(" ")}(t,e,n,360*Math.min(.9999,r),360*Math.min(.9999,i),o)},fo=ir({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(t){var e=t.root,n=t.props;n.spin=!1,n.progress=0,n.opacity=0;var r=Bn("svg");e.ref.path=Bn("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(e.ref.path),e.ref.svg=r,e.appendChild(r)},write:function(t){var e=t.root,n=t.props;if(0!==n.opacity){n.align&&(e.element.dataset.align=n.align);var r=parseInt(Ln(e.ref.path,"stroke-width"),10),i=.5*e.rect.element.width,o=0,a=0;n.spin?(o=0,a=.5):(o=0,a=n.progress);var s=ho(i,i,i-r,o,a);Ln(e.ref.path,"d",s),Ln(e.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),po=ir({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(t){var e=t.root,n=t.props;e.element.innerHTML=(n.icon||"")+"<span>".concat(n.label,"</span>"),n.isDisabled=!1},write:function(t){var e=t.root,n=t.props,r=n.isDisabled,i=e.query("GET_DISABLED")||0===n.opacity;i&&!r?(n.isDisabled=!0,Ln(e.element,"disabled","disabled")):!i&&r&&(n.isDisabled=!1,e.element.removeAttribute("disabled"))}}),go=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.labelBytes,o=void 0===i?"bytes":i,a=r.labelKilobytes,s=void 0===a?"KB":a,u=r.labelMegabytes,l=void 0===u?"MB":u,c=r.labelGigabytes,h=void 0===c?"GB":c,f=n,d=n*n,p=n*n*n;return(t=Math.round(Math.abs(t)))<f?"".concat(t," ").concat(o):t<d?"".concat(Math.floor(t/f)," ").concat(s):t<p?"".concat(mo(t/d,1,e)," ").concat(l):"".concat(mo(t/p,2,e)," ").concat(h)},mo=function(t,e,n){return t.toFixed(e).split(".").filter((function(t){return"0"!==t})).join(n)},vo=function(t){var e=t.root,n=t.props;lo(e.ref.fileSize,go(e.query("GET_ITEM_SIZE",n.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),lo(e.ref.fileName,e.query("GET_ITEM_NAME",n.id))},yo=function(t){var e=t.root,n=t.props;yr(e.query("GET_ITEM_SIZE",n.id))?vo({root:e,props:n}):lo(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Eo=ir({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:or({DID_LOAD_ITEM:vo,DID_UPDATE_ITEM_META:vo,DID_THROW_ITEM_LOAD_ERROR:yo,DID_THROW_ITEM_INVALID:yo}),didCreateView:function(t){Jr("CREATE_VIEW",Re(Re({},t),{},{view:t}))},create:function(t){var e=t.root,n=t.props,r=uo("span");r.className="filepond--file-info-main",Ln(r,"aria-hidden","true"),e.appendChild(r),e.ref.fileName=r;var i=uo("span");i.className="filepond--file-info-sub",e.appendChild(i),e.ref.fileSize=i,lo(i,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),lo(r,e.query("GET_ITEM_NAME",n.id))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),bo=function(t){return Math.round(100*t)},Ao=function(t){var e=t.root,n=t.action,r=null===n.progress?e.query("GET_LABEL_FILE_LOADING"):"".concat(e.query("GET_LABEL_FILE_LOADING")," ").concat(bo(n.progress),"%");lo(e.ref.main,r),lo(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},_o=function(t){var e=t.root;lo(e.ref.main,""),lo(e.ref.sub,"")},Do=function(t){var e=t.root,n=t.action;lo(e.ref.main,n.status.main),lo(e.ref.sub,n.status.sub)},wo=ir({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:or({DID_LOAD_ITEM:_o,DID_REVERT_ITEM_PROCESSING:_o,DID_REQUEST_ITEM_PROCESSING:function(t){var e=t.root;lo(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),lo(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(t){var e=t.root;lo(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),lo(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root;lo(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),lo(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(t){var e=t.root,n=t.action,r=null===n.progress?e.query("GET_LABEL_FILE_PROCESSING"):"".concat(e.query("GET_LABEL_FILE_PROCESSING")," ").concat(bo(n.progress),"%");lo(e.ref.main,r),lo(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Ao,DID_THROW_ITEM_LOAD_ERROR:Do,DID_THROW_ITEM_INVALID:Do,DID_THROW_ITEM_PROCESSING_ERROR:Do,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Do,DID_THROW_ITEM_REMOVE_ERROR:Do}),didCreateView:function(t){Jr("CREATE_VIEW",Re(Re({},t),{},{view:t}))},create:function(t){var e=t.root,n=uo("span");n.className="filepond--file-status-main",e.appendChild(n),e.ref.main=n;var r=uo("span");r.className="filepond--file-status-sub",e.appendChild(r),e.ref.sub=r,Ao({root:e,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),To={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},xo=[];Rn(To,(function(t){xo.push(t)}));var Co,ko=function(t){if("right"===Oo(t))return 0;var e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},Io=function(t){return t.ref.buttonAbortItemLoad.rect.element.width},So=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},Ro=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},Oo=function(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},Lo={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Mo={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ko},status:{translateX:ko}},Fo={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Po={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ko},status:{translateX:ko,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ko},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Oo},info:{translateX:ko},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Oo},buttonRemoveItem:{opacity:1},info:{translateX:ko},status:{opacity:1,translateX:ko}},DID_LOAD_ITEM:Mo,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ko},status:{translateX:ko}},DID_START_ITEM_PROCESSING:Fo,DID_REQUEST_ITEM_PROCESSING:Fo,DID_UPDATE_ITEM_PROCESS_PROGRESS:Fo,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ko}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ko},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Mo},Bo=ir({create:function(t){var e=t.root;e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),No=or({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(t){var e=t.root;e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=n.progress}}),Go=ir({create:function(t){var e,n=t.root,r=t.props,i=Object.keys(To).reduce((function(t,e){return t[e]=Re({},To[e]),t}),{}),o=r.id,a=n.query("GET_ALLOW_REVERT"),s=n.query("GET_ALLOW_REMOVE"),u=n.query("GET_ALLOW_PROCESS"),l=n.query("GET_INSTANT_UPLOAD"),c=n.query("IS_ASYNC"),h=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");c?u&&!a?e=function(t){return!/RevertItemProcessing/.test(t)}:!u&&a?e=function(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}:u||a||(e=function(t){return!/Process/.test(t)}):e=function(t){return!/Process/.test(t)};var f=e?xo.filter(e):xo.concat();if(l&&a&&(i.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",i.RevertItemProcessing.icon="GET_ICON_REMOVE"),c&&!a){var d=Po.DID_COMPLETE_ITEM_PROCESSING;d.info.translateX=Ro,d.info.translateY=So,d.status.translateY=So,d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(c&&!u&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(t){Po[t].status.translateY=So})),Po.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Io),h&&a){i.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var p=Po.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=ko,p.status.translateY=So,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(i.RemoveItem.disabled=!0),Rn(i,(function(t,e){var r=n.createChildView(po,{label:n.query(e.label),icon:n.query(e.icon),opacity:0});f.includes(t)&&n.appendChildView(r),e.disabled&&(r.element.setAttribute("disabled","disabled"),r.element.setAttribute("hidden","hidden")),r.element.dataset.align=n.query("GET_STYLE_".concat(e.align)),r.element.classList.add(e.className),r.on("click",(function(t){t.stopPropagation(),e.disabled||n.dispatch(e.action,{query:o})})),n.ref["button".concat(t)]=r})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Bo)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(Eo,{id:o})),n.ref.status=n.appendChildView(n.createChildView(wo,{id:o}));var g=n.appendChildView(n.createChildView(fo,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));g.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=g;var m=n.appendChildView(n.createChildView(fo,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));m.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=m,n.ref.activeStyles=[]},write:function(t){var e=t.root,n=t.actions,r=t.props;No({root:e,actions:n,props:r});var i=n.concat().filter((function(t){return/^DID_/.test(t.type)})).reverse().find((function(t){return Po[t.type]}));if(i){e.ref.activeStyles=[];var o=Po[i.type];Rn(Lo,(function(t,n){var r=e.ref[t];Rn(n,(function(n,i){var a=o[t]&&void 0!==o[t][n]?o[t][n]:i;e.ref.activeStyles.push({control:r,key:n,value:a})}))}))}e.ref.activeStyles.forEach((function(t){var n=t.control,r=t.key,i=t.value;n[r]="function"==typeof i?i(e):i}))},didCreateView:function(t){Jr("CREATE_VIEW",Re(Re({},t),{},{view:t}))},name:"file"}),jo=ir({create:function(t){var e=t.root,n=t.props;e.ref.fileName=uo("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Go,{id:n.id})),e.ref.data=!1},ignoreRect:!0,write:or({DID_LOAD_ITEM:function(t){var e=t.root,n=t.props;lo(e.ref.fileName,e.query("GET_ITEM_NAME",n.id))}}),didCreateView:function(t){Jr("CREATE_VIEW",Re(Re({},t),{},{view:t}))},tag:"fieldset",name:"file-wrapper"}),Uo={type:"spring",damping:.6,mass:7},Vo=function(t,e,n){var r=ir({name:"panel-".concat(e.name," filepond--").concat(n),mixins:e.mixins,ignoreRectUpdate:!0}),i=t.createChildView(r,e.props);t.ref[e.name]=t.appendChildView(i)},qo=ir({name:"panel",read:function(t){var e=t.root;return t.props.heightCurrent=e.ref.bottom.translateY},write:function(t){var e=t.root,n=t.props;if(null!==e.ref.scalable&&n.scalable===e.ref.scalable||(e.ref.scalable=!fr(n.scalable)||n.scalable,e.element.dataset.scalable=e.ref.scalable),n.height){var r=e.ref.top.rect.element,i=e.ref.bottom.rect.element,o=Math.max(r.height+i.height,n.height);e.ref.center.translateY=r.height,e.ref.center.scaleY=(o-r.height-i.height)/100,e.ref.bottom.translateY=o-i.height}},create:function(t){var e=t.root,n=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Uo},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Uo},styles:["translateY"]}}].forEach((function(t){Vo(e,t,n.name)})),e.element.classList.add("filepond--".concat(n.name)),e.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),zo={type:"spring",stiffness:.75,damping:.45,mass:10},Wo="spring",Ho={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},$o=or({DID_UPDATE_PANEL_HEIGHT:function(t){var e=t.root,n=t.action;e.height=n.height}}),Yo=or({DID_GRAB_ITEM:function(t){var e=t.root;t.props.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:function(t){t.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(t){var e=t.root,n=t.props;n.dragOffset=null,n.dragOrigin=null,e.element.dataset.dragState="drop"}},(function(t){var e=t.root,n=t.actions,r=t.props,i=t.shouldOptimize;"drop"===e.element.dataset.dragState&&e.scaleX<=1&&(e.element.dataset.dragState="idle");var o=n.concat().filter((function(t){return/^DID_/.test(t.type)})).reverse().find((function(t){return Ho[t.type]}));o&&o.type!==r.currentState&&(r.currentState=o.type,e.element.dataset.filepondItemState=Ho[r.currentState]||"");var a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?i||(e.height=e.rect.element.width*a):($o({root:e,actions:n,props:r}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),i&&(e.ref.panel.height=null),e.ref.panel.height=e.height})),Xo=ir({create:function(t){var e=t.root,n=t.props;if(e.ref.handleClick=function(t){return e.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},e.element.id="filepond--item-".concat(n.id),e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(jo,{id:n.id})),e.ref.panel=e.appendChildView(e.createChildView(qo,{name:"item-panel"})),e.ref.panel.height=null,n.markedForRemoval=!1,e.query("GET_ALLOW_REORDER")){e.element.dataset.dragState="idle";e.element.addEventListener("pointerdown",(function(t){if(t.isPrimary){var r=!1,i=t.pageX,o=t.pageY;n.dragOrigin={x:e.translateX,y:e.translateY},n.dragCenter={x:t.offsetX,y:t.offsetY};var a,s,u,l=(a=e.query("GET_ACTIVE_ITEMS"),s=a.map((function(t){return t.id})),u=void 0,{setIndex:function(t){u=t},getIndex:function(){return u},getItemIndex:function(t){return s.indexOf(t.id)}});e.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:l});var c=function(t){t.isPrimary&&(t.stopPropagation(),t.preventDefault(),n.dragOffset={x:t.pageX-i,y:t.pageY-o},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!r&&(r=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:l}))};document.addEventListener("pointermove",c),document.addEventListener("pointerup",(function t(a){a.isPrimary&&(document.removeEventListener("pointermove",c),document.removeEventListener("pointerup",t),n.dragOffset={x:a.pageX-i,y:a.pageY-o},e.dispatch("DID_DROP_ITEM",{id:n.id,dragState:l}),r&&setTimeout((function(){return e.element.addEventListener("click",e.ref.handleClick)}),0))}))}}))}},write:Yo,destroy:function(t){var e=t.root,n=t.props;e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Wo,scaleY:Wo,translateX:zo,translateY:zo,opacity:{type:"tween",duration:150}}}}),Zo=function(t,e){return Math.max(1,Math.floor((t+1)/e))},Ko=function(t,e,n){if(n){var r=t.rect.element.width,i=e.length,o=null;if(0===i||n.top<e[0].rect.element.top)return-1;var a=e[0].rect.element,s=a.marginLeft+a.marginRight,u=a.width+s,l=Zo(r,u);if(1===l){for(var c=0;c<i;c++){var h=e[c],f=h.rect.outer.top+.5*h.rect.element.height;if(n.top<f)return c}return i}for(var d=a.marginTop+a.marginBottom,p=a.height+d,g=0;g<i;g++){var m=g%l*u,v=Math.floor(g/l)*p,y=v-a.marginTop,E=m+u,b=v+p+a.marginBottom;if(n.top<b&&n.top>y){if(n.left<E)return g;o=g!==i-1?g:null}}return null!==o?o:i}},Jo={height:0,width:0,get getHeight(){return this.height},set setHeight(t){0!==this.height&&0!==t||(this.height=t)},get getWidth(){return this.width},set setWidth(t){0!==this.width&&0!==t||(this.width=t)},setDimensions:function(t,e){0!==this.height&&0!==t||(this.height=t),0!==this.width&&0!==e||(this.width=e)}},Qo=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=n,Date.now()>t.spawnDate&&(0===t.opacity&&ta(t,e,n,r,i),t.scaleX=1,t.scaleY=1,t.opacity=1))},ta=function(t,e,n,r,i){t.interactionMethod===Br?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=n):t.interactionMethod===Mr?(t.translateX=null,t.translateX=e-20*r,t.translateY=null,t.translateY=n-10*i,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===Fr?(t.translateY=null,t.translateY=n-30):t.interactionMethod===Lr&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},ea=function(t){return t.rect.element.height+.5*t.rect.element.marginBottom+.5*t.rect.element.marginTop},na=or({DID_ADD_ITEM:function(t){var e=t.root,n=t.action,r=n.id,i=n.index,o=n.interactionMethod;e.ref.addIndex=i;var a=Date.now(),s=a,u=1;if(o!==Br){u=0;var l=e.query("GET_ITEM_INSERT_INTERVAL"),c=a-e.ref.lastItemSpanwDate;s=c<l?a+(l-c):a}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(Xo,{spawnDate:s,id:r,opacity:u,interactionMethod:o}),i)},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action.id,r=e.childViews.find((function(t){return t.id===n}));r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},DID_DRAG_ITEM:function(t){var e=t.root,n=t.action,r=n.id,i=n.dragState,o=e.query("GET_ITEM",{id:r}),a=e.childViews.find((function(t){return t.id===r})),s=e.childViews.length,u=i.getItemIndex(o);if(a){var l,c=a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,h=a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y,f=ea(a),d=(l=a).rect.element.width+.5*l.rect.element.marginLeft+.5*l.rect.element.marginRight,p=Math.floor(e.rect.outer.width/d);p>s&&(p=s);var g=Math.floor(s/p+1);Jo.setHeight=f*g,Jo.setWidth=d*p;var m={y:Math.floor(h/f),x:Math.floor(c/d),getGridIndex:function(){return h>Jo.getHeight||h<0||c>Jo.getWidth||c<0?u:this.y*p+this.x},getColIndex:function(){for(var t=e.query("GET_ACTIVE_ITEMS"),n=e.childViews.filter((function(t){return t.rect.element.height})),r=t.map((function(t){return n.find((function(e){return e.id===t.id}))})),i=r.findIndex((function(t){return t===a})),o=ea(a),s=r.length,u=s,l=0,c=0,f=0,d=0;d<s;d++)if(l=ea(r[d]),h<(c=(f=c)+l)){if(i>d){if(h<f+o){u=d;break}continue}u=d;break}return u}},v=p>1?m.getGridIndex():m.getColIndex();e.dispatch("MOVE_ITEM",{query:a,index:v});var y=i.getIndex();if(void 0===y||y!==v){if(i.setIndex(v),void 0===y)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:u,target:v})}}}}),ra=ir({create:function(t){var e=t.root;Ln(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},write:function(t){var e=t.root,n=t.props,r=t.actions,i=t.shouldOptimize;na({root:e,props:n,actions:r});var o=n.dragCoordinates,a=e.rect.element.width,s=e.childViews.filter((function(t){return t.rect.element.height})),u=e.query("GET_ACTIVE_ITEMS").map((function(t){return s.find((function(e){return e.id===t.id}))})).filter((function(t){return t})),l=o?Ko(e,u,o):null,c=e.ref.addIndex||null;e.ref.addIndex=null;var h=0,f=0,d=0;if(0!==u.length){var p=u[0].rect.element,g=p.marginTop+p.marginBottom,m=p.marginLeft+p.marginRight,v=p.width+m,y=p.height+g,E=Zo(a,v);if(1===E){var b=0,A=0;u.forEach((function(t,e){if(l){var n=e-l;A=-2===n?.25*-g:-1===n?.75*-g:0===n?.75*g:1===n?.25*g:0}i&&(t.translateX=null,t.translateY=null),t.markedForRemoval||Qo(t,0,b+A);var r=(t.rect.element.height+g)*(t.markedForRemoval?t.opacity:1);b+=r}))}else{var _=0,D=0;u.forEach((function(t,e){e===l&&(h=1),e===c&&(d+=1),t.markedForRemoval&&t.opacity<.5&&(f-=1);var n=e+d+h+f,r=n%E,o=Math.floor(n/E),a=r*v,s=o*y,u=Math.sign(a-_),p=Math.sign(s-D);_=a,D=s,t.markedForRemoval||(i&&(t.translateX=null,t.translateY=null),Qo(t,a,s,u,p))}))}}},tag:"ul",name:"list",didWriteView:function(t){var e=t.root;e.childViews.filter((function(t){return t.markedForRemoval&&0===t.opacity&&t.resting})).forEach((function(t){t._destroy(),e.removeChildView(t)}))},filterFrameActionsForChild:function(t,e){return e.filter((function(e){return!e.data||!e.data.id||t.id===e.data.id}))},mixins:{apis:["dragCoordinates"]}}),ia=or({DID_DRAG:function(t){var e=t.root,n=t.props,r=t.action;e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:r.position.scopeLeft-e.ref.list.rect.element.left,top:r.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},DID_END_DRAG:function(t){t.props.dragCoordinates=null}}),oa=ir({create:function(t){var e=t.root,n=t.props;e.ref.list=e.appendChildView(e.createChildView(ra)),n.dragCoordinates=null,n.overflowing=!1},write:function(t){var e=t.root,n=t.props,r=t.actions;if(ia({root:e,props:n,actions:r}),e.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,e.element.dataset.state="",e.height=null),n.overflow){var i=Math.round(n.overflow);i!==e.height&&(n.overflowing=!0,e.element.dataset.state="overflow",e.height=i)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),aa=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n?Ln(t,e,r):t.removeAttribute(e)},sa=function(t){var e=t.root,n=t.action;e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&aa(e.element,"accept",!!n.value,n.value?n.value.join(","):"")},ua=function(t){var e=t.root,n=t.action;aa(e.element,"multiple",n.value)},la=function(t){var e=t.root,n=t.action;aa(e.element,"webkitdirectory",n.value)},ca=function(t){var e=t.root,n=e.query("GET_DISABLED"),r=e.query("GET_ALLOW_BROWSE"),i=n||!r;aa(e.element,"disabled",i)},ha=function(t){var e=t.root;t.action.value?0===e.query("GET_TOTAL_ITEMS")&&aa(e.element,"required",!0):aa(e.element,"required",!1)},fa=function(t){var e=t.root,n=t.action;aa(e.element,"capture",!!n.value,!0===n.value?"":n.value)},da=function(t){var e=t.root,n=e.element;e.query("GET_TOTAL_ITEMS")>0?(aa(n,"required",!1),aa(n,"name",!1)):(aa(n,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),e.query("GET_REQUIRED")&&aa(n,"required",!0))},pa=ir({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(t){var e=t.root,n=t.props;e.element.id="filepond--browser-".concat(n.id),Ln(e.element,"name",e.query("GET_NAME")),Ln(e.element,"aria-controls","filepond--assistant-".concat(n.id)),Ln(e.element,"aria-labelledby","filepond--drop-label-".concat(n.id)),sa({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),ua({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),la({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),ca({root:e}),ha({root:e,action:{value:e.query("GET_REQUIRED")}}),fa({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=function(t){if(e.element.value){var r=Array.from(e.element.files).map((function(t){return t._relativePath=t.webkitRelativePath,t}));setTimeout((function(){n.onload(r),function(t){if(t&&""!==t.value){try{t.value=""}catch(t){}if(t.value){var e=uo("form"),n=t.parentNode,r=t.nextSibling;e.appendChild(t),e.reset(),r?n.insertBefore(t,r):n.appendChild(t)}}}(e.element)}),250)}},e.element.addEventListener("change",e.ref.handleChange)},destroy:function(t){var e=t.root;e.element.removeEventListener("change",e.ref.handleChange)},write:or({DID_LOAD_ITEM:da,DID_REMOVE_ITEM:da,DID_THROW_ITEM_INVALID:function(t){var e=t.root;e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:ca,DID_SET_ALLOW_BROWSE:ca,DID_SET_ALLOW_DIRECTORIES_ONLY:la,DID_SET_ALLOW_MULTIPLE:ua,DID_SET_ACCEPTED_FILE_TYPES:sa,DID_SET_CAPTURE_METHOD:fa,DID_SET_REQUIRED:ha})}),ga=13,ma=32,va=function(t,e){t.innerHTML=e;var n=t.querySelector(".filepond--label-action");return n&&Ln(n,"tabindex","0"),e},ya=ir({name:"drop-label",ignoreRect:!0,create:function(t){var e=t.root,n=t.props,r=uo("label");Ln(r,"for","filepond--browser-".concat(n.id)),Ln(r,"id","filepond--drop-label-".concat(n.id)),Ln(r,"aria-hidden","true"),e.ref.handleKeyDown=function(t){(t.keyCode===ga||t.keyCode===ma)&&(t.preventDefault(),e.ref.label.click())},e.ref.handleClick=function(t){t.target===r||r.contains(t.target)||e.ref.label.click()},r.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),va(r,n.caption),e.appendChild(r),e.ref.label=r},destroy:function(t){var e=t.root;e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:or({DID_SET_LABEL_IDLE:function(t){var e=t.root,n=t.action;va(e.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Ea=ir({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),ba=or({DID_DRAG:function(t){var e=t.root,n=t.action;e.ref.blob?(e.ref.blob.translateX=n.position.scopeLeft,e.ref.blob.translateY=n.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1):function(t){var e=t.root,n=.5*e.rect.element.width,r=.5*e.rect.element.height;e.ref.blob=e.appendChildView(e.createChildView(Ea,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:r}))}({root:e})},DID_DROP:function(t){var e=t.root;e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},DID_END_DRAG:function(t){var e=t.root;e.ref.blob&&(e.ref.blob.opacity=0)}}),Aa=ir({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(t){var e=t.root,n=t.props,r=t.actions;ba({root:e,props:n,actions:r});var i=e.ref.blob;0===r.length&&i&&0===i.opacity&&(e.removeChildView(i),e.ref.blob=null)}}),_a=function(t,e){try{var n=new DataTransfer;e.forEach((function(t){t instanceof File?n.items.add(t):n.items.add(new File([t],t.name,{type:t.type}))})),t.files=n.files}catch(t){return!1}return!0},Da=function(t,e){return t.ref.fields[e]},wa=function(t){t.query("GET_ACTIVE_ITEMS").forEach((function(e){t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])}))},Ta=function(t){var e=t.root;return wa(e)},xa=or({DID_SET_DISABLED:function(t){var e=t.root;e.element.disabled=e.query("GET_DISABLED")},DID_ADD_ITEM:function(t){var e=t.root,n=t.action,r=!(e.query("GET_ITEM",n.id).origin===Hr.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),i=uo("input");i.type=r?"file":"hidden",i.name=e.query("GET_NAME"),i.disabled=e.query("GET_DISABLED"),e.ref.fields[n.id]=i,wa(e)},DID_LOAD_ITEM:function(t){var e=t.root,n=t.action,r=Da(e,n.id);if(r&&(null!==n.serverFileReference&&(r.value=n.serverFileReference),e.query("SHOULD_UPDATE_FILE_INPUT"))){var i=e.query("GET_ITEM",n.id);_a(r,[i.file])}},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action,r=Da(e,n.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete e.ref.fields[n.id])},DID_DEFINE_VALUE:function(t){var e=t.root,n=t.action,r=Da(e,n.id);r&&(null===n.value?r.removeAttribute("value"):r.value=n.value,wa(e))},DID_PREPARE_OUTPUT:function(t){var e=t.root,n=t.action;e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout((function(){var t=Da(e,n.id);t&&_a(t,[n.file])}),0)},DID_REORDER_ITEMS:Ta,DID_SORT_ITEMS:Ta}),Ca=ir({tag:"fieldset",name:"data",create:function(t){return t.root.ref.fields={}},write:xa,ignoreRect:!0}),ka=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Ia=["css","csv","html","txt"],Sa={zip:"zip|compressed",epub:"application/epub+zip"},Ra=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=t.toLowerCase(),ka.includes(t)?"image/"+("jpg"===t?"jpeg":"svg"===t?"svg+xml":t):Ia.includes(t)?"text/"+t:Sa[t]||""},Oa=function(t){return new Promise((function(e,n){var r=Va(t);if(r.length&&!La(t))return e(r);Ma(t).then(e)}))},La=function(t){return!!t.files&&t.files.length>0},Ma=function(t){return new Promise((function(e,n){var r=(t.items?Array.from(t.items):[]).filter((function(t){return Fa(t)})).map((function(t){return Pa(t)}));r.length?Promise.all(r).then((function(t){var n=[];t.forEach((function(t){n.push.apply(n,t)})),e(n.filter((function(t){return t})).map((function(t){return t._relativePath||(t._relativePath=t.webkitRelativePath),t})))})).catch(console.error):e(t.files?Array.from(t.files):[])}))},Fa=function(t){if(ja(t)){var e=Ua(t);if(e)return e.isFile||e.isDirectory}return"file"===t.kind},Pa=function(t){return new Promise((function(e,n){Ga(t)?Ba(Ua(t)).then(e).catch(n):e([t.getAsFile()])}))},Ba=function(t){return new Promise((function(e,n){var r=[],i=0,o=0,a=function(){0===o&&0===i&&e(r)};!function t(e){i++;var s=e.createReader();!function e(){s.readEntries((function(n){if(0===n.length)return i--,void a();n.forEach((function(e){e.isDirectory?t(e):(o++,e.file((function(t){var n=Na(t);e.fullPath&&(n._relativePath=e.fullPath),r.push(n),o--,a()})))})),e()}),n)}()}(t)}))},Na=function(t){if(t.type.length)return t;var e=t.lastModifiedDate,n=t.name,r=Ra(yi(t.name));return r.length?((t=t.slice(0,t.size,r)).name=n,t.lastModifiedDate=e,t):t},Ga=function(t){return ja(t)&&(Ua(t)||{}).isDirectory},ja=function(t){return"webkitGetAsEntry"in t},Ua=function(t){return t.webkitGetAsEntry()},Va=function(t){var e=[];try{if((e=za(t)).length)return e;e=qa(t)}catch(t){}return e},qa=function(t){var e=t.getData("url");return"string"==typeof e&&e.length?[e]:[]},za=function(t){var e=t.getData("text/html");if("string"==typeof e&&e.length){var n=e.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},Wa=[],Ha=function(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},$a=function(t){var e=Wa.find((function(e){return e.element===t}));if(e)return e;var n=Ya(t);return Wa.push(n),n},Ya=function(t){var e=[],n={dragenter:Ja,dragover:Qa,dragleave:es,drop:ts},r={};Rn(n,(function(n,i){r[n]=i(t,e),t.addEventListener(n,r[n],!1)}));var i={element:t,addListener:function(o){return e.push(o),function(){e.splice(e.indexOf(o),1),0===e.length&&(Wa.splice(Wa.indexOf(i),1),Rn(n,(function(e){t.removeEventListener(e,r[e],!1)})))}}};return i},Xa=function(t,e){var n,r=function(t,e){return"elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)}("getRootNode"in(n=e)?n.getRootNode():document,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return r===e||e.contains(r)},Za=null,Ka=function(t,e){try{t.dropEffect=e}catch(t){}},Ja=function(t,e){return function(t){t.preventDefault(),Za=t.target,e.forEach((function(e){var n=e.element,r=e.onenter;Xa(t,n)&&(e.state="enter",r(Ha(t)))}))}},Qa=function(t,e){return function(t){t.preventDefault();var n=t.dataTransfer;Oa(n).then((function(r){var i=!1;e.some((function(e){var o=e.filterElement,a=e.element,s=e.onenter,u=e.onexit,l=e.ondrag,c=e.allowdrop;Ka(n,"copy");var h=c(r);if(h)if(Xa(t,a)){if(i=!0,null===e.state)return e.state="enter",void s(Ha(t));if(e.state="over",o&&!h)return void Ka(n,"none");l(Ha(t))}else o&&!i&&Ka(n,"none"),e.state&&(e.state=null,u(Ha(t)));else Ka(n,"none")}))}))}},ts=function(t,e){return function(t){t.preventDefault();var n=t.dataTransfer;Oa(n).then((function(n){e.forEach((function(e){var r=e.filterElement,i=e.element,o=e.ondrop,a=e.onexit,s=e.allowdrop;if(e.state=null,!r||Xa(t,i))return s(n)?void o(Ha(t),n):a(Ha(t))}))}))}},es=function(t,e){return function(t){Za===t.target&&e.forEach((function(e){var n=e.onexit;e.state=null,n(Ha(t))}))}},ns=function(t,e,n){t.classList.add("filepond--hopper");var r=n.catchesDropsOnPage,i=n.requiresDropOnElement,o=n.filterItems,a=void 0===o?function(t){return t}:o,s=function(t,e,n){var r=$a(e),i={element:t,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return i.destroy=r.addListener(i),i}(t,r?document.documentElement:t,i),u="",l="";s.allowdrop=function(t){return e(a(t))},s.ondrop=function(t,n){var r=a(n);e(r)?(l="drag-drop",c.onload(r,t)):c.ondragend(t)},s.ondrag=function(t){c.ondrag(t)},s.onenter=function(t){l="drag-over",c.ondragstart(t)},s.onexit=function(t){l="drag-exit",c.ondragend(t)};var c={updateHopperState:function(){u!==l&&(t.dataset.hopperState=l,u=l)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){s.destroy()}};return c},rs=!1,is=[],os=function(t){var e=document.activeElement;if(e&&/textarea|input/i.test(e.nodeName)){for(var n=!1,r=e;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}Oa(t.clipboardData).then((function(t){t.length&&is.forEach((function(e){return e(t)}))}))},as=function(){var t=function(t){e.onload(t)},e={destroy:function(){var e;e=t,Gr(is,is.indexOf(e)),0===is.length&&(document.removeEventListener("paste",os),rs=!1)},onload:function(){}};return function(t){is.includes(t)||(is.push(t),rs||(rs=!0,document.addEventListener("paste",os)))}(t),e},ss=null,us=null,ls=[],cs=function(t,e){t.element.textContent=e},hs=function(t,e,n){var r=t.query("GET_TOTAL_ITEMS");cs(t,"".concat(n," ").concat(e,", ").concat(r," ").concat(1===r?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(us),us=setTimeout((function(){!function(t){t.element.textContent=""}(t)}),1500)},fs=function(t){return t.element.parentNode.contains(document.activeElement)},ds=function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");cs(e,"".concat(r," ").concat(i))},ps=function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id).filename;cs(e,"".concat(n.status.main," ").concat(r," ").concat(n.status.sub))},gs=ir({create:function(t){var e=t.root,n=t.props;e.element.id="filepond--assistant-".concat(n.id),Ln(e.element,"role","status"),Ln(e.element,"aria-live","polite"),Ln(e.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:or({DID_LOAD_ITEM:function(t){var e=t.root,n=t.action;if(fs(e)){e.element.textContent="";var r=e.query("GET_ITEM",n.id);ls.push(r.filename),clearTimeout(ss),ss=setTimeout((function(){hs(e,ls.join(", "),e.query("GET_LABEL_FILE_ADDED")),ls.length=0}),750)}},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action;if(fs(e)){var r=n.item;hs(e,r.filename,e.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root,n=t.action,r=e.query("GET_ITEM",n.id).filename,i=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");cs(e,"".concat(r," ").concat(i))},DID_ABORT_ITEM_PROCESSING:ds,DID_REVERT_ITEM_PROCESSING:ds,DID_THROW_ITEM_REMOVE_ERROR:ps,DID_THROW_ITEM_LOAD_ERROR:ps,DID_THROW_ITEM_INVALID:ps,DID_THROW_ITEM_PROCESSING_ERROR:ps}),tag:"span",name:"assistant"}),ms=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(new RegExp("".concat(e,"."),"g"),(function(t){return t.charAt(1).toUpperCase()}))},vs=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now(),i=null;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];clearTimeout(i);var u=Date.now()-r,l=function(){r=Date.now(),t.apply(void 0,a)};u<e?n||(i=setTimeout(l,e-u)):l()}},ys=function(t){return t.preventDefault()},Es=function(t){var e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}},bs=function(t){var e=0,n=0,r=t.ref.list,i=r.childViews[0],o=i.childViews.filter((function(t){return t.rect.element.height})),a=t.query("GET_ACTIVE_ITEMS").map((function(t){return o.find((function(e){return e.id===t.id}))})).filter((function(t){return t}));if(0===a.length)return{visual:e,bounds:n};var s=i.rect.element.width,u=Ko(i,a,r.dragCoordinates),l=a[0].rect.element,c=l.marginTop+l.marginBottom,h=l.marginLeft+l.marginRight,f=l.width+h,d=l.height+c,p=void 0!==u&&u>=0?1:0,g=a.find((function(t){return t.markedForRemoval&&t.opacity<.45}))?-1:0,m=a.length+p+g,v=Zo(s,f);return 1===v?a.forEach((function(t){var r=t.rect.element.height+c;n+=r,e+=r*t.opacity})):(n=Math.ceil(m/v)*d,e=n),{visual:e,bounds:n}},As=function(t){var e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:0===e?null:e}},_s=function(t,e){var n=t.query("GET_ALLOW_REPLACE"),r=t.query("GET_ALLOW_MULTIPLE"),i=t.query("GET_TOTAL_ITEMS"),o=t.query("GET_MAX_FILES"),a=e.length;return!r&&a>1||!!(yr(o=r||n?o:1)&&i+a>o)&&(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:Li("warning",0,"Max files")}),!0)},Ds=function(t,e,n){var r=t.childViews[0];return Ko(r,e,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},ws=function(t){var e=t.query("GET_ALLOW_DROP"),n=t.query("GET_DISABLED"),r=e&&!n;if(r&&!t.ref.hopper){var i=ns(t.element,(function(e){var n=t.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!t.query("GET_DROP_VALIDATION")||e.every((function(e){return Jr("ALLOW_HOPPER_ITEM",e,{query:t.query}).every((function(t){return!0===t}))&&n(e)}))}),{filterItems:function(e){var n=t.query("GET_IGNORED_FILES");return e.filter((function(t){return!Zi(t)||!n.includes(t.name.toLowerCase())}))},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});i.onload=function(e,n){var r=t.ref.list.childViews[0].childViews.filter((function(t){return t.rect.element.height})),i=t.query("GET_ACTIVE_ITEMS").map((function(t){return r.find((function(e){return e.id===t.id}))})).filter((function(t){return t}));Kr("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(_s(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:Ds(t.ref.list,i,n),interactionMethod:Mr})})),t.dispatch("DID_DROP",{position:n}),t.dispatch("DID_END_DRAG",{position:n})},i.ondragstart=function(e){t.dispatch("DID_START_DRAG",{position:e})},i.ondrag=vs((function(e){t.dispatch("DID_DRAG",{position:e})})),i.ondragend=function(e){t.dispatch("DID_END_DRAG",{position:e})},t.ref.hopper=i,t.ref.drip=t.appendChildView(t.createChildView(Aa))}else!r&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},Ts=function(t,e){var n=t.query("GET_ALLOW_BROWSE"),r=t.query("GET_DISABLED"),i=n&&!r;i&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(pa,Re(Re({},e),{},{onload:function(e){Kr("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(_s(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:Fr})}))}})),0):!i&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},xs=function(t){var e=t.query("GET_ALLOW_PASTE"),n=t.query("GET_DISABLED"),r=e&&!n;r&&!t.ref.paster?(t.ref.paster=as(),t.ref.paster.onload=function(e){Kr("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(_s(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:Pr})}))}):!r&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},Cs=or({DID_SET_ALLOW_BROWSE:function(t){var e=t.root,n=t.props;Ts(e,n)},DID_SET_ALLOW_DROP:function(t){var e=t.root;ws(e)},DID_SET_ALLOW_PASTE:function(t){var e=t.root;xs(e)},DID_SET_DISABLED:function(t){var e=t.root,n=t.props;ws(e),xs(e),Ts(e,n),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),ks=ir({name:"root",read:function(t){var e=t.root;e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:function(t){var e=t.root,n=t.props,r=e.query("GET_ID");r&&(e.element.id=r);var i=e.query("GET_CLASS_NAME");i&&i.split(" ").filter((function(t){return t.length})).forEach((function(t){e.element.classList.add(t)})),e.ref.label=e.appendChildView(e.createChildView(ya,Re(Re({},n),{},{translateY:null,caption:e.query("GET_LABEL_IDLE")}))),e.ref.list=e.appendChildView(e.createChildView(oa,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(qo,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(gs,Re({},n))),e.ref.data=e.appendChildView(e.createChildView(Ca,Re({},n))),e.ref.measure=uo("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter((function(t){return!lr(t.value)})).map((function(t){var n=t.name,r=t.value;e.element.dataset[n]=r})),e.ref.widthPrevious=null,e.ref.widthUpdated=vs((function(){e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")}),250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&a&&!o&&(e.element.addEventListener("touchmove",ys,{passive:!1}),e.element.addEventListener("gesturestart",ys));var s=e.query("GET_CREDITS");if(2===s.length){var u=document.createElement("a");u.className="filepond--credits",u.setAttribute("aria-hidden","true"),u.href=s[0],u.tabindex=-1,u.target="_blank",u.rel="noopener noreferrer",u.textContent=s[1],e.element.appendChild(u),e.ref.credits=u}},write:function(t){var e=t.root,n=t.props,r=t.actions;if(Cs({root:e,props:n,actions:r}),r.filter((function(t){return/^DID_SET_STYLE_/.test(t.type)})).filter((function(t){return!lr(t.data.value)})).map((function(t){var n=t.type,r=t.data,i=ms(n.substr(8).toLowerCase(),"_");e.element.dataset[i]=r.value,e.invalidateLayout()})),!e.rect.element.hidden){e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());var i=e.ref.bounds;i||(i=e.ref.bounds=As(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);var o=e.ref,a=o.hopper,s=o.label,u=o.list,l=o.panel;a&&a.updateHopperState();var c=e.query("GET_PANEL_ASPECT_RATIO"),h=e.query("GET_ALLOW_MULTIPLE"),f=e.query("GET_TOTAL_ITEMS"),d=f===(h?e.query("GET_MAX_FILES")||1e6:1),p=r.find((function(t){return"DID_ADD_ITEM"===t.type}));if(d&&p){var g=p.data.interactionMethod;s.opacity=0,h?s.translateY=-40:g===Lr?s.translateX=40:s.translateY=g===Fr?40:30}else d||(s.opacity=1,s.translateX=0,s.translateY=0);var m=Es(e),v=bs(e),y=s.rect.element.height,E=!h||d?0:y,b=d?u.rect.element.marginTop:0,A=0===f?0:u.rect.element.marginBottom,_=E+b+v.visual+A,D=E+b+v.bounds+A;if(u.translateY=Math.max(0,E-u.rect.element.marginTop)-m.top,c){var w=e.rect.element.width,T=w*c;c!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=c,e.ref.updateHistory=[]);var x=e.ref.updateHistory;x.push(w);if(x.length>4)for(var C=x.length,k=C-10,I=0,S=C;S>=k;S--)if(x[S]===x[S-2]&&I++,I>=2)return;l.scalable=!1,l.height=T;var R=T-E-(A-m.bottom)-(d?b:0);v.visual>R?u.overflow=R:u.overflow=null,e.height=T}else if(i.fixedHeight){l.scalable=!1;var O=i.fixedHeight-E-(A-m.bottom)-(d?b:0);v.visual>O?u.overflow=O:u.overflow=null}else if(i.cappedHeight){var L=_>=i.cappedHeight,M=Math.min(i.cappedHeight,_);l.scalable=!0,l.height=L?M:M-m.top-m.bottom;var F=M-E-(A-m.bottom)-(d?b:0);_>i.cappedHeight&&v.visual>F?u.overflow=F:u.overflow=null,e.height=Math.min(i.cappedHeight,D-m.top-m.bottom)}else{var P=f>0?m.top+m.bottom:0;l.scalable=!0,l.height=Math.max(y,_-P),e.height=Math.max(y,D-P)}e.ref.credits&&l.heightCurrent&&(e.ref.credits.style.transform="translateY(".concat(l.heightCurrent,"px)"))}},destroy:function(t){var e=t.root;e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",ys),e.element.removeEventListener("gesturestart",ys)},mixins:{styles:["height"]}}),Is=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=null,n=ti(),r=Sn(kr(n),[pi,Or(n)],[ao,Rr(n)]);r.dispatch("SET_OPTIONS",{options:t});var i=function(){document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",i);var o=null,a=!1,s=!1,u=null,l=null,c=function(){a||(a=!0),clearTimeout(o),o=setTimeout((function(){a=!1,u=null,l=null,s&&(s=!1,r.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",c);var h=ks(r,{id:Nr()}),f=!1,d=!1,p={_read:function(){a&&(l=window.innerWidth,u||(u=l),s||l===u||(r.dispatch("DID_START_RESIZE"),s=!0)),d&&f&&(f=null===h.element.offsetParent),f||(h._read(),d=h.rect.element.hidden)},_write:function(t){var e=r.processActionQueue().filter((function(t){return!/^SET_/.test(t.type)}));f&&!e.length||(y(e),f=h._write(t,e,s),zr(r.query("GET_ITEMS")),f&&r.processDispatchQueue())}},g=function(t){return function(e){var n={type:t};if(!e)return n;if(e.hasOwnProperty("error")&&(n.error=e.error?Re({},e.error):null),e.status&&(n.status=Re({},e.status)),e.file&&(n.output=e.file),e.source)n.file=e.source;else if(e.item||e.id){var i=e.item?e.item:r.query("GET_ITEM",e.id);n.file=i?qr(i):null}return e.items&&(n.items=e.items.map(qr)),/progress/.test(t)&&(n.progress=e.progress),e.hasOwnProperty("origin")&&e.hasOwnProperty("target")&&(n.origin=e.origin,n.target=e.target),n}},m={DID_DESTROY:g("destroy"),DID_INIT:g("init"),DID_THROW_MAX_FILES:g("warning"),DID_INIT_ITEM:g("initfile"),DID_START_ITEM_LOAD:g("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:g("addfileprogress"),DID_LOAD_ITEM:g("addfile"),DID_THROW_ITEM_INVALID:[g("error"),g("addfile")],DID_THROW_ITEM_LOAD_ERROR:[g("error"),g("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[g("error"),g("removefile")],DID_PREPARE_OUTPUT:g("preparefile"),DID_START_ITEM_PROCESSING:g("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:g("processfileprogress"),DID_ABORT_ITEM_PROCESSING:g("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:g("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:g("processfiles"),DID_REVERT_ITEM_PROCESSING:g("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[g("error"),g("processfile")],DID_REMOVE_ITEM:g("removefile"),DID_UPDATE_ITEMS:g("updatefiles"),DID_ACTIVATE_ITEM:g("activatefile"),DID_REORDER_ITEMS:g("reorderfiles")},v=function(t){var e=Re({pond:R},t);delete e.type,h.element.dispatchEvent(new CustomEvent("FilePond:".concat(t.type),{detail:e,bubbles:!0,cancelable:!0,composed:!0}));var n=[];t.hasOwnProperty("error")&&n.push(t.error),t.hasOwnProperty("file")&&n.push(t.file);var i=["type","error","file"];Object.keys(t).filter((function(t){return!i.includes(t)})).forEach((function(e){return n.push(t[e])})),R.fire.apply(R,[t.type].concat(n));var o=r.query("GET_ON".concat(t.type.toUpperCase()));o&&o.apply(void 0,n)},y=function(t){t.length&&t.filter((function(t){return m[t.type]})).forEach((function(t){var e=m[t.type];(Array.isArray(e)?e:[e]).forEach((function(e){"DID_INIT_ITEM"===t.type?v(e(t.data)):setTimeout((function(){v(e(t.data))}),0)}))}))},E=function(t){return r.dispatch("SET_OPTIONS",{options:t})},b=function(t){return r.query("GET_ACTIVE_ITEM",t)},A=function(t){return new Promise((function(e,n){r.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})}))},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){T([{source:t,options:e}],{index:e.index}).then((function(t){return n(t&&t[0])})).catch(r)}))},D=function(t){return t.file&&t.id},w=function(t,e){return"object"!==Be(t)||D(t)||e||(e=t,t=void 0),r.dispatch("REMOVE_ITEM",Re(Re({},e),{},{query:t})),null===r.query("GET_ACTIVE_ITEM",t)},T=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t,n){var i=[],o={};if(ur(e[0]))i.push.apply(i,e[0]),Object.assign(o,e[1]||{});else{var a=e[e.length-1];"object"!==Be(a)||a instanceof Blob||Object.assign(o,e.pop()),i.push.apply(i,e)}r.dispatch("ADD_ITEMS",{items:i,index:o.index,interactionMethod:Lr,success:t,failure:n})}))},x=function(){return r.query("GET_ACTIVE_ITEMS")},C=function(t){return new Promise((function(e,n){r.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})}))},k=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Array.isArray(e[0])?e[0]:e,i=r.length?r:x();return Promise.all(i.map(A))},I=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Array.isArray(e[0])?e[0]:e;if(!r.length){var i=x().filter((function(t){return!(t.status===Wr.IDLE&&t.origin===Hr.LOCAL)&&t.status!==Wr.PROCESSING&&t.status!==Wr.PROCESSING_COMPLETE&&t.status!==Wr.PROCESSING_REVERT_ERROR}));return Promise.all(i.map(C))}return Promise.all(r.map(C))},S=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=Array.isArray(e[0])?e[0]:e;"object"===Be(i[i.length-1])?r=i.pop():Array.isArray(e[0])&&(r=e[1]);var o=x();if(!i.length)return Promise.all(o.map((function(t){return w(t,r)})));var a=i.map((function(t){return $n(t)?o[t]?o[t].id:null:t})).filter((function(t){return t}));return a.map((function(t){return w(t,r)}))},R=Re(Re(Re(Re({},jr()),p),Sr(r,n)),{},{setOptions:E,addFile:_,addFiles:T,getFile:b,processFile:C,prepareFile:A,removeFile:w,moveFile:function(t,e){return r.dispatch("MOVE_ITEM",{query:t,index:e})},getFiles:x,processFiles:I,removeFiles:S,prepareFiles:k,sort:function(t){return r.dispatch("SORT",{compare:t})},browse:function(){var t=h.element.querySelector("input[type=file]");t&&t.click()},destroy:function(){R.fire("destroy",h.element),r.dispatch("ABORT_ALL"),h._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",i),r.dispatch("DID_DESTROY")},insertBefore:function(t){return ar(h.element,t)},insertAfter:function(t){return sr(h.element,t)},appendTo:function(t){return t.appendChild(h.element)},replaceElement:function(t){ar(h.element,t),t.parentNode.removeChild(t),e=t},restoreElement:function(){e&&(sr(e,h.element),h.element.parentNode.removeChild(h.element),e=null)},isAttachedTo:function(t){return h.element===t||e===t},element:{get:function(){return h.element}},status:{get:function(){return r.query("GET_STATUS")}}});return r.dispatch("DID_INIT"),On(R)},Ss=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};Rn(ti(),(function(t,n){e[t]=n[0]}));var n=Is(Re(Re({},e),t));return n},Rs=function(t){return ms(t.replace(/^data-/,""))},Os=function t(e,n){Rn(n,(function(n,r){Rn(e,(function(t,i){var o=new RegExp(n);if(o.test(t)&&(delete e[t],!1!==r))if(pr(r))e[r]=i;else{var a,s=r.group;Dr(r)&&!e[s]&&(e[s]={}),e[s][(a=t.replace(o,""),a.charAt(0).toLowerCase()+a.slice(1))]=i}})),r.mapping&&t(e[r.group],r.mapping)}))},Ls=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];Rn(t.attributes,(function(e){n.push(t.attributes[e])}));var r=n.filter((function(t){return t.name})).reduce((function(e,n){var r=Ln(t,n.name);return e[Rs(n.name)]=r===n.name||r,e}),{});return Os(r,e),r},Ms=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Jr("SET_ATTRIBUTE_TO_OPTION_MAP",n);var r=Re({},e),i=Ls("FIELDSET"===t.nodeName?t.querySelector("input[type=file]"):t,n);Object.keys(i).forEach((function(t){Dr(i[t])?(Dr(r[t])||(r[t]={}),Object.assign(r[t],i[t])):r[t]=i[t]})),r.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map((function(t){return{source:t.value,options:{type:t.dataset.type}}})));var o=Ss(r);return t.files&&Array.from(t.files).forEach((function(t){o.addFile(t)})),o.replaceElement(t),o},Fs=function(){return In(arguments.length<=0?void 0:arguments[0])?Ms.apply(void 0,arguments):Ss.apply(void 0,arguments)},Ps=["fire","_read","_write"],Bs=function(t){var e={};return Ur(t,e,Ps),e},Ns=function(t,e){return t.replace(/(?:{([a-zA-Z]+)})/g,(function(t,n){return e[n]}))},Gs=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);return{transfer:function(t,e){},post:function(t,e,n){var i=Nr();r.onmessage=function(t){t.data.id===i&&e(t.data.message)},r.postMessage({id:i,message:t},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},js=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t}))},Us=function(t,e){var n=t.slice(0,t.size,t.type);return n.lastModifiedDate=t.lastModifiedDate,n.name=e,n},Vs=function(t){return Us(t,t.name)},qs=[],zs=function(t){if(!qs.includes(t)){qs.push(t);var e,n=t({addFilter:Qr,utils:{Type:Xr,forin:Rn,isString:pr,isFile:Zi,toNaturalFileSize:go,replaceInString:Ns,getExtensionFromFilename:yi,getFilenameWithoutExtension:Yi,guesstimateMimeType:Ra,getFileFromBlob:_i,getFilenameFromURL:vi,createRoute:or,createWorker:Gs,createView:ir,createItemAPI:qr,loadImage:js,copyFile:Vs,renameFile:Us,createBlob:Di,applyFilterChain:Kr,text:lo,getNumericAspectRatioFromString:ri},views:{fileActionButton:po}});e=n.options,Object.assign(ei,e)}},Ws=(Co=Vn()&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window&&("supports"in(window.CSS||{})||/MSIE|Trident/.test(window.navigator.userAgent)),function(){return Co}),Hs={apps:[]},$s=function(){},Ys={},Xs=$s,Zs=$s,Ks=$s,Js=$s,Qs=$s,tu=$s,eu=$s;if(Ws()){!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r="__framePainter";if(window[r])return window[r].readers.push(t),void window[r].writers.push(e);window[r]={readers:[t],writers:[e]};var i=window[r],o=1e3/n,a=null,s=null,u=null,l=null,c=function(){document.hidden?(u=function(){return window.setTimeout((function(){return h(performance.now())}),o)},l=function(){return window.clearTimeout(s)}):(u=function(){return window.requestAnimationFrame(h)},l=function(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",(function(){l&&l(),c(),h(performance.now())}));var h=function t(e){s=u(t),a||(a=e);var n=e-a;n<=o||(a=e-n%o,i.readers.forEach((function(t){return t()})),i.writers.forEach((function(t){return t(e)})))};c(),h(performance.now())}((function(){Hs.apps.forEach((function(t){return t._read()}))}),(function(t){Hs.apps.forEach((function(e){return e._write(t)}))}));var nu=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Ws,create:Xs,destroy:Zs,parse:Ks,find:Js,registerPlugin:Qs,setOptions:eu}})),document.removeEventListener("DOMContentLoaded",t)};"loading"!==document.readyState?setTimeout((function(){return nu()}),0):document.addEventListener("DOMContentLoaded",nu);var ru=function(){return Rn(ti(),(function(t,e){Ys[t]=e[1]}))};Re({},oi),Re({},Hr),Re({},Wr),Ys={},ru(),Xs=function(){var t=Fs.apply(void 0,arguments);return t.on("destroy",Zs),Hs.apps.push(t),Bs(t)},Zs=function(t){var e=Hs.apps.findIndex((function(e){return e.isAttachedTo(t)}));return e>=0&&(Hs.apps.splice(e,1)[0].restoreElement(),!0)},Ks=function(t){return Array.from(t.querySelectorAll(".".concat("filepond"))).filter((function(t){return!Hs.apps.find((function(e){return e.isAttachedTo(t)}))})).map((function(t){return Xs(t)}))},Js=function(t){var e=Hs.apps.find((function(e){return e.isAttachedTo(t)}));return e?Bs(e):null},Qs=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(zs),ru()},tu=function(){var t={};return Rn(ti(),(function(e,n){t[e]=n[0]})),t},eu=function(t){return Dr(t)&&(Hs.apps.forEach((function(e){e.setOptions(t)})),function(t){Rn(t,(function(t,e){ei[t]&&(ei[t][0]=xr(e,ei[t][0],ei[t][1]))}))}(t)),tu()}}var iu=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.replaceInString,o=n.toNaturalFileSize;return e("ALLOW_HOPPER_ITEM",(function(t,e){var n=e.query;if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var r=n("GET_MAX_FILE_SIZE");if(null!==r&&t.size>=r)return!1;var i=n("GET_MIN_FILE_SIZE");return!(null!==i&&t.size<=i)})),e("LOAD_FILE",(function(t,e){var n=e.query;return new Promise((function(e,r){if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return e(t);var a=n("GET_FILE_VALIDATE_SIZE_FILTER");if(a&&!a(t))return e(t);var s=n("GET_MAX_FILE_SIZE");if(null!==s&&t.size>=s)r({status:{main:n("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:i(n("GET_LABEL_MAX_FILE_SIZE"),{filesize:o(s,".",n("GET_FILE_SIZE_BASE"),n("GET_FILE_SIZE_LABELS",n))})}});else{var u=n("GET_MIN_FILE_SIZE");if(null!==u&&t.size<=u)r({status:{main:n("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:i(n("GET_LABEL_MIN_FILE_SIZE"),{filesize:o(u,".",n("GET_FILE_SIZE_BASE"),n("GET_FILE_SIZE_LABELS",n))})}});else{var l=n("GET_MAX_TOTAL_FILE_SIZE");if(null!==l)if(n("GET_ACTIVE_ITEMS").reduce((function(t,e){return t+e.fileSize}),0)>l)return void r({status:{main:n("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:i(n("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:o(l,".",n("GET_FILE_SIZE_BASE"),n("GET_FILE_SIZE_LABELS",n))})}});e(t)}}}))})),{options:{allowFileSizeValidation:[!0,r.BOOLEAN],maxFileSize:[null,r.INT],minFileSize:[null,r.INT],maxTotalFileSize:[null,r.INT],fileValidateSizeFilter:[null,r.FUNCTION],labelMinFileSizeExceeded:["File is too small",r.STRING],labelMinFileSize:["Minimum file size is {filesize}",r.STRING],labelMaxFileSizeExceeded:["File is too large",r.STRING],labelMaxFileSize:["Maximum file size is {filesize}",r.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",r.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",r.STRING]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:iu}));var ou=iu,au=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.isString,o=n.replaceInString,a=n.guesstimateMimeType,s=n.getExtensionFromFilename,u=n.getFilenameFromURL,l=function(t,e){return t.some((function(t){return/\*$/.test(t)?(n=t,(/^[^/]+/.exec(e)||[]).pop()===n.slice(0,-2)):t===e;var n}))},c=function(t,e,n){if(0===e.length)return!0;var r=function(t){var e="";if(i(t)){var n=u(t),r=s(n);r&&(e=a(r))}else e=t.type;return e}(t);return n?new Promise((function(i,o){n(t,r).then((function(t){l(e,t)?i():o()})).catch(o)})):l(e,r)};return e("SET_ATTRIBUTE_TO_OPTION_MAP",(function(t){return Object.assign(t,{accept:"acceptedFileTypes"})})),e("ALLOW_HOPPER_ITEM",(function(t,e){var n=e.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||c(t,n("GET_ACCEPTED_FILE_TYPES"))})),e("LOAD_FILE",(function(t,e){var n=e.query;return new Promise((function(e,r){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var i=n("GET_ACCEPTED_FILE_TYPES"),a=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),s=c(t,i,a),u=function(){var t,e=i.map((t=n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"),function(e){return null!==t[e]&&(t[e]||e)})).filter((function(t){return!1!==t}));r({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"==typeof s)return s?e(t):u();s.then((function(){e(t)})).catch(u)}else e(t)}))})),{options:{allowFileTypeValidation:[!0,r.BOOLEAN],acceptedFileTypes:[[],r.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",r.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",r.STRING],fileValidateTypeLabelExpectedTypesMap:[{},r.OBJECT],fileValidateTypeDetectType:[null,r.FUNCTION]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:au}));var su=au,uu=function(t){return/^image/.test(t.type)},lu=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.isFile,o=n.getNumericAspectRatioFromString,a=function(t,e){return!(!uu(t.file)||!e("GET_ALLOW_IMAGE_CROP"))},s=function(t){return"object"===Be(t)},u=function(t){return"number"==typeof t},l=function(t,e){return t.setMetadata("crop",Object.assign({},t.getMetadata("crop"),e))};return e("DID_CREATE_ITEM",(function(t,e){var n=e.query;t.extend("setImageCrop",(function(e){if(a(t,n)&&s(center))return t.setMetadata("crop",e),e})),t.extend("setImageCropCenter",(function(e){if(a(t,n)&&s(e))return l(t,{center:e})})),t.extend("setImageCropZoom",(function(e){if(a(t,n)&&u(e))return l(t,{zoom:Math.max(1,e)})})),t.extend("setImageCropRotation",(function(e){if(a(t,n)&&u(e))return l(t,{rotation:e})})),t.extend("setImageCropFlip",(function(e){if(a(t,n)&&s(e))return l(t,{flip:e})})),t.extend("setImageCropAspectRatio",(function(e){if(a(t,n)&&void 0!==e){var r=t.getMetadata("crop"),i=o(e),s={center:{x:.5,y:.5},flip:r?Object.assign({},r.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:i};return t.setMetadata("crop",s),s}}))})),e("DID_LOAD_ITEM",(function(t,e){var n=e.query;return new Promise((function(e,r){var a=t.file;if(!i(a)||!uu(a)||!n("GET_ALLOW_IMAGE_CROP"))return e(t);if(t.getMetadata("crop"))return e(t);var s=n("GET_IMAGE_CROP_ASPECT_RATIO");t.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:s?o(s):null}),e(t)}))})),{options:{allowImageCrop:[!0,r.BOOLEAN],imageCropAspectRatio:[null,r.STRING]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:lu}));var cu=lu,hu=65496,fu=65505,du=1165519206,pu=18761,gu=274,mu=65280,vu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.getUint16(e,n)},yu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.getUint32(e,n)},Eu="undefined"!=typeof window&&void 0!==window.document,bu=void 0,Au=Eu?new Image:{};Au.onload=function(){return bu=Au.naturalWidth>Au.naturalHeight},Au.src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";var _u=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.isFile;return e("DID_LOAD_ITEM",(function(t,e){var n=e.query;return new Promise((function(e,r){var o=t.file;if(!(i(o)&&function(t){return/^image\/jpeg/.test(t.type)}(o)&&n("GET_ALLOW_IMAGE_EXIF_ORIENTATION")&&bu))return e(t);(function(t){return new Promise((function(e,n){var r=new FileReader;r.onload=function(t){var n=new DataView(t.target.result);if(vu(n,0)===hu){for(var r=n.byteLength,i=2;i<r;){var o=vu(n,i);if(i+=2,o===fu){if(yu(n,i+=2)!==du)break;var a=vu(n,i+=6)===pu;i+=yu(n,i+4,a);var s=vu(n,i,a);i+=2;for(var u=0;u<s;u++)if(vu(n,i+12*u,a)===gu)return void e(vu(n,i+12*u+8,a))}else{if((o&mu)!==mu)break;i+=vu(n,i)}}e(-1)}else e(-1)},r.readAsArrayBuffer(t.slice(0,65536))}))})(o).then((function(n){t.setMetadata("exif",{orientation:n}),e(t)}))}))})),{options:{allowImageExifOrientation:[!0,r.BOOLEAN]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:_u}));var Du=_u,wu=function(t,e){return Cu(t.x*e,t.y*e)},Tu=function(t,e){return Cu(t.x+e.x,t.y+e.y)},xu=function(t,e,n){var r=Math.cos(e),i=Math.sin(e),o=Cu(t.x-n.x,t.y-n.y);return Cu(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},Cu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:t,y:e}},ku=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof t?parseFloat(t)*n:"number"==typeof t?t*(r?e[r]:Math.min(e.width,e.height)):void 0},Iu=function(t){return null!=t},Su=function(t,e){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])}))},Ru=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return e&&Su(n,e),n},Ou={contain:"xMidYMid meet",cover:"xMidYMid slice"},Lu={left:"start",center:"middle",right:"end"},Mu=function(t){return function(e){return Ru(t,{id:e.id})}},Fu={image:function(t){var e=Ru("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:Mu("rect"),ellipse:Mu("ellipse"),text:Mu("text"),path:Mu("path"),line:function(t){var e=Ru("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=Ru("line");e.appendChild(n);var r=Ru("path");e.appendChild(r);var i=Ru("path");return e.appendChild(i),e}},Pu={rect:function(t){return Su(t,Re(Re({},t.rect),t.styles))},ellipse:function(t){var e=t.rect.x+.5*t.rect.width,n=t.rect.y+.5*t.rect.height,r=.5*t.rect.width,i=.5*t.rect.height;return Su(t,Re({cx:e,cy:n,rx:r,ry:i},t.styles))},image:function(t,e){Su(t,Re(Re(Re({},t.rect),t.styles),{},{preserveAspectRatio:Ou[e.fit]||"none"}))},text:function(t,e,n,r){var i=ku(e.fontSize,n,r),o=e.fontFamily||"sans-serif",a=e.fontWeight||"normal",s=Lu[e.textAlign]||"start";Su(t,Re(Re(Re({},t.rect),t.styles),{},{"stroke-width":0,"font-weight":a,"font-size":i,"font-family":o,"text-anchor":s})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},path:function(t,e,n,r){var i;Su(t,Re(Re({},t.styles),{},{fill:"none",d:(i=e.points.map((function(t){return{x:ku(t.x,n,r,"width"),y:ku(t.y,n,r,"height")}})),i.map((function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)})).join(" "))}))},line:function(t,e,n,r){Su(t,Re(Re(Re({},t.rect),t.styles),{},{fill:"none"}));var i=t.childNodes[0],o=t.childNodes[1],a=t.childNodes[2],s=t.rect,u={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(Su(i,{x1:s.x,y1:s.y,x2:u.x,y2:u.y}),e.lineDecoration){o.style.display="none",a.style.display="none";var l=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:Cu(t.x/e,t.y/e)}({x:u.x-s.x,y:u.y-s.y}),c=ku(.05,n,r);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var h=wu(l,c),f=Tu(s,h),d=xu(s,2,f),p=xu(s,-2,f);Su(o,{style:"display:block;",d:"M".concat(d.x,",").concat(d.y," L").concat(s.x,",").concat(s.y," L").concat(p.x,",").concat(p.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var g=wu(l,-c),m=Tu(u,g),v=xu(u,2,m),y=xu(u,-2,m);Su(a,{style:"display:block;",d:"M".concat(v.x,",").concat(v.y," L").concat(u.x,",").concat(u.y," L").concat(y.x,",").concat(y.y)})}}}},Bu=function(t,e,n,r,i){"path"!==e&&(t.rect=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=ku(t.x,e,n,"width")||ku(t.left,e,n,"width"),i=ku(t.y,e,n,"height")||ku(t.top,e,n,"height"),o=ku(t.width,e,n,"width"),a=ku(t.height,e,n,"height"),s=ku(t.right,e,n,"width"),u=ku(t.bottom,e,n,"height");return Iu(i)||(i=Iu(a)&&Iu(u)?e.height-a-u:u),Iu(r)||(r=Iu(o)&&Iu(s)?e.width-o-s:s),Iu(o)||(o=Iu(r)&&Iu(s)?e.width-r-s:0),Iu(a)||(a=Iu(i)&&Iu(u)?e.height-i-u:0),{x:r||0,y:i||0,width:o||0,height:a||0}}(n,r,i)),t.styles=function(t,e,n){var r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",a=ku(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof r?"":r.map((function(t){return ku(t,e,n)})).join(","),stroke:o,fill:i,opacity:t.opacity||1}}(n,r,i),Pu[e](t,n,r,i)},Nu=["x","y","left","top","right","bottom","width","height"],Gu=function(t){var e=ke(t,2),n=e[0],r=e[1],i=r.points?{}:Nu.reduce((function(t,e){var n;return t[e]="string"==typeof(n=r[e])&&/%/.test(n)?parseFloat(n)/100:n,t}),{});return[n,Re(Re({zIndex:0},r),i)]},ju=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},Uu=function(t){return t.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function(t){var e=t.root,n=t.props;if(n.dirty){var r=n.crop,i=n.resize,o=n.markup,a=n.width,s=n.height,u=r.width,l=r.height;if(i){var c=i.size,h=c&&c.width,f=c&&c.height,d=i.mode,p=i.upscale;h&&!f&&(f=h),f&&!h&&(h=f);var g=u<h&&l<f;if(!g||g&&p){var m,v=h/u,y=f/l;if("force"===d)u=h,l=f;else"cover"===d?m=Math.max(v,y):"contain"===d&&(m=Math.min(v,y)),u*=m,l*=m}}var E={width:a,height:s};e.element.setAttribute("width",E.width),e.element.setAttribute("height",E.height);var b=Math.min(a/u,s/l);e.element.innerHTML="";var A=e.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");o.filter(A).map(Gu).sort(ju).forEach((function(t){var n=ke(t,2),r=n[0],i=n[1],o=function(t,e){return Fu[t](e)}(r,i);Bu(o,r,i,E,b),e.element.appendChild(o)}))}}})},Vu=function(t,e){return{x:t,y:e}},qu=function(t,e){return Vu(t.x-e.x,t.y-e.y)},zu=function(t,e){return Math.sqrt(function(t,e){return function(t,e){return t.x*e.x+t.y*e.y}(qu(t,e),qu(t,e))}(t,e))},Wu=function(t,e){var n=t,r=e,i=1.5707963267948966-e,o=Math.sin(1.5707963267948966),a=Math.sin(r),s=Math.sin(i),u=Math.cos(i),l=n/o;return Vu(u*(l*a),u*(l*s))},Hu=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.height/t.width,i=1,o=e,a=1,s=r;s>o&&(a=(s=o)/r);var u=Math.max(i/a,o/s),l=t.width/(n*u*a),c=l*e;return{width:l,height:c}},$u=function(t,e,n,r){var i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,a=2*i*t.width,s=2*o*t.height,u=function(t,e){var n=t.width,r=t.height,i=Wu(n,e),o=Wu(r,e),a=Vu(t.x+Math.abs(i.x),t.y-Math.abs(i.y)),s=Vu(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x)),u=Vu(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:zu(a,s),height:zu(a,u)}}(e,n);return Math.max(u.width/a,u.height/s)},Yu=function(t,e){var n=t.width,r=n*e;return r>t.height&&(n=(r=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-r),width:n,height:r}},Xu={type:"spring",stiffness:.5,damping:.45,mass:10},Zu=function(t){return t.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function(t){var e=t.root,n=t.props;n.background&&(e.element.style.backgroundColor=n.background)},create:function(e){var n=e.root,r=e.props;n.ref.image=n.appendChildView(n.createChildView(function(t){return t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Xu,originY:Xu,scaleX:Xu,scaleY:Xu,translateX:Xu,translateY:Xu,rotateZ:Xu}},create:function(e){var n=e.root,r=e.props;r.width=r.image.width,r.height=r.image.height,n.ref.bitmap=n.appendChildView(n.createChildView(function(t){return t.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:function(t){var e=t.root,n=t.props;e.appendChild(n.image)}})}(t),{image:r.image}))},write:function(t){var e=t.root,n=t.props.crop.flip,r=e.ref.bitmap;r.scaleX=n.horizontal?-1:1,r.scaleY=n.vertical?-1:1}})}(t),Object.assign({},r))),n.ref.createMarkup=function(){n.ref.markup||(n.ref.markup=n.appendChildView(n.createChildView(Uu(t),Object.assign({},r))))},n.ref.destroyMarkup=function(){n.ref.markup&&(n.removeChildView(n.ref.markup),n.ref.markup=null)};var i=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");null!==i&&(n.element.dataset.transparencyIndicator="grid"===i?i:"color")},write:function(t){var e=t.root,n=t.props,r=t.shouldOptimize,i=n.crop,o=n.markup,a=n.resize,s=n.dirty,u=n.width,l=n.height;e.ref.image.crop=i;var c={x:0,y:0,width:u,height:l,center:{x:.5*u,y:.5*l}},h={width:e.ref.image.width,height:e.ref.image.height},f={x:i.center.x*h.width,y:i.center.y*h.height},d={x:c.center.x-h.width*i.center.x,y:c.center.y-h.height*i.center.y},p=2*Math.PI+i.rotation%(2*Math.PI),g=i.aspectRatio||h.height/h.width,m=void 0===i.scaleToFit||i.scaleToFit,v=$u(h,Yu(c,g),p,m?i.center:{x:.5,y:.5}),y=i.zoom*v;o&&o.length?(e.ref.createMarkup(),e.ref.markup.width=u,e.ref.markup.height=l,e.ref.markup.resize=a,e.ref.markup.dirty=s,e.ref.markup.markup=o,e.ref.markup.crop=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.zoom,r=e.rotation,i=e.center,o=e.aspectRatio;o||(o=t.height/t.width);var a=Hu(t,o,n),s={x:.5*a.width,y:.5*a.height},u={x:0,y:0,width:a.width,height:a.height,center:s},l=void 0===e.scaleToFit||e.scaleToFit,c=$u(t,Yu(u,o),r,l?i:{x:.5,y:.5}),h=n*c;return{widthFloat:a.width/h,heightFloat:a.height/h,width:Math.round(a.width/h),height:Math.round(a.height/h)}}(h,i)):e.ref.markup&&e.ref.destroyMarkup();var E=e.ref.image;if(r)return E.originX=null,E.originY=null,E.translateX=null,E.translateY=null,E.rotateZ=null,E.scaleX=null,void(E.scaleY=null);E.originX=f.x,E.originY=f.y,E.translateX=d.x,E.translateY=d.y,E.rotateZ=p,E.scaleX=y,E.scaleY=y}})},Ku=0,Ju=function(){self.onmessage=function(t){createImageBitmap(t.data.message.file).then((function(e){self.postMessage({id:t.data.id,message:e},[e])}))}},Qu=function(){self.onmessage=function(t){for(var e=t.data.message.imageData,n=t.data.message.colorMatrix,r=e.data,i=r.length,o=n[0],a=n[1],s=n[2],u=n[3],l=n[4],c=n[5],h=n[6],f=n[7],d=n[8],p=n[9],g=n[10],m=n[11],v=n[12],y=n[13],E=n[14],b=n[15],A=n[16],_=n[17],D=n[18],w=n[19],T=0,x=0,C=0,k=0,I=0;T<i;T+=4)x=r[T]/255,C=r[T+1]/255,k=r[T+2]/255,I=r[T+3]/255,r[T]=Math.max(0,Math.min(255*(x*o+C*a+k*s+I*u+l),255)),r[T+1]=Math.max(0,Math.min(255*(x*c+C*h+k*f+I*d+p),255)),r[T+2]=Math.max(0,Math.min(255*(x*g+C*m+k*v+I*y+E),255)),r[T+3]=Math.max(0,Math.min(255*(x*b+C*A+k*_+I*D+w),255));self.postMessage({id:t.data.id,message:e},[e.data.buffer])}},tl={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},el=function(t,e,n,r){e=Math.round(e),n=Math.round(n);var i=document.createElement("canvas");i.width=e,i.height=n;var o=i.getContext("2d");if(r>=5&&r<=8){var a=[n,e];e=a[0],n=a[1]}return function(t,e,n,r){-1!==r&&t.transform.apply(t,tl[r](e,n))}(o,e,n,r),o.drawImage(t,0,0,e,n),i},nl=function(t){return/^image/.test(t.type)&&!/svg/.test(t.type)},rl=function(t,e){return Math.floor(Math.sqrt(t/(e/4)))},il=function(t,e){return(e=e||document.createElement("canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},ol=function(t){var e=t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:function(t){var e=t.root,n=t.props,r='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>';if(document.querySelector("base")){var i=window.location.href.replace(window.location.hash,"");r=r.replace(/url\(\#/g,"url("+i+"#")}Ku++,e.element.classList.add("filepond--image-preview-overlay-".concat(n.status)),e.element.innerHTML=r.replace(/__UID__/g,Ku)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),n=function(t){return t.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Xu,scaleY:Xu,translateY:Xu,opacity:{type:"tween",duration:400}}},create:function(e){var n=e.root,r=e.props;n.ref.clip=n.appendChildView(n.createChildView(Zu(t),{id:r.id,image:r.image,crop:r.crop,markup:r.markup,resize:r.resize,dirty:r.dirty,background:r.background}))},write:function(t){var e=t.root,n=t.props,r=t.shouldOptimize,i=e.ref.clip,o=n.image,a=n.crop,s=n.markup,u=n.resize,l=n.dirty;if(i.crop=a,i.markup=s,i.resize=u,i.dirty=l,i.opacity=r?0:1,!r&&!e.rect.element.hidden){var c=o.height/o.width,h=a.aspectRatio||c,f=e.rect.inner.width,d=e.rect.inner.height,p=e.query("GET_IMAGE_PREVIEW_HEIGHT"),g=e.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),m=e.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),v=e.query("GET_PANEL_ASPECT_RATIO"),y=e.query("GET_ALLOW_MULTIPLE");v&&!y&&(p=f*v,h=v);var E=null!==p?p:Math.max(g,Math.min(f*h,m)),b=E/h;b>f&&(E=(b=f)*h),E>d&&(E=d,b=d/h),i.width=b,i.height=E}}})}(t),r=t.utils.createWorker,i=function(t,e,n){return new Promise((function(i){t.ref.imageData||(t.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height));var o=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(new Uint8ClampedArray(t.data)),e}(t.ref.imageData);if(!e||20!==e.length)return n.getContext("2d").putImageData(o,0,0),i();var a=r(Qu);a.post({imageData:o,colorMatrix:e},(function(t){n.getContext("2d").putImageData(t,0,0),a.terminate(),i()}),[o.data.buffer])}))},o=function(t){var e=t.root,r=t.props,i=t.image,o=r.id,a=e.query("GET_ITEM",{id:o});if(a){var s,u,l=a.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},c=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),h=!1;e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(s=a.getMetadata("markup")||[],u=a.getMetadata("resize"),h=!0);var f=e.appendChildView(e.createChildView(n,{id:o,image:i,crop:l,resize:u,markup:s,dirty:h,background:c,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),e.childViews.length);e.ref.images.push(f),f.opacity=1,f.scaleX=1,f.scaleY=1,f.translateY=0,setTimeout((function(){e.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)}},a=function(t){var e=t.root;e.ref.overlayShadow.opacity=1,e.ref.overlayError.opacity=0,e.ref.overlaySuccess.opacity=0},s=function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlayError.opacity=1};return t.utils.createView({name:"image-preview-wrapper",create:function(t){var n=t.root;n.ref.images=[],n.ref.imageData=null,n.ref.imageViewBin=[],n.ref.overlayShadow=n.appendChildView(n.createChildView(e,{opacity:0,status:"idle"})),n.ref.overlaySuccess=n.appendChildView(n.createChildView(e,{opacity:0,status:"success"})),n.ref.overlayError=n.appendChildView(n.createChildView(e,{opacity:0,status:"failure"}))},styles:["height"],apis:["height"],destroy:function(t){t.root.ref.images.forEach((function(t){t.image.width=1,t.image.height=1}))},didWriteView:function(t){t.root.ref.images.forEach((function(t){t.dirty=!1}))},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:function(t){var e=t.root,n=e.ref.images[e.ref.images.length-1];n.translateY=0,n.scaleX=1,n.scaleY=1,n.opacity=1},DID_IMAGE_PREVIEW_CONTAINER_CREATE:function(t){var e=t.root,n=t.props.id,r=e.query("GET_ITEM",n);if(r){var i,o,a,s=URL.createObjectURL(r.file);i=s,o=function(t,r){e.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:n,width:t,height:r})},(a=new Image).onload=function(){var t=a.naturalWidth,e=a.naturalHeight;a=null,o(t,e)},a.src=i}},DID_FINISH_CALCULATE_PREVIEWSIZE:function(t){var e=t.root,n=t.props,a=n.id,s=e.query("GET_ITEM",a);if(s){var u,l,c=URL.createObjectURL(s.file),h=function(){var t;(t=c,new Promise((function(e,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t}))).then(f)},f=function(t){URL.revokeObjectURL(c);var r=(s.getMetadata("exif")||{}).orientation||-1,a=t.width,u=t.height;if(a&&u){if(r>=5&&r<=8){var l=[u,a];a=l[0],u=l[1]}var h=Math.max(1,.75*window.devicePixelRatio),f=e.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*h,d=u/a,p=e.rect.element.width,g=e.rect.element.height,m=p,v=m*d;d>1?v=(m=Math.min(a,p*f))*d:m=(v=Math.min(u,g*f))/d;var y=el(t,m,v,r),E=function(){var r=e.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?function(t){var e=Math.min(10/t.width,10/t.height),n=document.createElement("canvas"),r=n.getContext("2d"),i=n.width=Math.ceil(t.width*e),o=n.height=Math.ceil(t.height*e);r.drawImage(t,0,0,i,o);var a=null;try{a=r.getImageData(0,0,i,o).data}catch(t){return null}for(var s=a.length,u=0,l=0,c=0,h=0;h<s;h+=4)u+=a[h]*a[h],l+=a[h+1]*a[h+1],c+=a[h+2]*a[h+2];return{r:u=rl(u,s),g:l=rl(l,s),b:c=rl(c,s)}}(data):null;s.setMetadata("color",r,!0),"close"in t&&t.close(),e.ref.overlayShadow.opacity=1,o({root:e,props:n,image:y})},b=s.getMetadata("filter");b?i(e,b,y).then(E):E()}};if(u=s.file,((l=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./))?parseInt(l[1]):null)<=58||!("createImageBitmap"in window)||!nl(u))h();else{var d=r(Ju);d.post({file:s.file},(function(t){d.terminate(),t?f(t):h()}))}}},DID_UPDATE_ITEM_METADATA:function(t){var e=t.root,n=t.props,r=t.action;if(/crop|filter|markup|resize/.test(r.change.key)&&e.ref.images.length){var a=e.query("GET_ITEM",{id:n.id});if(a)if(/filter/.test(r.change.key)){var s=e.ref.images[e.ref.images.length-1];i(e,r.change.value,s.image)}else if(/crop|markup|resize/.test(r.change.key)){var u=a.getMetadata("crop"),l=e.ref.images[e.ref.images.length-1];if(u&&u.aspectRatio&&l.crop&&l.crop.aspectRatio&&Math.abs(u.aspectRatio-l.crop.aspectRatio)>1e-5){var c=function(t){var e=t.root,n=e.ref.images.shift();return n.opacity=0,n.translateY=-15,e.ref.imageViewBin.push(n),n}({root:e});o({root:e,props:n,image:il(c.image)})}else!function(t){var e=t.root,n=t.props,r=e.query("GET_ITEM",{id:n.id});if(r){var i=e.ref.images[e.ref.images.length-1];i.crop=r.getMetadata("crop"),i.background=e.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),e.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(i.dirty=!0,i.resize=r.getMetadata("resize"),i.markup=r.getMetadata("markup"))}}({root:e,props:n})}}},DID_THROW_ITEM_LOAD_ERROR:s,DID_THROW_ITEM_PROCESSING_ERROR:s,DID_THROW_ITEM_INVALID:s,DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root;e.ref.overlayShadow.opacity=.25,e.ref.overlaySuccess.opacity=1},DID_START_ITEM_PROCESSING:a,DID_REVERT_ITEM_PROCESSING:a},(function(t){var e=t.root,n=e.ref.imageViewBin.filter((function(t){return 0===t.opacity}));e.ref.imageViewBin=e.ref.imageViewBin.filter((function(t){return t.opacity>0})),n.forEach((function(t){return function(t,e){t.removeChildView(e),e.image.width=1,e.image.height=1,e._destroy()}(e,t)})),n.length=0}))})},al=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.createRoute,o=n.isFile,a=ol(t);return e("CREATE_VIEW",(function(t){var e=t.is,n=t.view,r=t.query;if(e("file")&&r("GET_ALLOW_IMAGE_PREVIEW")){var s=function(t){t.root.ref.shouldRescale=!0};n.registerWriter(i({DID_RESIZE_ROOT:s,DID_STOP_RESIZE:s,DID_LOAD_ITEM:function(t){var e=t.root,i=t.props.id,s=r("GET_ITEM",i);if(s&&o(s.file)&&!s.archived){var u=s.file;if(function(t){return/^image/.test(t.type)}(u)&&r("GET_IMAGE_PREVIEW_FILTER_ITEM")(s)){var l="createImageBitmap"in(window||{}),c=r("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!(!l&&c&&u.size>c)){e.ref.imagePreview=n.appendChildView(n.createChildView(a,{id:i}));var h=e.query("GET_IMAGE_PREVIEW_HEIGHT");h&&e.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:s.id,height:h});var f=!l&&u.size>r("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");e.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:i},f)}}}},DID_IMAGE_PREVIEW_CALCULATE_SIZE:function(t){var e=t.root,n=t.action;e.ref.imageWidth=n.width,e.ref.imageHeight=n.height,e.ref.shouldRescale=!0,e.ref.shouldDrawPreview=!0,e.dispatch("KICK")},DID_UPDATE_ITEM_METADATA:function(t){var e=t.root;"crop"===t.action.change.key&&(e.ref.shouldRescale=!0)}},(function(t){var e=t.root,n=t.props;e.ref.imagePreview&&(e.rect.element.hidden||(e.ref.shouldRescale&&(!function(t,e){if(t.ref.imagePreview){var n=e.id,r=t.query("GET_ITEM",{id:n});if(r){var i=t.query("GET_PANEL_ASPECT_RATIO"),o=t.query("GET_ITEM_PANEL_ASPECT_RATIO"),a=t.query("GET_IMAGE_PREVIEW_HEIGHT");if(!(i||o||a)){var s=t.ref,u=s.imageWidth,l=s.imageHeight;if(u&&l){var c=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),h=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),f=(r.getMetadata("exif")||{}).orientation||-1;if(f>=5&&f<=8){var d=[l,u];u=d[0],l=d[1]}if(!nl(r.file)||t.query("GET_IMAGE_PREVIEW_UPSCALE")){var p=2048/u;u*=p,l*=p}var g=l/u,m=(r.getMetadata("crop")||{}).aspectRatio||g,v=Math.max(c,Math.min(l,h)),y=t.rect.element.width,E=Math.min(y*m,v);t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:r.id,height:E})}}}}}(e,n),e.ref.shouldRescale=!1),e.ref.shouldDrawPreview&&(requestAnimationFrame((function(){requestAnimationFrame((function(){e.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:n.id})}))})),e.ref.shouldDrawPreview=!1)))})))}})),{options:{allowImagePreview:[!0,r.BOOLEAN],imagePreviewFilterItem:[function(){return!0},r.FUNCTION],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT],imagePreviewZoomFactor:[2,r.INT],imagePreviewUpscale:[!1,r.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,r.INT],imagePreviewTransparencyIndicator:[null,r.STRING],imagePreviewCalculateAverageImageColor:[!1,r.BOOLEAN],imagePreviewMarkupShow:[!0,r.BOOLEAN],imagePreviewMarkupFilter:[function(){return!0},r.FUNCTION]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:al}));var sl=al,ul=function(t){var e=t.addFilter,n=t.utils.Type;return e("DID_LOAD_ITEM",(function(t,e){var n=e.query;return new Promise((function(e,r){var i=t.file;if(!function(t){return/^image/.test(t.type)}(i)||!n("GET_ALLOW_IMAGE_RESIZE"))return e(t);var o=n("GET_IMAGE_RESIZE_MODE"),a=n("GET_IMAGE_RESIZE_TARGET_WIDTH"),s=n("GET_IMAGE_RESIZE_TARGET_HEIGHT"),u=n("GET_IMAGE_RESIZE_UPSCALE");if(null===a&&null===s)return e(t);var l,c,h,f=null===a?s:a,d=null===s?f:s,p=URL.createObjectURL(i);l=p,c=function(n){if(URL.revokeObjectURL(p),!n)return e(t);var r=n.width,i=n.height,a=(t.getMetadata("exif")||{}).orientation||-1;if(a>=5&&a<=8){var s=[i,r];r=s[0],i=s[1]}if(r===f&&i===d)return e(t);if(!u)if("cover"===o){if(r<=f||i<=d)return e(t)}else if(r<=f&&i<=f)return e(t);t.setMetadata("resize",{mode:o,upscale:u,size:{width:f,height:d}}),e(t)},(h=new Image).onload=function(){var t=h.naturalWidth,e=h.naturalHeight;h=null,c({width:t,height:e})},h.onerror=function(){return c(null)},h.src=l}))})),{options:{allowImageResize:[!0,n.BOOLEAN],imageResizeMode:["cover",n.STRING],imageResizeUpscale:[!0,n.BOOLEAN],imageResizeTargetWidth:[null,n.INT],imageResizeTargetHeight:[null,n.INT]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ul}));var ll=ul,cl={jpeg:"jpg","svg+xml":"svg"},hl=function(t){return/^image/.test(t.type)},fl={1:function(){return[1,0,0,1,0,0]},2:function(t){return[-1,0,0,1,t,0]},3:function(t,e){return[-1,0,0,-1,t,e]},4:function(t,e){return[1,0,0,-1,0,e]},5:function(){return[0,1,1,0,0,0]},6:function(t,e){return[0,1,-1,0,e,0]},7:function(t,e){return[0,-1,-1,0,e,t]},8:function(t){return[0,-1,1,0,0,t]}},dl=function(t,e){return{x:t,y:e}},pl=function(t,e){return dl(t.x-e.x,t.y-e.y)},gl=function(t,e){return Math.sqrt(function(t,e){return function(t,e){return t.x*e.x+t.y*e.y}(pl(t,e),pl(t,e))}(t,e))},ml=function(t,e){var n=t,r=e,i=1.5707963267948966-e,o=Math.sin(1.5707963267948966),a=Math.sin(r),s=Math.sin(i),u=Math.cos(i),l=n/o;return dl(u*(l*a),u*(l*s))},vl=function(t,e){var n=t.width,r=t.height,i=ml(n,e),o=ml(r,e),a=dl(t.x+Math.abs(i.x),t.y-Math.abs(i.y)),s=dl(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x)),u=dl(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:gl(a,s),height:gl(a,u)}},yl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:.5,y:.5},i=r.x>.5?1-r.x:r.x,o=r.y>.5?1-r.y:r.y,a=2*i*t.width,s=2*o*t.height,u=vl(e,n);return Math.max(u.width/a,u.height/s)},El=function(t,e){var n=t.width,r=n*e;return r>t.height&&(n=(r=t.height)/e),{x:.5*(t.width-n),y:.5*(t.height-r),width:n,height:r}},bl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=t.height/t.width,i=1,o=e,a=1,s=r;s>o&&(a=(s=o)/r);var u=Math.max(i/a,o/s),l=t.width/(n*u*a),c=l*e;return{width:l,height:c}},Al=function(t){t.width=1,t.height=1,t.getContext("2d").clearRect(0,0,1,1)},_l=function(t){return t&&(t.horizontal||t.vertical)},Dl=function(t,e,n){if(e<=1&&!_l(n))return t.width=t.naturalWidth,t.height=t.naturalHeight,t;var r=document.createElement("canvas"),i=t.naturalWidth,o=t.naturalHeight,a=e>=5&&e<=8;a?(r.width=o,r.height=i):(r.width=i,r.height=o);var s=r.getContext("2d");if(e&&s.transform.apply(s,function(t,e,n){return-1===n&&(n=1),fl[n](t,e)}(i,o,e)),_l(n)){var u=[1,0,0,1,0,0];(!a&&n.horizontal||a&n.vertical)&&(u[0]=-1,u[4]=i),(!a&&n.vertical||a&&n.horizontal)&&(u[3]=-1,u[5]=o),s.transform.apply(s,u)}return s.drawImage(t,0,0,i,o),r},wl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.canvasMemoryLimit,o=r.background,a=void 0===o?null:o,s=n.zoom||1,u=Dl(t,e,n.flip),l={width:u.width,height:u.height},c=n.aspectRatio||l.height/l.width,h=bl(l,c,s);if(i){var f=h.width*h.height;if(f>i){var d=Math.sqrt(i)/Math.sqrt(f);l.width=Math.floor(l.width*d),l.height=Math.floor(l.height*d),h=bl(l,c,s)}}var p=document.createElement("canvas"),g={x:.5*h.width,y:.5*h.height},m={x:0,y:0,width:h.width,height:h.height,center:g},v=void 0===n.scaleToFit||n.scaleToFit,y=s*yl(l,El(m,c),n.rotation,v?n.center:{x:.5,y:.5});p.width=Math.round(h.width/y),p.height=Math.round(h.height/y),g.x/=y,g.y/=y;var E={x:g.x-l.width*(n.center?n.center.x:.5),y:g.y-l.height*(n.center?n.center.y:.5)},b=p.getContext("2d");a&&(b.fillStyle=a,b.fillRect(0,0,p.width,p.height)),b.translate(g.x,g.y),b.rotate(n.rotation||0),b.drawImage(u,E.x-g.x,E.y-g.y,l.width,l.height);var A=b.getImageData(0,0,p.width,p.height);return Al(p),A};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this.toDataURL(e,n).split(",")[1];setTimeout((function(){for(var n=atob(r),i=n.length,o=new Uint8Array(i),a=0;a<i;a++)o[a]=n.charCodeAt(a);t(new Blob([o],{type:e||"image/png"}))}))}}));var Tl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(r){var i=n?n(t):t;Promise.resolve(i).then((function(t){t.toBlob(r,e.type,e.quality)}))}))},xl=function(t,e){return Sl(t.x*e,t.y*e)},Cl=function(t,e){return Sl(t.x+e.x,t.y+e.y)},kl=function(t){var e=Math.sqrt(t.x*t.x+t.y*t.y);return 0===e?{x:0,y:0}:Sl(t.x/e,t.y/e)},Il=function(t,e,n){var r=Math.cos(e),i=Math.sin(e),o=Sl(t.x-n.x,t.y-n.y);return Sl(n.x+r*o.x-i*o.y,n.y+i*o.x+r*o.y)},Sl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:t,y:e}},Rl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof t?parseFloat(t)*n:"number"==typeof t?t*(r?e[r]:Math.min(e.width,e.height)):void 0},Ol=function(t,e,n){var r=t.borderStyle||t.lineStyle||"solid",i=t.backgroundColor||t.fontColor||"transparent",o=t.borderColor||t.lineColor||"transparent",a=Rl(t.borderWidth||t.lineWidth,e,n);return{"stroke-linecap":t.lineCap||"round","stroke-linejoin":t.lineJoin||"round","stroke-width":a||0,"stroke-dasharray":"string"==typeof r?"":r.map((function(t){return Rl(t,e,n)})).join(","),stroke:o,fill:i,opacity:t.opacity||1}},Ll=function(t){return null!=t},Ml=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Rl(t.x,e,n,"width")||Rl(t.left,e,n,"width"),i=Rl(t.y,e,n,"height")||Rl(t.top,e,n,"height"),o=Rl(t.width,e,n,"width"),a=Rl(t.height,e,n,"height"),s=Rl(t.right,e,n,"width"),u=Rl(t.bottom,e,n,"height");return Ll(i)||(i=Ll(a)&&Ll(u)?e.height-a-u:u),Ll(r)||(r=Ll(o)&&Ll(s)?e.width-o-s:s),Ll(o)||(o=Ll(r)&&Ll(s)?e.width-r-s:0),Ll(a)||(a=Ll(i)&&Ll(u)?e.height-i-u:0),{x:r||0,y:i||0,width:o||0,height:a||0}},Fl=function(t,e){return Object.keys(e).forEach((function(n){return t.setAttribute(n,e[n])}))},Pl=function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return e&&Fl(n,e),n},Bl={contain:"xMidYMid meet",cover:"xMidYMid slice"},Nl={left:"start",center:"middle",right:"end"},Gl=function(t){return function(e){return Pl(t,{id:e.id})}},jl={image:function(t){var e=Pl("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return e.onload=function(){e.setAttribute("opacity",t.opacity||1)},e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src),e},rect:Gl("rect"),ellipse:Gl("ellipse"),text:Gl("text"),path:Gl("path"),line:function(t){var e=Pl("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"}),n=Pl("line");e.appendChild(n);var r=Pl("path");e.appendChild(r);var i=Pl("path");return e.appendChild(i),e}},Ul={rect:function(t){return Fl(t,Re(Re({},t.rect),t.styles))},ellipse:function(t){var e=t.rect.x+.5*t.rect.width,n=t.rect.y+.5*t.rect.height,r=.5*t.rect.width,i=.5*t.rect.height;return Fl(t,Re({cx:e,cy:n,rx:r,ry:i},t.styles))},image:function(t,e){Fl(t,Re(Re(Re({},t.rect),t.styles),{},{preserveAspectRatio:Bl[e.fit]||"none"}))},text:function(t,e,n,r){var i=Rl(e.fontSize,n,r),o=e.fontFamily||"sans-serif",a=e.fontWeight||"normal",s=Nl[e.textAlign]||"start";Fl(t,Re(Re(Re({},t.rect),t.styles),{},{"stroke-width":0,"font-weight":a,"font-size":i,"font-family":o,"text-anchor":s})),t.text!==e.text&&(t.text=e.text,t.textContent=e.text.length?e.text:" ")},path:function(t,e,n,r){var i;Fl(t,Re(Re({},t.styles),{},{fill:"none",d:(i=e.points.map((function(t){return{x:Rl(t.x,n,r,"width"),y:Rl(t.y,n,r,"height")}})),i.map((function(t,e){return"".concat(0===e?"M":"L"," ").concat(t.x," ").concat(t.y)})).join(" "))}))},line:function(t,e,n,r){Fl(t,Re(Re(Re({},t.rect),t.styles),{},{fill:"none"}));var i=t.childNodes[0],o=t.childNodes[1],a=t.childNodes[2],s=t.rect,u={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};if(Fl(i,{x1:s.x,y1:s.y,x2:u.x,y2:u.y}),e.lineDecoration){o.style.display="none",a.style.display="none";var l=kl({x:u.x-s.x,y:u.y-s.y}),c=Rl(.05,n,r);if(-1!==e.lineDecoration.indexOf("arrow-begin")){var h=xl(l,c),f=Cl(s,h),d=Il(s,2,f),p=Il(s,-2,f);Fl(o,{style:"display:block;",d:"M".concat(d.x,",").concat(d.y," L").concat(s.x,",").concat(s.y," L").concat(p.x,",").concat(p.y)})}if(-1!==e.lineDecoration.indexOf("arrow-end")){var g=xl(l,-c),m=Cl(u,g),v=Il(u,2,m),y=Il(u,-2,m);Fl(a,{style:"display:block;",d:"M".concat(v.x,",").concat(v.y," L").concat(u.x,",").concat(u.y," L").concat(y.x,",").concat(y.y)})}}}},Vl=function(t,e){return jl[t](e)},ql=function(t,e,n,r,i){"path"!==e&&(t.rect=Ml(n,r,i)),t.styles=Ol(n,r,i),Ul[e](t,n,r,i)},zl=function(t,e){return t[1].zIndex>e[1].zIndex?1:t[1].zIndex<e[1].zIndex?-1:0},Wl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise((function(i){var o=r.background,a=void 0===o?null:o,s=new FileReader;s.onloadend=function(){var t=s.result,r=document.createElement("div");r.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",r.innerHTML=t;var o=r.querySelector("svg");document.body.appendChild(r);var u=o.getBBox();r.parentNode.removeChild(r);var l=r.querySelector("title"),c=o.getAttribute("viewBox")||"",h=o.getAttribute("width")||"",f=o.getAttribute("height")||"",d=parseFloat(h)||null,p=parseFloat(f)||null,g=(h.match(/[a-z]+/)||[])[0]||"",m=(f.match(/[a-z]+/)||[])[0]||"",v=c.split(" ").map(parseFloat),y=v.length?{x:v[0],y:v[1],width:v[2],height:v[3]}:u,E=null!=d?d:y.width,b=null!=p?p:y.height;o.style.overflow="visible",o.setAttribute("width",E),o.setAttribute("height",b);var A="";if(n&&n.length){var _={width:E,height:b};A=n.sort(zl).reduce((function(t,e){var n=Vl(e[0],e[1]);return ql(n,e[0],e[1],_),n.removeAttribute("id"),1===n.getAttribute("opacity")&&n.removeAttribute("opacity"),t+"\n"+n.outerHTML+"\n"}),""),A="\n\n<g>".concat(A.replace(/&nbsp;/g," "),"</g>\n\n")}var D=e.aspectRatio||b/E,w=E,T=w*D,x=void 0===e.scaleToFit||e.scaleToFit,C=e.center?e.center.x:.5,k=e.center?e.center.y:.5,I=yl({width:E,height:b},El({width:w,height:T},D),e.rotation,x?{x:C,y:k}:{x:.5,y:.5}),S=e.zoom*I,R=e.rotation*(180/Math.PI),O={x:.5*w,y:.5*T},L={x:O.x-E*C,y:O.y-b*k},M=["rotate(".concat(R," ").concat(O.x," ").concat(O.y,")"),"translate(".concat(O.x," ").concat(O.y,")"),"scale(".concat(S,")"),"translate(".concat(-O.x," ").concat(-O.y,")"),"translate(".concat(L.x," ").concat(L.y,")")],F=e.flip&&e.flip.horizontal,P=e.flip&&e.flip.vertical,B=["scale(".concat(F?-1:1," ").concat(P?-1:1,")"),"translate(".concat(F?-E:0," ").concat(P?-b:0,")")],N='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="'.concat(w).concat(g,'" height="').concat(T).concat(m,'" \nviewBox="0 0 ').concat(w," ").concat(T,'" ').concat(a?'style="background:'+a+'" ':"",'\npreserveAspectRatio="xMinYMin"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns="http://www.w3.org/2000/svg">\n\x3c!-- Generated by PQINA - https://pqina.nl/ --\x3e\n<title>').concat(l?l.textContent:"",'</title>\n<g transform="').concat(M.join(" "),'">\n<g transform="').concat(B.join(" "),'">\n').concat(o.outerHTML).concat(A,"\n</g>\n</g>\n</svg>");i(N)},s.readAsText(t)}))},Hl=function(t){var e;try{e=new ImageData(t.width,t.height)}catch(n){e=document.createElement("canvas").getContext("2d").createImageData(t.width,t.height)}return e.data.set(t.data),e},$l=function(){var t={resize:function(t,e){var r=e.mode,a=void 0===r?"contain":r,s=e.upscale,u=void 0!==s&&s,l=e.width,c=e.height,h=e.matrix;if(h=!h||i(h)?null:h,!l&&!c)return o(t,h);null===l?l=c:null===c&&(c=l);if("force"!==a){var f=l/t.width,d=c/t.height,p=1;if("cover"===a?p=Math.max(f,d):"contain"===a&&(p=Math.min(f,d)),p>1&&!1===u)return o(t,h);l=t.width*p,c=t.height*p}for(var g=t.width,m=t.height,v=Math.round(l),y=Math.round(c),E=t.data,b=new Uint8ClampedArray(v*y*4),A=g/v,_=m/y,D=Math.ceil(.5*A),w=Math.ceil(.5*_),T=0;T<y;T++)for(var x=0;x<v;x++){for(var C=4*(x+T*v),k=0,I=0,S=0,R=0,O=0,L=0,M=0,F=(T+.5)*_,P=Math.floor(T*_);P<(T+1)*_;P++)for(var B=Math.abs(F-(P+.5))/w,N=(x+.5)*A,G=B*B,j=Math.floor(x*A);j<(x+1)*A;j++){var U=Math.abs(N-(j+.5))/D,V=Math.sqrt(G+U*U);if(V>=-1&&V<=1&&(k=2*V*V*V-3*V*V+1)>0){var q=E[(U=4*(j+P*g))+3];M+=k*q,S+=k,q<255&&(k=k*q/250),R+=k*E[U],O+=k*E[U+1],L+=k*E[U+2],I+=k}}b[C]=R/I,b[C+1]=O/I,b[C+2]=L/I,b[C+3]=M/S,h&&n(C,b,h)}return{data:b,width:v,height:y}},filter:o},e=function(e,n){var r=e.transforms,i=null;if(r.forEach((function(t){"filter"===t.type&&(i=t)})),i){var o=null;r.forEach((function(t){"resize"===t.type&&(o=t)})),o&&(o.data.matrix=i.data,r=r.filter((function(t){return"filter"!==t.type})))}n(function(e,n){return e.forEach((function(e){n=t[e.type](n,e.data)})),n}(r,e.imageData))};self.onmessage=function(t){e(t.data.message,(function(e){self.postMessage({id:t.data.id,message:e},[e.data.buffer])}))};function n(t,e,n){var r=e[t]/255,i=e[t+1]/255,o=e[t+2]/255,a=e[t+3]/255,s=r*n[0]+i*n[1]+o*n[2]+a*n[3]+n[4],u=r*n[5]+i*n[6]+o*n[7]+a*n[8]+n[9],l=r*n[10]+i*n[11]+o*n[12]+a*n[13]+n[14],c=r*n[15]+i*n[16]+o*n[17]+a*n[18]+n[19],h=Math.max(0,s*c)+1*(1-c),f=Math.max(0,u*c)+1*(1-c),d=Math.max(0,l*c)+1*(1-c);e[t]=255*Math.max(0,Math.min(1,h)),e[t+1]=255*Math.max(0,Math.min(1,f)),e[t+2]=255*Math.max(0,Math.min(1,d))}var r=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function i(t){return self.JSON.stringify(t||[])===r}function o(t,e){if(!e||i(e))return t;for(var n=t.data,r=n.length,o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7],d=e[8],p=e[9],g=e[10],m=e[11],v=e[12],y=e[13],E=e[14],b=e[15],A=e[16],_=e[17],D=e[18],w=e[19],T=0,x=0,C=0,k=0,I=0,S=0,R=0,O=0,L=0,M=0,F=0,P=0;T<r;T+=4)S=(x=n[T]/255)*o+(C=n[T+1]/255)*a+(k=n[T+2]/255)*s+(I=n[T+3]/255)*u+l,R=x*c+C*h+k*f+I*d+p,O=x*g+C*m+k*v+I*y+E,L=x*b+C*A+k*_+I*D+w,M=Math.max(0,S*L)+1*(1-L),F=Math.max(0,R*L)+1*(1-L),P=Math.max(0,O*L)+1*(1-L),n[T]=255*Math.max(0,Math.min(1,M)),n[T+1]=255*Math.max(0,Math.min(1,F)),n[T+2]=255*Math.max(0,Math.min(1,P));return t}},Yl=function(t,e){if(1165519206===t.getUint32(e+4,!1)){e+=4;var n=18761===t.getUint16(e+=6,!1);e+=t.getUint32(e+4,n);var r=t.getUint16(e,n);e+=2;for(var i=0;i<r;i++)if(274===t.getUint16(e+12*i,n))return t.setUint16(e+12*i+8,1,n),!0;return!1}},Xl=function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(){return e(function(t){var e=new DataView(t);if(65496!==e.getUint16(0))return null;for(var n,r,i=2,o=!1;i<e.byteLength&&(n=e.getUint16(i,!1),r=e.getUint16(i+2,!1)+2,n>=65504&&n<=65519||65534===n)&&(o||(o=Yl(e,i)),!(i+r>e.byteLength));)i+=r;return t.slice(0,i)}(n.result)||null)},n.readAsArrayBuffer(t.slice(0,262144))}))},Zl=function(t,e){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var r=new n;return r.append(t),r.getBlob(e)}return new Blob([t],{type:e})},Kl=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),r=new Worker(n),i=[];return{transfer:function(){},post:function(t,e,n){var o=Math.random().toString(36).substr(2,9);i[o]=e,r.onmessage=function(t){var e=i[t.data.id];e&&(e(t.data.message),delete i[t.data.id])},r.postMessage({id:o,message:t},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},Jl=function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(t){n(t)},r.src=t}))},Ql=function(t,e){return new Promise((function(n){var r,i={width:t.width,height:t.height},o=t.getContext("2d"),a=e.sort(zl).map((function(t){return function(){return new Promise((function(e){nc[t[0]](o,i,t[1],e)&&e()}))}}));(r=a,r.reduce((function(t,e){return t.then((function(t){return e().then(Array.prototype.concat.bind(t))}))}),Promise.resolve([]))).then((function(){return n(t)}))}))},tc=function(t,e){t.beginPath(),t.lineCap=e["stroke-linecap"],t.lineJoin=e["stroke-linejoin"],t.lineWidth=e["stroke-width"],e["stroke-dasharray"].length&&t.setLineDash(e["stroke-dasharray"].split(",")),t.fillStyle=e.fill,t.strokeStyle=e.stroke,t.globalAlpha=e.opacity||1},ec=function(t){t.fill(),t.stroke(),t.globalAlpha=1},nc={rect:function(t,e,n){var r=Ml(n,e),i=Ol(n,e);return tc(t,i),t.rect(r.x,r.y,r.width,r.height),ec(t),!0},ellipse:function(t,e,n){var r=Ml(n,e),i=Ol(n,e);tc(t,i);var o=r.x,a=r.y,s=r.width,u=r.height,l=.5522848,c=s/2*l,h=u/2*l,f=o+s,d=a+u,p=o+s/2,g=a+u/2;return t.moveTo(o,g),t.bezierCurveTo(o,g-h,p-c,a,p,a),t.bezierCurveTo(p+c,a,f,g-h,f,g),t.bezierCurveTo(f,g+h,p+c,d,p,d),t.bezierCurveTo(p-c,d,o,g+h,o,g),ec(t),!0},image:function(t,e,n,r){var i=Ml(n,e),o=Ol(n,e);tc(t,o);var a=new Image;new URL(n.src,window.location.href).origin!==window.location.origin&&(a.crossOrigin=""),a.onload=function(){if("cover"===n.fit){var e=i.width/i.height,o=e>1?a.width:a.height*e,s=e>1?a.width/e:a.height,u=.5*a.width-.5*o,l=.5*a.height-.5*s;t.drawImage(a,u,l,o,s,i.x,i.y,i.width,i.height)}else if("contain"===n.fit){var c=Math.min(i.width/a.width,i.height/a.height),h=c*a.width,f=c*a.height,d=i.x+.5*i.width-.5*h,p=i.y+.5*i.height-.5*f;t.drawImage(a,0,0,a.width,a.height,d,p,h,f)}else t.drawImage(a,0,0,a.width,a.height,i.x,i.y,i.width,i.height);ec(t),r()},a.src=n.src},text:function(t,e,n){var r=Ml(n,e),i=Ol(n,e);tc(t,i);var o=Rl(n.fontSize,e),a=n.fontFamily||"sans-serif",s=n.fontWeight||"normal",u=n.textAlign||"left";return t.font="".concat(s," ").concat(o,"px ").concat(a),t.textAlign=u,t.fillText(n.text,r.x,r.y),ec(t),!0},line:function(t,e,n){var r=Ml(n,e),i=Ol(n,e);tc(t,i),t.beginPath();var o={x:r.x,y:r.y},a={x:r.x+r.width,y:r.y+r.height};t.moveTo(o.x,o.y),t.lineTo(a.x,a.y);var s=kl({x:a.x-o.x,y:a.y-o.y}),u=.04*Math.min(e.width,e.height);if(-1!==n.lineDecoration.indexOf("arrow-begin")){var l=xl(s,u),c=Cl(o,l),h=Il(o,2,c),f=Il(o,-2,c);t.moveTo(h.x,h.y),t.lineTo(o.x,o.y),t.lineTo(f.x,f.y)}if(-1!==n.lineDecoration.indexOf("arrow-end")){var d=xl(s,-u),p=Cl(a,d),g=Il(a,2,p),m=Il(a,-2,p);t.moveTo(g.x,g.y),t.lineTo(a.x,a.y),t.lineTo(m.x,m.y)}return ec(t),!0},path:function(t,e,n){var r=Ol(n,e);tc(t,r),t.beginPath();var i=n.points.map((function(t){return{x:Rl(t.x,e,1,"width"),y:Rl(t.y,e,1,"height")}}));t.moveTo(i[0].x,i[0].y);for(var o=i.length,a=1;a<o;a++)t.lineTo(i[a].x,i[a].y);return ec(t),!0}},rc=function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t,0,0),e},ic=["x","y","left","top","right","bottom","width","height"],oc=function(t){var e=ke(t,2),n=e[0],r=e[1],i=r.points?{}:ic.reduce((function(t,e){var n;return t[e]="string"==typeof(n=r[e])&&/%/.test(n)?parseFloat(n)/100:n,t}),{});return[n,Re(Re({zIndex:0},r),i)]};"undefined"!=typeof window&&void 0!==window.document&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(t,e,n){var r=this;setTimeout((function(){for(var i=r.toDataURL(e,n).split(",")[1],o=atob(i),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);t(new Blob([s],{type:e||"image/png"}))}))}}));var ac="undefined"!=typeof window&&void 0!==window.document,sc=ac&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,uc=function(t){var e=t.addFilter,n=t.utils,r=n.Type,i=n.forin,o=n.getFileFromBlob,a=n.isFile,s=["crop","resize","filter","markup","output"],u=function(t){return null===t.aspectRatio&&0===t.rotation&&1===t.zoom&&t.center&&.5===t.center.x&&.5===t.center.y&&t.flip&&!1===t.flip.horizontal&&!1===t.flip.vertical};e("SHOULD_PREPARE_OUTPUT",(function(t,e){var n=e.query;return new Promise((function(t){t(!n("IS_ASYNC"))}))}));var l=function(t,e,n){return new Promise((function(r){if(!t("GET_ALLOW_IMAGE_TRANSFORM")||n.archived||!a(e)||!function(t){return/^image/.test(t.type)}(e))return r(!1);(function(t){return new Promise((function(e,n){var r=new Image;r.src=URL.createObjectURL(t);var i=function(){var t=r.naturalWidth,n=r.naturalHeight;t&&n&&(URL.revokeObjectURL(r.src),clearInterval(o),e({width:t,height:n}))};r.onerror=function(t){URL.revokeObjectURL(r.src),clearInterval(o),n(t)};var o=setInterval(i,1);i()}))})(e).then((function(){var n=t("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(n){var i=n(e);if(null==i)return handleRevert(!0);if("boolean"==typeof i)return r(i);if("function"==typeof i.then)return i.then(r)}r(!0)})).catch((function(t){r(!1)}))}))};return e("DID_CREATE_ITEM",(function(t,e){var n=e.query,r=e.dispatch;n("GET_ALLOW_IMAGE_TRANSFORM")&&t.extend("requestPrepare",(function(){return new Promise((function(e,n){r("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:e,failure:n},!0)}))}))})),e("PREPARE_OUTPUT",(function(t,e){var n=e.query,r=e.item;return new Promise((function(e){l(n,t,r).then((function(a){if(!a)return e(t);var l=[];n("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&l.push((function(){return new Promise((function(e){e({name:n("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:t})}))})),n("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&l.push((function(t,e,r){return new Promise((function(i){t(e,r).then((function(t){return i({name:n("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:t})}))}))}));var c=n("GET_IMAGE_TRANSFORM_VARIANTS")||{};i(c,(function(t,e){var n,r=(n=e,function(t,e,r){return t(e,n?n(r):r)});l.push((function(e,n,i){return new Promise((function(o){r(e,n,i).then((function(e){return o({name:t,file:e})}))}))}))}));var h=n("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),f=n("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),d=null===h?null:h/100,p=n("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),g=n("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||s;r.setMetadata("output",{type:p,quality:d,client:g},!0);var m=function(t,e){return new Promise((function(r,i){var a=Re({},e);Object.keys(a).filter((function(t){return"exif"!==t})).forEach((function(t){-1===g.indexOf(t)&&delete a[t]}));var s=a.resize,l=a.exif,c=a.output,h=a.crop,d=a.filter,p=a.markup,m={image:{orientation:l?l.orientation:null},output:c&&(c.type||"number"==typeof c.quality||c.background)?{type:c.type,quality:"number"==typeof c.quality?100*c.quality:null,background:c.background||n("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:s&&(s.size.width||s.size.height)?Re({mode:s.mode,upscale:s.upscale},s.size):void 0,crop:h&&!u(h)?Re({},h):void 0,markup:p&&p.length?p.map(oc):[],filter:d};if(m.output){var v=!!c.type&&c.type!==t.type,y=/\/jpe?g$/.test(t.type),E=null!==c.quality&&(y&&"always"===f);if(!!!(m.size||m.crop||m.filter||v||E))return r(t)}var b={beforeCreateBlob:n("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:n("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:n("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:n("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){if(!t||!hl(t))return i({status:"not an image file",file:t});var o=n.stripImageHead,a=n.beforeCreateBlob,s=n.afterCreateBlob,u=n.canvasMemoryLimit,l=e.crop,c=e.size,h=e.filter,f=e.markup,d=e.output,p=e.image&&e.image.orientation?Math.max(1,Math.min(8,e.image.orientation)):null,g=d&&d.quality,m=null===g?null:g/100,v=d&&d.type||null,y=d&&d.background||null,E=[];!c||"number"!=typeof c.width&&"number"!=typeof c.height||E.push({type:"resize",data:c}),h&&20===h.length&&E.push({type:"filter",data:h});var b=function(t){var e=s?s(t):t;Promise.resolve(e).then(r)},A=function(e,n){var r=rc(e),s=f.length?Ql(r,f):r;Promise.resolve(s).then((function(e){Tl(e,n,a).then((function(n){if(Al(e),o)return b(n);Xl(t).then((function(t){null!==t&&(n=new Blob([t,n.slice(20)],{type:n.type})),b(n)}))})).catch(i)}))};if(/svg/.test(t.type)&&null===v)return Wl(t,l,f,{background:y}).then((function(t){r(Zl(t,"image/svg+xml"))}));var _=URL.createObjectURL(t);Jl(_).then((function(e){URL.revokeObjectURL(_);var n=wl(e,p,l,{canvasMemoryLimit:u,background:y}),r={quality:m,type:v||t.type};if(!E.length)return A(n,r);var i=Kl($l);i.post({transforms:E,imageData:n},(function(t){A(Hl(t),r),i.terminate()}),[n.data.buffer])})).catch(i)}))})(t,m,b).then((function(e){var n=o(e,function(t,e){var n=function(t){return t.substr(0,t.lastIndexOf("."))||t}(t),r=e.split("/")[1],i=cl[r]||r;return"".concat(n,".").concat(i)}(t.name,function(t){return/jpeg|png|svg\+xml/.test(t)?t:"image/jpeg"}(e.type)));r(n)})).catch(i)}))},v=l.map((function(e){return e(m,t,r.getMetadata())}));Promise.all(v).then((function(t){e(1===t.length&&null===t[0].name?t[0].file:t)}))}))}))})),{options:{allowImageTransform:[!0,r.BOOLEAN],imageTransformImageFilter:[null,r.FUNCTION],imageTransformOutputMimeType:[null,r.STRING],imageTransformOutputQuality:[null,r.INT],imageTransformOutputStripImageHead:[!0,r.BOOLEAN],imageTransformClientTransforms:[null,r.ARRAY],imageTransformOutputQualityMode:["always",r.STRING],imageTransformVariants:[null,r.OBJECT],imageTransformVariantsIncludeDefault:[!0,r.BOOLEAN],imageTransformVariantsDefaultName:[null,r.STRING],imageTransformVariantsIncludeOriginal:[!1,r.BOOLEAN],imageTransformVariantsOriginalName:["original_",r.STRING],imageTransformBeforeCreateBlob:[null,r.FUNCTION],imageTransformAfterCreateBlob:[null,r.FUNCTION],imageTransformCanvasMemoryLimit:[ac&&sc?16777216:null,r.INT],imageTransformCanvasBackgroundColor:[null,r.STRING]}}};ac&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:uc}));var lc=uc;Qs(ou),Qs(su),Qs(cu),Qs(Du),Qs(sl),Qs(ll),Qs(lc);var cc=function(t){t.data("fileUploadFormComponent",(function(t){var e,n=t.acceptedFileTypes,r=t.getUploadedFileUrlUsing,i=t.imageCropAspectRatio,o=t.imagePreviewHeight,a=t.imageResizeTargetHeight,s=t.imageResizeTargetWidth,u=t.loadingIndicatorPosition,l=t.panelAspectRatio,c=t.panelLayout,h=t.placeholder,f=t.maxSize,d=t.minSize,p=t.removeUploadedFileButtonPosition,g=t.removeUploadedFileUsing,m=t.state,v=t.uploadButtonPosition,y=t.uploadProgressIndicatorPosition,E=t.uploadUsing;return{files:[],pond:null,state:m,init:(e=Ce(he().mark((function t(){var e,m=this;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:(e=t.sent)&&(this.files=[{source:e,options:{type:"local"}}]),this.pond=Xs(this.$refs.input,Re(Re({acceptedFileTypes:n,credits:!1,files:this.files,imageCropAspectRatio:i,imagePreviewHeight:o,imageResizeTargetHeight:a,imageResizeTargetWidth:s},h&&{labelIdle:h}),{},{maxFileSize:f,minFileSize:d,styleButtonProcessItemPosition:v,styleButtonRemoveItemPosition:p,styleLoadIndicatorPosition:u,stylePanelAspectRatio:l,stylePanelLayout:c,styleProgressIndicatorPosition:y,server:{load:function(){var t=Ce(he().mark((function t(e,n){var r,i;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return r=t.sent,t.next=5,r.blob();case 5:i=t.sent,n(i);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),process:function(t,e,n,r,i,o){E(e,r,i,o)},remove:function(){var t=Ce(he().mark((function t(e,n){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:n();case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),revert:function(){var t=Ce(he().mark((function t(e,n){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:n();case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})),this.$watch("state",Ce(he().mark((function t(){var e;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.state){t.next=3;break}return m.pond.removeFiles(),t.abrupt("return");case 3:if(!m.state.startsWith("livewire-file:")){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,r();case 7:e=t.sent,m.pond.files=e?[{source:e,options:{type:"local"}}]:[];case 9:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}}))},hc=function(){function t(e,n){De(this,t),this.file=e,this.directory=n,this.state="pending",this.id=null,this.href=null,this.name=null,this.percent=0}return Te(t,[{key:"fullPath",get:function(){return this.directory?"".concat(this.directory,"/").concat(this.file.name):this.file.name}},{key:"isImage",value:function(){return["image/gif","image/png","image/jpg","image/jpeg"].indexOf(this.file.type)>-1}},{key:"saving",value:function(t){if("pending"!==this.state&&"saving"!==this.state)throw new Error("Unexpected transition from ".concat(this.state," to saving"));this.state="saving",this.percent=t}},{key:"saved",value:function(t){var e,n,r;if("pending"!==this.state&&"saving"!==this.state)throw new Error("Unexpected transition from ".concat(this.state," to saved"));this.state="saved",this.id=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:null,this.href=null!==(n=null==t?void 0:t.href)&&void 0!==n?n:null,this.name=null!==(r=null==t?void 0:t.name)&&void 0!==r?r:null}},{key:"isPending",value:function(){return"pending"===this.state}},{key:"isSaving",value:function(){return"saving"===this.state}},{key:"isSaved",value:function(){return"saved"===this.state}}],[{key:"traverse",value:function(t,e){return fc(t,e)}},{key:"from",value:function(e){var n,r=[],i=Me(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o instanceof File)r.push(new t(o));else{if(!(o instanceof t))throw new Error("Unexpected type");r.push(o)}}}catch(t){i.e(t)}finally{i.f()}return r}}]),t}();function fc(t,e){return e&&function(t){return t.items&&Array.from(t.items).some((function(t){var e=t.webkitGetAsEntry&&t.webkitGetAsEntry();return e&&e.isDirectory}))}(t)?mc("",function(t){return Array.from(t.items).map((function(t){return t.webkitGetAsEntry()})).filter((function(t){return null!=t}))}(t)):Promise.resolve(dc(Array.from(t.files||[])).map((function(t){return new hc(t)})))}function dc(t){return Array.from(t).filter((function(t){return!function(t){return t.name.startsWith(".")}(t)}))}function pc(t){return new Promise((function(e,n){t.file(e,n)}))}function gc(t){return new Promise((function(e,n){var r=[],i=t.createReader();!function t(){i.readEntries((function(n){n.length>0?(r.push.apply(r,Le(n)),t()):e(r)}),n)}()}))}function mc(t,e){return vc.apply(this,arguments)}function vc(){return(vc=Ce(he().mark((function t(e,n){var r,i,o,a,s;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],i=Me(dc(n)),t.prev=2,i.s();case 4:if((o=i.n()).done){t.next=28;break}if(!(a=o.value).isDirectory){t.next=22;break}return t.t0=r.push,t.t1=r,t.t2=Le,t.t3=mc,t.t4=a.fullPath,t.next=14,gc(a);case 14:return t.t5=t.sent,t.next=17,(0,t.t3)(t.t4,t.t5);case 17:t.t6=t.sent,t.t7=(0,t.t2)(t.t6),t.t0.apply.call(t.t0,t.t1,t.t7),t.next=26;break;case 22:return t.next=24,pc(a);case 24:s=t.sent,r.push(new hc(s,e));case 26:t.next=4;break;case 28:t.next=33;break;case 30:t.prev=30,t.t8=t.catch(2),i.e(t.t8);case 33:return t.prev=33,i.f(),t.finish(33);case 36:return t.abrupt("return",r);case 37:case"end":return t.stop()}}),t,null,[[2,30,33,36]])})))).apply(this,arguments)}var yc=function(t){pe(r,t);var e,n=ge(r);function r(){return De(this,r),n.apply(this,arguments)}return Te(r,[{key:"connectedCallback",value:function(){this.addEventListener("dragenter",Ac),this.addEventListener("dragover",Ac),this.addEventListener("dragleave",_c),this.addEventListener("drop",Dc),this.addEventListener("paste",Tc),this.addEventListener("change",xc)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("dragenter",Ac),this.removeEventListener("dragover",Ac),this.removeEventListener("dragleave",_c),this.removeEventListener("drop",Dc),this.removeEventListener("paste",Tc),this.removeEventListener("change",xc)}},{key:"directory",get:function(){return this.hasAttribute("directory")},set:function(t){t?this.setAttribute("directory",""):this.removeAttribute("directory")}},{key:"attach",value:(e=Ce(he().mark((function t(e){var n;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof DataTransfer)){t.next=6;break}return t.next=3,hc.traverse(e,this.directory);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=hc.from(e);case 7:n=t.t0,this.dispatchEvent(new CustomEvent("file-attachment-accept",{bubbles:!0,cancelable:!0,detail:{attachments:n}}))&&n.length&&this.dispatchEvent(new CustomEvent("file-attachment-accepted",{bubbles:!0,detail:{attachments:n}}));case 10:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),r}(ye(HTMLElement));function Ec(t){return Array.from(t.types).indexOf("Files")>=0}var bc=null;function Ac(t){var e=t.currentTarget;bc&&clearTimeout(bc),bc=window.setTimeout((function(){return e.removeAttribute("hover")}),200);var n=t.dataTransfer;n&&Ec(n)&&(n.dropEffect="copy",e.setAttribute("hover",""),t.stopPropagation(),t.preventDefault())}function _c(t){t.dataTransfer&&(t.dataTransfer.dropEffect="none"),t.currentTarget.removeAttribute("hover"),t.stopPropagation(),t.preventDefault()}function Dc(t){var e=t.currentTarget;if(e instanceof yc){e.removeAttribute("hover");var n=t.dataTransfer;n&&Ec(n)&&(e.attach(n),t.stopPropagation(),t.preventDefault())}}var wc=/^image\/(gif|png|jpeg)$/;function Tc(t){if(t.clipboardData&&t.clipboardData.items){var e=t.currentTarget;if(e instanceof yc){var n=function(t){var e,n=Me(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(wc.test(r.type))return r.getAsFile()}}catch(t){n.e(t)}finally{n.f()}return null}(t.clipboardData.items);if(n){var r=[n];e.attach(r),t.preventDefault()}}}}function xc(t){var e=t.currentTarget;if(e instanceof yc){var n=t.target;if(n instanceof HTMLInputElement){var r=e.getAttribute("input");if(!r||n.id===r){var i=n.files;i&&0!==i.length&&(e.attach(i),n.value="")}}}}window.customElements.get("file-attachment")||(window.FileAttachmentElement=yc,window.customElements.define("file-attachment",yc));var Cc=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref","md-strikethrough"];function kc(t){var e,n=[],r=Me(t.querySelectorAll(Cc.join(", ")));try{for(r.s();!(e=r.n()).done;){var i=e.value;i.hidden||i.offsetWidth<=0&&i.offsetHeight<=0||i.closest("markdown-toolbar")===t&&n.push(i)}}catch(t){r.e(t)}finally{r.f()}return n}var Ic=new WeakMap,Sc=function(t){pe(n,t);var e=ge(n);function n(){var t;De(this,n);var r,i=function(){var e=Ic.get(ve(t));e&&rh(ve(t),e)};return(t=e.call(this)).addEventListener("keydown",(r=i,function(t){" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),r(t))})),t.addEventListener("click",i),t}return Te(n,[{key:"connectedCallback",value:function(){this.hasAttribute("role")||this.setAttribute("role","button")}},{key:"click",value:function(){var t=Ic.get(this);t&&rh(this,t)}}]),n}(ye(HTMLElement)),Rc=function(t){pe(n,t);var e=ge(n);function n(){var t;De(this,n),t=e.call(this);var r=parseInt(t.getAttribute("level")||"3",10);if(r<1||r>6)return me(t);var i="".concat("#".repeat(r)," ");return Ic.set(ve(t),{prefix:i}),t}return n}(Sc);window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=Rc,window.customElements.define("md-header",Rc));var Oc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"**",suffix:"**",trimFirst:!0}),t}return Te(n,[{key:"connectedCallback",value:function(){de(_e(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","b")}}]),n}(Sc);window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=Oc,window.customElements.define("md-bold",Oc));var Lc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"_",suffix:"_",trimFirst:!0}),t}return Te(n,[{key:"connectedCallback",value:function(){de(_e(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","i")}}]),n}(Sc);window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=Lc,window.customElements.define("md-italic",Lc));var Mc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"> ",multiline:!0,surroundWithNewlines:!0}),t}return Te(n,[{key:"connectedCallback",value:function(){de(_e(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","."),this.setAttribute("hotkey-requires-shift","true")}}]),n}(Sc);window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=Mc,window.customElements.define("md-quote",Mc));var Fc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"}),t}return Te(n,[{key:"connectedCallback",value:function(){de(_e(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","e")}}]),n}(Sc);window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=Fc,window.customElements.define("md-code",Fc));var Pc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"}),t}return Te(n,[{key:"connectedCallback",value:function(){de(_e(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","k")}}]),n}(Sc);window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=Pc,window.customElements.define("md-link",Pc));var Bc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"}),t}return n}(Sc);window.customElements.get("md-image")||(window.MarkdownImageButtonElement=Bc,window.customElements.define("md-image",Bc));var Nc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"- ",multiline:!0,surroundWithNewlines:!0}),t}return Te(n,[{key:"connectedCallback",value:function(){de(_e(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","8"),this.setAttribute("hotkey-requires-shift","true")}}]),n}(Sc);window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=Nc,window.customElements.define("md-unordered-list",Nc));var Gc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"1. ",multiline:!0,orderedList:!0}),t}return Te(n,[{key:"connectedCallback",value:function(){de(_e(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","7"),this.setAttribute("hotkey-requires-shift","true")}}]),n}(Sc);window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=Gc,window.customElements.define("md-ordered-list",Gc));var jc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0}),t}return Te(n,[{key:"connectedCallback",value:function(){de(_e(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","L")}}]),n}(Sc);window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=jc,window.customElements.define("md-task-list",jc));var Uc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"@",prefixSpace:!0}),t}return n}(Sc);window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=Uc,window.customElements.define("md-mention",Uc));var Vc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"#",prefixSpace:!0}),t}return n}(Sc);window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=Vc,window.customElements.define("md-ref",Vc));var qc=function(t){pe(n,t);var e=ge(n);function n(){var t;return De(this,n),t=e.call(this),Ic.set(ve(t),{prefix:"~~",suffix:"~~",trimFirst:!0}),t}return n}(Sc);window.customElements.get("md-strikethrough")||(window.MarkdownStrikethroughButtonElement=qc,window.customElements.define("md-strikethrough",qc));var zc=navigator.userAgent.match(/Macintosh/)?"Meta":"Control",Wc=function(t){pe(n,t);var e=ge(n);function n(){return De(this,n),e.call(this)}return Te(n,[{key:"connectedCallback",value:function(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.addEventListener("keydown",$c);var t=Xc.bind(null,this);this.field&&(this.field.addEventListener("keydown",t),Yc.set(this,t)),this.setAttribute("tabindex","0"),this.addEventListener("focus",Hc,{once:!0})}},{key:"disconnectedCallback",value:function(){var t=Yc.get(this);t&&this.field&&(this.field.removeEventListener("keydown",t),Yc.delete(this)),this.removeEventListener("keydown",$c)}},{key:"field",get:function(){var t=this.getAttribute("for");if(!t)return null;var e,n="getRootNode"in this?this.getRootNode():document;return(n instanceof Document||n instanceof ShadowRoot)&&(e=n.getElementById(t)),e instanceof HTMLTextAreaElement?e:null}}]),n}(ye(HTMLElement));function Hc(t){var e=t.target;if(e instanceof Element){e.removeAttribute("tabindex");var n,r="0",i=Me(kc(e));try{for(i.s();!(n=i.n()).done;){var o=n.value;o.setAttribute("tabindex",r),"0"===r&&(o.focus(),r="-1")}}catch(t){i.e(t)}finally{i.f()}}}function $c(t){var e=t.key;if("ArrowRight"===e||"ArrowLeft"===e||"Home"===e||"End"===e){var n=t.currentTarget;if(n instanceof HTMLElement){var r=kc(n),i=r.indexOf(t.target),o=r.length;if(-1!==i){var a=0;"ArrowLeft"===e&&(a=i-1),"ArrowRight"===e&&(a=i+1),"End"===e&&(a=o-1),a<0&&(a=o-1),a>o-1&&(a=0);for(var s=0;s<o;s+=1)r[s].setAttribute("tabindex",s===a?"0":"-1");t.preventDefault(),r[a].focus()}}}}var Yc=new WeakMap;function Xc(t,e){if(e.metaKey&&"Meta"===zc||e.ctrlKey&&"Control"===zc){var n=function(t,e,n){var r,i,o=Me(t.querySelectorAll("[hotkey]"));try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.getAttribute("hotkey")===e&&(!(i=a).hasAttribute("hotkey-requires-shift")||"false"===i.getAttribute("hotkey-requires-shift")||n))return a}}catch(t){o.e(t)}finally{o.f()}return null}(t,e.shiftKey?e.key.toUpperCase():e.key,e.shiftKey);n&&(n.click(),e.preventDefault())}}function Zc(t){return t.trim().split("\n").length>1}function Kc(t,e){return Array(e+1).join(t)}function Jc(t,e){for(var n=e;t[n]&&null!=t[n-1]&&!t[n-1].match(/\s/);)n--;return n}function Qc(t,e,n){for(var r=e,i=n?/\n/:/\s/;t[r]&&!t[r].match(i);)r++;return r}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=Wc,window.customElements.define("markdown-toolbar",Wc));var th=null;function eh(t,e){var n,r=t.value.slice(t.selectionStart,t.selectionEnd);n=e.orderedList?function(t){var e,n,r,i,o=/^\d+\.\s+/,a=t.selectionStart===t.selectionEnd,s=t.value.slice(t.selectionStart,t.selectionEnd),u=s,l=s.split("\n");if(a){var c=t.value.slice(0,t.selectionStart).split(/\n/);r=t.selectionStart-c[c.length-1].length,i=Qc(t.value,t.selectionStart,!0),u=t.value.slice(r,i)}var h=u.split("\n");if(h.every((function(t){return o.test(t)}))){if(s=(l=h.map((function(t){return t.replace(o,"")}))).join("\n"),a&&r&&i){var f=h[0].length-l[0].length;n=e=t.selectionStart-f,t.selectionStart=r,t.selectionEnd=i}}else{s=(l=function(t){var e,n,r,i=[];for(r=e=0,n=t.length;e<n;r=++e){var o=t[r];i.push("".concat(r+1,". ").concat(o))}return i}(l)).join("\n");var d=nh(t),p=d.newlinesToAppend,g=d.newlinesToPrepend;e=(n=t.selectionStart+p.length)+s.length,a&&(n=e),s=p+s+g}return{text:s,selectionStart:n,selectionEnd:e}}(t):e.multiline&&Zc(r)?function(t,e){var n=e.prefix,r=e.suffix,i=e.surroundWithNewlines,o=t.value.slice(t.selectionStart,t.selectionEnd),a=t.selectionStart,s=t.selectionEnd,u=o.split("\n");if(u.every((function(t){return t.startsWith(n)&&t.endsWith(r)})))s=a+(o=u.map((function(t){return t.slice(n.length,t.length-r.length)})).join("\n")).length;else if(o=u.map((function(t){return n+t+r})).join("\n"),i){var l=nh(t),c=l.newlinesToAppend,h=l.newlinesToPrepend;s=(a+=c.length)+o.length,o=c+o+h}return{text:o,selectionStart:a,selectionEnd:s}}(t,e):function(t,e){var n=e.prefix,r=e.suffix,i=e.blockPrefix,o=e.blockSuffix,a=e.replaceNext,s=e.prefixSpace,u=e.scanFor,l=e.surroundWithNewlines,c=t.selectionStart,h=t.selectionEnd,f=t.value.slice(t.selectionStart,t.selectionEnd),d=Zc(f)&&i.length>0?"".concat(i,"\n"):n,p=Zc(f)&&o.length>0?"\n".concat(o):r;if(s){var g=t.value[t.selectionStart-1];0===t.selectionStart||null==g||g.match(/\s/)||(d=" ".concat(d))}f=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.selectionStart===t.selectionEnd)t.selectionStart=Jc(t.value,t.selectionStart),t.selectionEnd=Qc(t.value,t.selectionEnd,r);else{var i=t.selectionStart-e.length,o=t.selectionEnd+n.length,a=t.value.slice(i,t.selectionStart)===e,s=t.value.slice(t.selectionEnd,o)===n;a&&s&&(t.selectionStart=i,t.selectionEnd=o)}return t.value.slice(t.selectionStart,t.selectionEnd)}(t,d,p,e.multiline);var m=t.selectionStart,v=t.selectionEnd,y=a.length>0&&p.indexOf(a)>-1&&f.length>0;if(l){var E=nh(t);d=E.newlinesToAppend+n,p+=E.newlinesToPrepend}if(f.startsWith(d)&&f.endsWith(p)){var b=f.slice(d.length,f.length-p.length);if(c===h){var A=c-d.length;A=Math.max(A,m),m=v=A=Math.min(A,m+b.length)}else v=m+b.length;return{text:b,selectionStart:m,selectionEnd:v}}if(y)return u.length>0&&f.match(u)?{text:d+(p=p.replace(a,f)),selectionStart:m=v=m+d.length,selectionEnd:v}:{text:d+f+p,selectionStart:m=m+d.length+f.length+p.indexOf(a),selectionEnd:v=m+a.length};var _=d+f+p;m=c+d.length,v=h+d.length;var D=f.match(/^\s*|\s*$/g);if(e.trimFirst&&D){var w=D[0]||"",T=D[1]||"";_=w+d+f.trim()+p+T,m+=w.length,v-=T.length}return{text:_,selectionStart:m,selectionEnd:v}}(t,e),function(t,e){var n=e.text,r=e.selectionStart,i=e.selectionEnd,o=t.selectionStart,a=t.value.slice(0,o),s=t.value.slice(t.selectionEnd);if(null===th||!0===th){t.contentEditable="true";try{th=document.execCommand("insertText",!1,n)}catch(t){th=!1}t.contentEditable="false"}if(th&&!t.value.slice(0,t.selectionStart).endsWith(n)&&(th=!1),!th){try{document.execCommand("ms-beginUndoUnit")}catch(t){}t.value=a+n+s;try{document.execCommand("ms-endUndoUnit")}catch(t){}t.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=r&&null!=i?t.setSelectionRange(r,i):t.setSelectionRange(o,t.selectionEnd)}(t,n)}function nh(t){var e,n,r=t.value.slice(0,t.selectionStart),i=t.value.slice(t.selectionEnd),o=r.match(/\n*$/),a=i.match(/^\n*/),s=o?o[0].length:0,u=a?a[0].length:0;return r.match(/\S/)&&s<2&&(e=Kc("\n",2-s)),i.match(/\S/)&&u<2&&(n=Kc("\n",2-u)),null==e&&(e=""),null==n&&(n=""),{newlinesToAppend:e,newlinesToPrepend:n}}function rh(t,e){var n=t.closest("markdown-toolbar");if(n instanceof Wc){var r=Object.assign(Object.assign({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,trimFirst:!1}),e),i=n.field;i&&(i.focus(),eh(i,r))}}var ih={exports:{}},oh={exports:{}};function ah(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}oh.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:ah,changeDefaults:function(t){oh.exports.defaults=t}};var sh=/[&<>"']/,uh=/[&<>"']/g,lh=/[<>"']|&(?!#?\w+;)/,ch=/[<>"']|&(?!#?\w+;)/g,hh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fh=function(t){return hh[t]};var dh=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ph(t){return t.replace(dh,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}var gh=/(^|[^\[])\^/g;var mh=/[^\w:]/g,vh=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var yh={},Eh=/^[^:]+:\/*[^/]*$/,bh=/^([^:]+:)[\s\S]*$/,Ah=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _h(t,e){yh[" "+t]||(Eh.test(t)?yh[" "+t]=t+"/":yh[" "+t]=Dh(t,"/",!0));var n=-1===(t=yh[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(bh,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(Ah,"$1")+e:t+e}function Dh(t,e,n){var r=t.length;if(0===r)return"";for(var i=0;i<r;){var o=t.charAt(r-i-1);if(o!==e||n){if(o===e||!n)break;i++}else i++}return t.substr(0,r-i)}var wh=function(t,e){if(e){if(sh.test(t))return t.replace(uh,fh)}else if(lh.test(t))return t.replace(ch,fh);return t},Th=ph,xh=function(t,e){t=t.source||t,e=e||"";var n={replace:function(e,r){return r=(r=r.source||r).replace(gh,"$1"),t=t.replace(e,r),n},getRegex:function(){return new RegExp(t,e)}};return n},Ch=function(t,e,n){if(t){var r;try{r=decodeURIComponent(ph(n)).replace(mh,"").toLowerCase()}catch(t){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!vh.test(n)&&(n=_h(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n},kh={exec:function(){}},Ih=function(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Sh=function(t,e){var n=t.replace(/\|/g,(function(t,e,n){for(var r=!1,i=e;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n[n.length-1].trim()||n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},Rh=Dh,Oh=function(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,r=0,i=0;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&--r<0)return i;return-1},Lh=function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},Mh=function(t,e){if(e<1)return"";for(var n="";e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t},Fh=oh.exports.defaults,Ph=Rh,Bh=Sh,Nh=wh,Gh=Oh;function jh(t,e,n,r){var i=e.href,o=e.title?Nh(e.title):null,a=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;var s={type:"link",raw:n,href:i,title:o,text:a,tokens:r.inlineTokens(a,[])};return r.state.inLink=!1,s}return{type:"image",raw:n,href:i,title:o,text:Nh(a)}}var Uh=function(){function t(e){De(this,t),this.options=e||Fh}return Te(t,[{key:"space",value:function(t){var e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}}},{key:"code",value:function(t){var e=this.rules.block.code.exec(t);if(e){var n=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ph(n,"\n")}}}},{key:"fences",value:function(t){var e=this.rules.block.fences.exec(t);if(e){var n=e[0],r=function(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var r=n[1];return e.split("\n").map((function(t){var e=t.match(/^\s+/);return null===e?t:ke(e,1)[0].length>=r.length?t.slice(r.length):t})).join("\n")}(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:r}}}},{key:"heading",value:function(t){var e=this.rules.block.heading.exec(t);if(e){var n=e[2].trim();if(/#$/.test(n)){var r=Ph(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}var i={type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}},{key:"hr",value:function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}},{key:"blockquote",value:function(t){var e=this.rules.block.blockquote.exec(t);if(e){var n=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}},{key:"list",value:function(t){var e=this.rules.block.list.exec(t);if(e){var n,r,i,o,a,s,u,l,c,h,f=e[1].trim(),d=f.length>1,p={type:"list",raw:"",ordered:d,start:d?+f.slice(0,-1):"",loose:!1,items:[]};f=d?"\\d{1,9}\\".concat(f.slice(-1)):"\\".concat(f),this.options.pedantic&&(f=d?f:"[*+-]");for(var g=new RegExp("^( {0,3}".concat(f,")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))"));t&&!this.rules.block.hr.test(t)&&(e=g.exec(t));){c=e[2].split("\n"),this.options.pedantic?(o=2,h=c[0].trimLeft()):(o=e[2].search(/[^ ]/),o=e[1].length+(o>4?1:o),h=c[0].slice(o-e[1].length)),s=!1,n=e[0],!c[0]&&/^ *$/.test(c[1])&&(n=e[1]+c.slice(0,2).join("\n")+"\n",p.loose=!0,c=[]);var m=new RegExp("^ {0,".concat(Math.min(3,o-1),"}(?:[*+-]|\\d{1,9}[.)])"));for(a=1;a<c.length;a++){if(l=c[a],this.options.pedantic&&(l=l.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),m.test(l)){n=e[1]+c.slice(0,a).join("\n")+"\n";break}if(s){if(!(l.search(/[^ ]/)>=o)&&l.trim()){n=e[1]+c.slice(0,a).join("\n")+"\n";break}h+="\n"+l.slice(o)}else l.trim()||(s=!0),l.search(/[^ ]/)>=o?h+="\n"+l.slice(o):h+="\n"+l}p.loose||(u?p.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(h))&&(i="[ ] "!==r[0],h=h.replace(/^\[[ xX]\] +/,"")),p.items.push({type:"list_item",raw:n,task:!!r,checked:i,loose:!1,text:h}),p.raw+=n,t=t.slice(n.length)}p.items[p.items.length-1].raw=n.trimRight(),p.items[p.items.length-1].text=h.trimRight(),p.raw=p.raw.trimRight();var v=p.items.length;for(a=0;a<v;a++)this.lexer.state.top=!1,p.items[a].tokens=this.lexer.blockTokens(p.items[a].text,[]),p.items[a].tokens.some((function(t){return"space"===t.type}))&&(p.loose=!0,p.items[a].loose=!0);return p}}},{key:"html",value:function(t){var e=this.rules.block.html.exec(t);if(e){var n={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(n.type="paragraph",n.text=this.options.sanitizer?this.options.sanitizer(e[0]):Nh(e[0]),n.tokens=[],this.lexer.inline(n.text,n.tokens)),n}}},{key:"def",value:function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}},{key:"table",value:function(t){var e=this.rules.block.table.exec(t);if(e){var n={type:"table",header:Bh(e[1]).map((function(t){return{text:t}})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=e[0];var r,i,o,a,s=n.align.length;for(r=0;r<s;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(s=n.rows.length,r=0;r<s;r++)n.rows[r]=Bh(n.rows[r],n.header.length).map((function(t){return{text:t}}));for(s=n.header.length,i=0;i<s;i++)n.header[i].tokens=[],this.lexer.inlineTokens(n.header[i].text,n.header[i].tokens);for(s=n.rows.length,i=0;i<s;i++)for(a=n.rows[i],o=0;o<a.length;o++)a[o].tokens=[],this.lexer.inlineTokens(a[o].text,a[o].tokens);return n}}}},{key:"lheading",value:function(t){var e=this.rules.block.lheading.exec(t);if(e){var n={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}},{key:"paragraph",value:function(t){var e=this.rules.block.paragraph.exec(t);if(e){var n={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}},{key:"text",value:function(t){var e=this.rules.block.text.exec(t);if(e){var n={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}},{key:"escape",value:function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:Nh(e[1])}}},{key:"tag",value:function(t){var e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Nh(e[0]):e[0]}}},{key:"link",value:function(t){var e=this.rules.inline.link.exec(t);if(e){var n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=Ph(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=Gh(e[2],"()");if(i>-1){var o=(0===e[0].indexOf("!")?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}var a=e[2],s="";if(this.options.pedantic){var u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);u&&(a=u[1],s=u[3])}else s=e[3]?e[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(n)?a.slice(1):a.slice(1,-1)),jh(e,{href:a?a.replace(this.rules.inline._escapes,"$1"):a,title:s?s.replace(this.rules.inline._escapes,"$1"):s},e[0],this.lexer)}}},{key:"reflink",value:function(t,e){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=e[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return jh(n,r,n[0],this.lexer)}}},{key:"emStrong",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.rules.inline.emStrong.lDelim.exec(t);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){var o,a,s=r[0].length-1,u=s,l=0,c="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+s);null!=(r=c.exec(e));)if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(a=o.length,r[3]||r[4])u+=a;else if(!((r[5]||r[6])&&s%3)||(s+a)%3){if(!((u-=a)>0)){if(a=Math.min(a,a+u+l),Math.min(s,a)%2){var h=t.slice(1,s+r.index+a);return{type:"em",raw:t.slice(0,s+r.index+a+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}var f=t.slice(2,s+r.index+a-1);return{type:"strong",raw:t.slice(0,s+r.index+a+1),text:f,tokens:this.lexer.inlineTokens(f,[])}}}else l+=a}}}},{key:"codespan",value:function(t){var e=this.rules.inline.code.exec(t);if(e){var n=e[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=Nh(n,!0),{type:"codespan",raw:e[0],text:n}}}},{key:"br",value:function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}},{key:"del",value:function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}},{key:"autolink",value:function(t,e){var n,r,i=this.rules.inline.autolink.exec(t);if(i)return r="@"===i[2]?"mailto:"+(n=Nh(this.options.mangle?e(i[1]):i[1])):n=Nh(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}},{key:"url",value:function(t,e){var n;if(n=this.rules.inline.url.exec(t)){var r,i;if("@"===n[2])i="mailto:"+(r=Nh(this.options.mangle?e(n[0]):n[0]));else{var o;do{o=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(o!==n[0]);r=Nh(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}},{key:"inlineText",value:function(t,e){var n,r=this.rules.inline.text.exec(t);if(r)return n=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Nh(r[0]):r[0]:Nh(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:n}}}]),t}(),Vh=kh,qh=xh,zh=Ih,Wh={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Vh,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Wh.def=qh(Wh.def).replace("label",Wh._label).replace("title",Wh._title).getRegex(),Wh.bullet=/(?:[*+-]|\d{1,9}[.)])/,Wh.listItemStart=qh(/^( *)(bull) */).replace("bull",Wh.bullet).getRegex(),Wh.list=qh(Wh.list).replace(/bull/g,Wh.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Wh.def.source+")").getRegex(),Wh._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wh._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Wh.html=qh(Wh.html,"i").replace("comment",Wh._comment).replace("tag",Wh._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Wh.paragraph=qh(Wh._paragraph).replace("hr",Wh.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wh._tag).getRegex(),Wh.blockquote=qh(Wh.blockquote).replace("paragraph",Wh.paragraph).getRegex(),Wh.normal=zh({},Wh),Wh.gfm=zh({},Wh.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Wh.gfm.table=qh(Wh.gfm.table).replace("hr",Wh.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wh._tag).getRegex(),Wh.pedantic=zh({},Wh.normal,{html:qh("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Wh._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Vh,paragraph:qh(Wh.normal._paragraph).replace("hr",Wh.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Wh.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Hh={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Vh,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Vh,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};Hh.punctuation=qh(Hh.punctuation).replace(/punctuation/g,Hh._punctuation).getRegex(),Hh.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Hh.escapedEmSt=/\\\*|\\_/g,Hh._comment=qh(Wh._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Hh.emStrong.lDelim=qh(Hh.emStrong.lDelim).replace(/punct/g,Hh._punctuation).getRegex(),Hh.emStrong.rDelimAst=qh(Hh.emStrong.rDelimAst,"g").replace(/punct/g,Hh._punctuation).getRegex(),Hh.emStrong.rDelimUnd=qh(Hh.emStrong.rDelimUnd,"g").replace(/punct/g,Hh._punctuation).getRegex(),Hh._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Hh._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Hh._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Hh.autolink=qh(Hh.autolink).replace("scheme",Hh._scheme).replace("email",Hh._email).getRegex(),Hh._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Hh.tag=qh(Hh.tag).replace("comment",Hh._comment).replace("attribute",Hh._attribute).getRegex(),Hh._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Hh._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Hh._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Hh.link=qh(Hh.link).replace("label",Hh._label).replace("href",Hh._href).replace("title",Hh._title).getRegex(),Hh.reflink=qh(Hh.reflink).replace("label",Hh._label).getRegex(),Hh.reflinkSearch=qh(Hh.reflinkSearch,"g").replace("reflink",Hh.reflink).replace("nolink",Hh.nolink).getRegex(),Hh.normal=zh({},Hh),Hh.pedantic=zh({},Hh.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:qh(/^!?\[(label)\]\((.*?)\)/).replace("label",Hh._label).getRegex(),reflink:qh(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Hh._label).getRegex()}),Hh.gfm=zh({},Hh.normal,{escape:qh(Hh.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Hh.gfm.url=qh(Hh.gfm.url,"i").replace("email",Hh.gfm._extended_email).getRegex(),Hh.breaks=zh({},Hh.gfm,{br:qh(Hh.br).replace("{2,}","*").getRegex(),text:qh(Hh.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var $h={block:Wh,inline:Hh},Yh=Uh,Xh=oh.exports.defaults,Zh=$h.block,Kh=$h.inline,Jh=Mh;function Qh(t){return t.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function tf(t){var e,n,r="",i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var ef=function(){function t(e){De(this,t),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Xh,this.options.tokenizer=this.options.tokenizer||new Yh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var n={block:Zh.normal,inline:Kh.normal};this.options.pedantic?(n.block=Zh.pedantic,n.inline=Kh.pedantic):this.options.gfm&&(n.block=Zh.gfm,this.options.breaks?n.inline=Kh.breaks:n.inline=Kh.gfm),this.tokenizer.rules=n}return Te(t,[{key:"lex",value:function(t){var e;for(t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}},{key:"blockTokens",value:function(t){var e,n,r,i,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(this.options.pedantic&&(t=t.replace(/^ +$/gm,""));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(e=n.call({lexer:o},t,a))&&(t=t.substring(e.raw.length),a.push(e),!0)}))))if(e=this.tokenizer.space(t))t=t.substring(e.raw.length),e.type&&a.push(e);else if(e=this.tokenizer.code(t))t=t.substring(e.raw.length),!(n=a[a.length-1])||"paragraph"!==n.type&&"text"!==n.type?a.push(e):(n.raw+="\n"+e.raw,n.text+="\n"+e.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(e=this.tokenizer.fences(t))t=t.substring(e.raw.length),a.push(e);else if(e=this.tokenizer.heading(t))t=t.substring(e.raw.length),a.push(e);else if(e=this.tokenizer.hr(t))t=t.substring(e.raw.length),a.push(e);else if(e=this.tokenizer.blockquote(t))t=t.substring(e.raw.length),a.push(e);else if(e=this.tokenizer.list(t))t=t.substring(e.raw.length),a.push(e);else if(e=this.tokenizer.html(t))t=t.substring(e.raw.length),a.push(e);else if(e=this.tokenizer.def(t))t=t.substring(e.raw.length),!(n=a[a.length-1])||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[e.tag]||(this.tokens.links[e.tag]={href:e.href,title:e.title}):(n.raw+="\n"+e.raw,n.text+="\n"+e.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(e=this.tokenizer.table(t))t=t.substring(e.raw.length),a.push(e);else if(e=this.tokenizer.lheading(t))t=t.substring(e.raw.length),a.push(e);else if(r=t,this.options.extensions&&this.options.extensions.startBlock&&function(){var e=1/0,n=t.slice(1),i=void 0;o.options.extensions.startBlock.forEach((function(t){"number"==typeof(i=t.call({lexer:this},n))&&i>=0&&(e=Math.min(e,i))})),e<1/0&&e>=0&&(r=t.substring(0,e+1))}(),this.state.top&&(e=this.tokenizer.paragraph(r)))n=a[a.length-1],i&&"paragraph"===n.type?(n.raw+="\n"+e.raw,n.text+="\n"+e.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):a.push(e),i=r.length!==t.length,t=t.substring(e.raw.length);else if(e=this.tokenizer.text(t))t=t.substring(e.raw.length),(n=a[a.length-1])&&"text"===n.type?(n.raw+="\n"+e.raw,n.text+="\n"+e.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):a.push(e);else if(t){var s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}return this.state.top=!0,a}},{key:"inline",value:function(t,e){this.inlineQueue.push({src:t,tokens:e})}},{key:"inlineTokens",value:function(t){var e,n,r,i,o,a,s=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=t;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(l));)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,i.index)+"["+Jh("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,i.index)+"["+Jh("a",i[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,i.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(o||(a=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(e=n.call({lexer:s},t,u))&&(t=t.substring(e.raw.length),u.push(e),!0)}))))if(e=this.tokenizer.escape(t))t=t.substring(e.raw.length),u.push(e);else if(e=this.tokenizer.tag(t))t=t.substring(e.raw.length),(n=u[u.length-1])&&"text"===e.type&&"text"===n.type?(n.raw+=e.raw,n.text+=e.text):u.push(e);else if(e=this.tokenizer.link(t))t=t.substring(e.raw.length),u.push(e);else if(e=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(e.raw.length),(n=u[u.length-1])&&"text"===e.type&&"text"===n.type?(n.raw+=e.raw,n.text+=e.text):u.push(e);else if(e=this.tokenizer.emStrong(t,l,a))t=t.substring(e.raw.length),u.push(e);else if(e=this.tokenizer.codespan(t))t=t.substring(e.raw.length),u.push(e);else if(e=this.tokenizer.br(t))t=t.substring(e.raw.length),u.push(e);else if(e=this.tokenizer.del(t))t=t.substring(e.raw.length),u.push(e);else if(e=this.tokenizer.autolink(t,tf))t=t.substring(e.raw.length),u.push(e);else if(this.state.inLink||!(e=this.tokenizer.url(t,tf))){if(r=t,this.options.extensions&&this.options.extensions.startInline&&function(){var e=1/0,n=t.slice(1),i=void 0;s.options.extensions.startInline.forEach((function(t){"number"==typeof(i=t.call({lexer:this},n))&&i>=0&&(e=Math.min(e,i))})),e<1/0&&e>=0&&(r=t.substring(0,e+1))}(),e=this.tokenizer.inlineText(r,Qh))t=t.substring(e.raw.length),"_"!==e.raw.slice(-1)&&(a=e.raw.slice(-1)),o=!0,(n=u[u.length-1])&&"text"===n.type?(n.raw+=e.raw,n.text+=e.text):u.push(e);else if(t){var h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}else t=t.substring(e.raw.length),u.push(e);return u}}],[{key:"rules",get:function(){return{block:Zh,inline:Kh}}},{key:"lex",value:function(e,n){return new t(n).lex(e)}},{key:"lexInline",value:function(e,n){return new t(n).inlineTokens(e)}}]),t}(),nf=oh.exports.defaults,rf=Ch,of=wh,af=function(){function t(e){De(this,t),this.options=e||nf}return Te(t,[{key:"code",value:function(t,e,n){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(t,r);null!=i&&i!==t&&(n=!0,t=i)}return t=t.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+of(r,!0)+'">'+(n?t:of(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:of(t,!0))+"</code></pre>\n"}},{key:"blockquote",value:function(t){return"<blockquote>\n"+t+"</blockquote>\n"}},{key:"html",value:function(t){return t}},{key:"heading",value:function(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"}},{key:"hr",value:function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}},{key:"list",value:function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"}},{key:"listitem",value:function(t){return"<li>"+t+"</li>\n"}},{key:"checkbox",value:function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}},{key:"paragraph",value:function(t){return"<p>"+t+"</p>\n"}},{key:"table",value:function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}},{key:"tablerow",value:function(t){return"<tr>\n"+t+"</tr>\n"}},{key:"tablecell",value:function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"}},{key:"strong",value:function(t){return"<strong>"+t+"</strong>"}},{key:"em",value:function(t){return"<em>"+t+"</em>"}},{key:"codespan",value:function(t){return"<code>"+t+"</code>"}},{key:"br",value:function(){return this.options.xhtml?"<br/>":"<br>"}},{key:"del",value:function(t){return"<del>"+t+"</del>"}},{key:"link",value:function(t,e,n){if(null===(t=rf(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<a href="'+of(t)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"}},{key:"image",value:function(t,e,n){if(null===(t=rf(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"}},{key:"text",value:function(t){return t}}]),t}(),sf=function(){function t(){De(this,t)}return Te(t,[{key:"strong",value:function(t){return t}},{key:"em",value:function(t){return t}},{key:"codespan",value:function(t){return t}},{key:"del",value:function(t){return t}},{key:"html",value:function(t){return t}},{key:"text",value:function(t){return t}},{key:"link",value:function(t,e,n){return""+n}},{key:"image",value:function(t,e,n){return""+n}},{key:"br",value:function(){return""}}]),t}(),uf=function(){function t(){De(this,t),this.seen={}}return Te(t,[{key:"serialize",value:function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}},{key:"getNextSafeSlug",value:function(t,e){var n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do{n=t+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=r,this.seen[n]=0),n}},{key:"slug",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)}}]),t}(),lf=af,cf=sf,hf=uf,ff=oh.exports.defaults,df=Th,pf=function(){function t(e){De(this,t),this.options=e||ff,this.options.renderer=this.options.renderer||new lf,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new cf,this.slugger=new hf}return Te(t,[{key:"parse",value:function(t){var e,n,r,i,o,a,s,u,l,c,h,f,d,p,g,m,v,y,E,b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],A="",_=t.length;for(e=0;e<_;e++)if(c=t[e],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type])||!1===(E=this.options.extensions.renderers[c.type].call({parser:this},c))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type))switch(c.type){case"space":continue;case"hr":A+=this.renderer.hr();continue;case"heading":A+=this.renderer.heading(this.parseInline(c.tokens),c.depth,df(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":A+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(u="",s="",i=c.header.length,n=0;n<i;n++)s+=this.renderer.tablecell(this.parseInline(c.header[n].tokens),{header:!0,align:c.align[n]});for(u+=this.renderer.tablerow(s),l="",i=c.rows.length,n=0;n<i;n++){for(s="",o=(a=c.rows[n]).length,r=0;r<o;r++)s+=this.renderer.tablecell(this.parseInline(a[r].tokens),{header:!1,align:c.align[r]});l+=this.renderer.tablerow(s)}A+=this.renderer.table(u,l);continue;case"blockquote":l=this.parse(c.tokens),A+=this.renderer.blockquote(l);continue;case"list":for(h=c.ordered,f=c.start,d=c.loose,i=c.items.length,l="",n=0;n<i;n++)m=(g=c.items[n]).checked,v=g.task,p="",g.task&&(y=this.renderer.checkbox(m),d?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=y+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=y+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:y}):p+=y),p+=this.parse(g.tokens,d),l+=this.renderer.listitem(p,v,m);A+=this.renderer.list(l,h,f);continue;case"html":A+=this.renderer.html(c.text);continue;case"paragraph":A+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(l=c.tokens?this.parseInline(c.tokens):c.text;e+1<_&&"text"===t[e+1].type;)l+="\n"+((c=t[++e]).tokens?this.parseInline(c.tokens):c.text);A+=b?this.renderer.paragraph(l):l;continue;default:var D='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(D);throw new Error(D)}else A+=E||"";return A}},{key:"parseInline",value:function(t,e){e=e||this.renderer;var n,r,i,o="",a=t.length;for(n=0;n<a;n++)if(r=t[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(i=this.options.extensions.renderers[r.type].call({parser:this},r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":case"text":o+=e.text(r.text);break;case"html":o+=e.html(r.text);break;case"link":o+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":o+=e.image(r.href,r.title,r.text);break;case"strong":o+=e.strong(this.parseInline(r.tokens,e));break;case"em":o+=e.em(this.parseInline(r.tokens,e));break;case"codespan":o+=e.codespan(r.text);break;case"br":o+=e.br();break;case"del":o+=e.del(this.parseInline(r.tokens,e));break;default:var s='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}else o+=i||"";return o}}],[{key:"parse",value:function(e,n){return new t(n).parse(e)}},{key:"parseInline",value:function(e,n){return new t(n).parseInline(e)}}]),t}(),gf=ef,mf=pf,vf=Uh,yf=af,Ef=sf,bf=uf,Af=Ih,_f=Lh,Df=wh,wf=oh.exports,Tf=wf.getDefaults,xf=wf.changeDefaults,Cf=wf.defaults;function kf(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),e=Af({},kf.defaults,e||{}),_f(e),n){var r,i=e.highlight;try{r=gf.lex(t,e)}catch(t){return n(t)}var o=function(t){var o;if(!t)try{e.walkTokens&&kf.walkTokens(r,e.walkTokens),o=mf.parse(r,e)}catch(e){t=e}return e.highlight=i,t?n(t):n(null,o)};if(!i||i.length<3)return o();if(delete e.highlight,!r.length)return o();var a=0;return kf.walkTokens(r,(function(t){"code"===t.type&&(a++,setTimeout((function(){i(t.text,t.lang,(function(e,n){if(e)return o(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),0===--a&&o()}))}),0))})),void(0===a&&o())}try{var s=gf.lex(t,e);return e.walkTokens&&kf.walkTokens(s,e.walkTokens),mf.parse(s,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Df(t.message+"",!0)+"</pre>";throw t}}kf.options=kf.setOptions=function(t){return Af(kf.defaults,t),xf(kf.defaults),kf},kf.getDefaults=Tf,kf.defaults=Cf,kf.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i,o=Af.apply(void 0,[{}].concat(n)),a=kf.defaults.extensions||{renderers:{},childTokens:{}};n.forEach((function(e){if(e.extensions&&(i=!0,e.extensions.forEach((function(t){if(!t.name)throw new Error("extension name required");if(t.renderer){var e=a.renderers?a.renderers[t.name]:null;a.renderers[t.name]=e?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=t.renderer.apply(this,r);return!1===o&&(o=e.apply(this,r)),o}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");a[t.level]?a[t.level].unshift(t.tokenizer):a[t.level]=[t.tokenizer],t.start&&("block"===t.level?a.startBlock?a.startBlock.push(t.start):a.startBlock=[t.start]:"inline"===t.level&&(a.startInline?a.startInline.push(t.start):a.startInline=[t.start]))}t.childTokens&&(a.childTokens[t.name]=t.childTokens)}))),e.renderer&&function(){var t=kf.defaults.renderer||new yf,n=function(n){var r=t[n];t[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=e.renderer[n].apply(t,o);return!1===s&&(s=r.apply(t,o)),s}};for(var r in e.renderer)n(r);o.renderer=t}(),e.tokenizer&&function(){var t=kf.defaults.tokenizer||new vf,n=function(n){var r=t[n];t[n]=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=e.tokenizer[n].apply(t,o);return!1===s&&(s=r.apply(t,o)),s}};for(var r in e.tokenizer)n(r);o.tokenizer=t}(),e.walkTokens){var n=kf.defaults.walkTokens;o.walkTokens=function(r){e.walkTokens.call(t,r),n&&n(r)}}i&&(o.extensions=a),kf.setOptions(o)}))},kf.walkTokens=function(t,e){var n,r=Me(t);try{var i=function(){var t=n.value;switch(e(t),t.type){case"table":var r,i=Me(t.header);try{for(i.s();!(r=i.n()).done;){var o=r.value;kf.walkTokens(o.tokens,e)}}catch(t){i.e(t)}finally{i.f()}var a,s=Me(t.rows);try{for(s.s();!(a=s.n()).done;){var u,l=Me(a.value);try{for(l.s();!(u=l.n()).done;){var c=u.value;kf.walkTokens(c.tokens,e)}}catch(t){l.e(t)}finally{l.f()}}}catch(t){s.e(t)}finally{s.f()}break;case"list":kf.walkTokens(t.items,e);break;default:kf.defaults.extensions&&kf.defaults.extensions.childTokens&&kf.defaults.extensions.childTokens[t.type]?kf.defaults.extensions.childTokens[t.type].forEach((function(n){kf.walkTokens(t[n],e)})):t.tokens&&kf.walkTokens(t.tokens,e)}};for(r.s();!(n=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}},kf.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=Af({},kf.defaults,e||{}),_f(e);try{var n=gf.lexInline(t,e);return e.walkTokens&&kf.walkTokens(n,e.walkTokens),mf.parseInline(n,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Df(t.message+"",!0)+"</pre>";throw t}},kf.Parser=mf,kf.parser=mf.parse,kf.Renderer=yf,kf.TextRenderer=Ef,kf.Lexer=gf,kf.lexer=gf.lex,kf.Tokenizer=vf,kf.Slugger=bf,kf.parse=kf;var If=kf,Sf=ef,Rf=pf,Of=Uh,Lf=af,Mf=sf,Ff=uf;ih.exports=If;ih.exports.parse=If,ih.exports.Parser=Rf,ih.exports.parser=Rf.parse,ih.exports.Renderer=Lf,ih.exports.TextRenderer=Mf,ih.exports.Lexer=Sf,ih.exports.lexer=Sf.lex,ih.exports.Tokenizer=Of,ih.exports.Slugger=Ff;var Pf=ih.exports;function Bf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var Nf={space:/^\n+/,blockCode:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)(\n)(|[\s\S]*?\n)( {0,3}\1[~`]* *(?:\n+|$)|$)/,heading:/^#{1,6} [^\n]+(\n|$)/,lheading:/^[^\n]+\n {0,3}(=+|-+) *(\n+|$)/,hr:/^(([-_*]) *){3,}(\n+|$)/,list:/^( {0})((?:[*+-]|\d{1,9}\.)) [\s\S]+?(?:\n+(?! )(?!\1(?:[*+-]|\d{1,9}\.) )\n*|\s*$)/,blockquote:/^( {0,3}> ?([^\n]*)(?:\n|$))+/,html:/^ {0,3}(?:<(script|pre|style)[\s>][\s\S]*?(?:<\/\1>[^\n]*\n+|$)|<!--(?!-?>)[\s\S]*?-->[^\n]*(\n+|$)|<\/?(\w+)(?: +|\n|\/?>)[\s\S]*?(?:\n{2,}|$))/,paragraph:/^[^\n]+/},Gf={strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,inlineCode:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,link:/^!?\[([\s\S]+)\]\(\s*([\s\S]+)(?:\s+([\s\S]+))?\s*\)/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/},jf=function(t,e,n){return"<".concat(t,' class="mdhl-').concat(n,'">').concat(e,"</").concat(t,">")},Uf={codeInFences:function(t,e){return jf("span",Bf(t),"codeInFences")},heading:function(t,e,n){return jf("b",n(t.text,e),t.type)},lheading:function(t,e,n){return jf("b",n(t.text,e),"heading")},paragraph:function(t,e,n){return jf("span",n(t.text,e),t.type)},list:function(t,e,n){var r=t.text.split("\n").map((function(t){var r=t.substr(0,1),i=t.substr(1),o=n(i,e);return"".concat(jf("span",r,"bullet")).concat(o)})).join("\n");return jf("span",r,"list")},fences:function(t,e){var n=ke(t.cap,6),r=n[1],i=n[2],o=n[3],a=n[4],s=n[5],u=e.codeInFences(a,i);return"".concat(r).concat(Bf(i)).concat(o).concat(u).concat(s)},space:function(t){return t.text},text:function(t){return t.text},em:function(t){return jf("i",t.text,t.type)},strong:function(t){return jf("b",t.text,t.type)},defaultInlineRenderer:function(t){return jf("span",t.text,t.type)},defaultBlockRenderer:function(t){return jf("span",Bf(t.text),t.type)}};function Vf(t,e){for(var n="";t;)if(!Object.keys(Gf).some((function(r){var i=Gf[r].exec(t);if(i){var o=i[0];t=t.substring(o.length);var a=Bf(o);return n+=(e[r]||e.defaultInlineRenderer)({type:r,text:a,cap:i},e,Vf),!0}return!1})))throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return n}function qf(t){var e=[];for(t=t.replace(/^ +$/gm,"");t;)if(!Object.keys(Nf).some((function(n){var r=Nf[n].exec(t);if(r){var i=r[0];return t=t.substring(i.length),e.push({text:i,type:n,cap:r}),!0}return!1})))throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return e}function zf(t,e){return t.map((function(t){return(e[t.type]||e.defaultBlockRenderer)(t,e,Vf)})).join("").replace(/\n/g,"<br/>")}var Wf=function(t){t.data("markdownEditorFormComponent",(function(t){return{attachment:null,overlay:null,preview:"",state:t.state,tab:t.tab,init:function(){var t=this;this.resize(),this.$watch("tab",(function(){"preview"===t.tab&&(t.preview=Pf(t.state))}))},checkForAutoInsertion:function(t){var e=this.$refs.textarea.value.split("\n"),n=this.$refs.textarea.value.substring(0,this.$refs.textarea.value.selectionStart).split("\n").length,r=e[n-2];if(r.match(/^(\*\s|-\s)|^(\d)+\./)){if(r.match(/^(\*\s)/))r.trim().length>1?e[n-1]="* ":delete e[n-2];else if(r.match(/^(-\s)/))r.trim().length>1?e[n-1]="- ":delete e[n-2];else{var i=r.match(/^(\d)+/)[0];r.trim().length>i.length+2?e[n-1]="".concat(parseInt(i)+1,". "):delete e[n-2]}this.$refs.textarea.value=e.join("\n"),this.resize()}},resize:function(){this.$refs.textarea.scrollHeight>0&&(this.$refs.overlay.style.height="150px",this.$refs.overlay.style.height=this.$refs.textarea.scrollHeight+"px"),this.overlay=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uf;return zf(qf(t),e)}(this.state=this.$refs.textarea.value)}}}))},Hf=function(t){t.data("multiSelectFormComponent",(function(t){var e,n=t.getOptionLabelsUsing,r=t.getSearchResultsUsing,i=t.isAutofocused,o=t.options,a=t.state;return{focusedOptionIndex:null,isLoading:!1,isOpen:!1,labels:[],options:o,search:"",state:a,init:(e=Ce(he().mark((function t(){var e=this;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i&&this.openListbox(),this.state||(this.state=[]),t.next=4,n();case 4:this.labels=t.sent,this.$watch("search",Ce(he().mark((function t(){var n,i;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isOpen&&""!==e.search&&null!==e.search){t.next=4;break}return e.options=o,e.focusedOptionIndex=0,t.abrupt("return");case 4:if(!Object.keys(o).length){t.next=11;break}for(i in e.options={},n=e.search.trim().toLowerCase(),o)o[i].trim().toLowerCase().includes(n)&&(e.options[i]=o[i]);e.focusedOptionIndex=0,t.next=17;break;case 11:return e.isLoading=!0,t.next=14,r(e.search);case 14:e.options=t.sent,e.focusedOptionIndex=0,e.isLoading=!1;case 17:case"end":return t.stop()}}),t)})))),this.$watch("state",Ce(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:e.labels=t.sent;case 3:case"end":return t.stop()}}),t)}))));case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)}),clearState:function(){this.state=[],this.labels=[],this.closeListbox()},closeListbox:function(){this.isOpen=!1,this.focusedOptionIndex=null,this.search=""},evaluatePosition:function(){for(var t=window.innerHeight-this.$refs.button.offsetHeight,e=this.$refs.button;e;)t-=e.offsetTop,e=e.offsetParent;this.$refs.listbox.offsetHeight<=t?this.$refs.listbox.style.bottom="auto":this.$refs.listbox.style.bottom="".concat(this.$refs.button.offsetHeight,"px")},focusNextOption:function(){null!==this.focusedOptionIndex?this.focusedOptionIndex+1>=Object.keys(this.options).length||(this.focusedOptionIndex++,this.$refs.listboxOptionsList.children[this.focusedOptionIndex].scrollIntoView({block:"center"})):this.focusedOptionIndex=Object.keys(this.options).length-1},focusPreviousOption:function(){null!==this.focusedOptionIndex?this.focusedOptionIndex<=0||(this.focusedOptionIndex--,this.$refs.listboxOptionsList.children[this.focusedOptionIndex].scrollIntoView({block:"center"})):this.focusedOptionIndex=0},openListbox:function(){var t=this;this.focusedOptionIndex=0,this.isOpen=!0,this.$nextTick((function(){t.$refs.search.focus(),t.evaluatePosition(),t.$refs.listboxOptionsList.children[t.focusedOptionIndex].scrollIntoView({block:"center"})}))},selectOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.isOpen){var e=Object.keys(this.options)[null!=t?t:this.focusedOptionIndex];this.state.indexOf(e)<0?this.state.push(e):this.deselectOption(e),this.closeListbox()}else this.closeListbox()},deselectOption:function(t){this.state=this.state.filter((function(e){return e!==t}))},toggleListboxVisibility:function(){this.isOpen?this.closeListbox():this.openListbox()}}}))},$f=We(Ye());$f.default.config.blockAttributes.heading={tagName:"h2",terminal:!0,breakOnReturn:!0,group:!1},$f.default.config.blockAttributes.subHeading={tagName:"h3",terminal:!0,breakOnReturn:!0,group:!1};var Yf=function(t){t.data("richEditorFormComponent",(function(t){return{state:t.state,init:function(){var t,e,n=this;null===(t=this.$refs.trix)||void 0===t||null===(e=t.editor)||void 0===e||e.loadHTML(this.state),this.$watch("state",(function(){var t,e;document.activeElement!==n.$refs.trix&&(null===(t=n.$refs.trix)||void 0===t||null===(e=t.editor)||void 0===e||e.loadHTML(n.state))}))}}}))},Xf=function(t){t.data("selectFormComponent",(function(t){var e,n=t.getOptionLabelUsing,r=t.getSearchResultsUsing,i=t.isAutofocused,o=t.options,a=t.state;return{focusedOptionIndex:null,isLoading:!1,isOpen:!1,label:null,options:o,search:"",state:a,init:(e=Ce(he().mark((function t(){var e=this;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i&&this.openListbox(),t.next=3,n();case 3:this.label=t.sent,this.$watch("search",Ce(he().mark((function t(){var n,i;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isOpen&&""!==e.search&&null!==e.search){t.next=4;break}return e.options=o,e.focusedOptionIndex=0,t.abrupt("return");case 4:if(!Object.keys(o).length){t.next=11;break}for(i in e.options={},n=e.search.trim().toLowerCase(),o)o[i].trim().toLowerCase().includes(n)&&(e.options[i]=o[i]);e.focusedOptionIndex=0,t.next=17;break;case 11:return e.isLoading=!0,t.next=14,r(e.search);case 14:e.options=t.sent,e.focusedOptionIndex=0,e.isLoading=!1;case 17:case"end":return t.stop()}}),t)})))),this.$watch("state",Ce(he().mark((function t(){return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:e.label=t.sent;case 3:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)}),clearState:function(){this.state=null,this.label=null,this.closeListbox()},closeListbox:function(){this.isOpen=!1,this.focusedOptionIndex=null,this.search=""},evaluatePosition:function(){for(var t=window.innerHeight-this.$refs.button.offsetHeight,e=this.$refs.button;e;)t-=e.offsetTop,e=e.offsetParent;this.$refs.listbox.offsetHeight<=t?this.$refs.listbox.style.bottom="auto":this.$refs.listbox.style.bottom="".concat(this.$refs.button.offsetHeight,"px")},focusNextOption:function(){null!==this.focusedOptionIndex?this.focusedOptionIndex+1>=Object.keys(this.options).length||(this.focusedOptionIndex++,this.$refs.listboxOptionsList.children[this.focusedOptionIndex].scrollIntoView({block:"center"})):this.focusedOptionIndex=Object.keys(this.options).length-1},focusPreviousOption:function(){null!==this.focusedOptionIndex?this.focusedOptionIndex<=0||(this.focusedOptionIndex--,this.$refs.listboxOptionsList.children[this.focusedOptionIndex].scrollIntoView({block:"center"})):this.focusedOptionIndex=0},openListbox:function(){var t=this;this.focusedOptionIndex=Object.keys(this.options).indexOf(this.state),this.focusedOptionIndex<0&&(this.focusedOptionIndex=0),this.isOpen=!0,this.$nextTick((function(){t.$refs.search.focus(),t.evaluatePosition(),t.$refs.listboxOptionsList.children[t.focusedOptionIndex].scrollIntoView({block:"center"})}))},selectOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isOpen?(this.state=Object.keys(this.options)[null!=t?t:this.focusedOptionIndex],this.label=this.options[this.state],this.closeListbox()):this.closeListbox()},toggleListboxVisibility:function(){this.isOpen?this.closeListbox():this.openListbox()}}}))},Zf=function(t){t.data("tagsInputFormComponent",(function(t){return{newTag:"",state:t.state,createTag:function(){this.newTag=this.newTag.trim(),""!==this.newTag&&(this.state.includes(this.newTag)||this.state.push(this.newTag),this.newTag="")},deleteTag:function(t){this.state=this.state.filter((function(e){return e!==t}))}}}))};function Kf(t){return(Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function td(t,e,n){return e&&Qf(t.prototype,e),n&&Qf(t,n),t}function ed(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rd(t,e)}function nd(t){return(nd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rd(t,e){return(rd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function id(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function od(t,e){if(e&&("object"===Be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ad(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=nd(t);if(e){var i=nd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return od(this,n)}}function sd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=nd(t)););return t}function ud(t,e,n){return(ud="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=sd(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function ld(t,e,n,r){return ld="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,r){var i,o=sd(t,e);if(o){if((i=Object.getOwnPropertyDescriptor(o,e)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,e)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,e,i)}else!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(r,e,n);return!0},ld(t,e,n,r)}function cd(t,e,n,r,i){if(!ld(t,e,n,r||t)&&i)throw new Error("failed to set property");return n}function hd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return fd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dd(t){return"string"==typeof t||t instanceof String}var pd="NONE",gd="LEFT",md="FORCE_LEFT",vd="RIGHT",yd="FORCE_RIGHT";function Ed(t){switch(t){case gd:return md;case vd:return yd;default:return t}}function bd(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function Ad(t,e){if(e===t)return!0;var n,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if(e.length!=t.length)return!1;for(n=0;n<e.length;n++)if(!Ad(e[n],t[n]))return!1;return!0}if(r!=i)return!1;if(e&&t&&"object"===Kf(e)&&"object"===Kf(t)){var o=e instanceof Date,a=t instanceof Date;if(o&&a)return e.getTime()==t.getTime();if(o!=a)return!1;var s=e instanceof RegExp,u=t instanceof RegExp;if(s&&u)return e.toString()==t.toString();if(s!=u)return!1;var l=Object.keys(e);for(n=0;n<l.length;n++)if(!Object.prototype.hasOwnProperty.call(t,l[n]))return!1;for(n=0;n<l.length;n++)if(!Ad(t[l[n]],e[l[n]]))return!1;return!0}return!(!e||!t||"function"!=typeof e||"function"!=typeof t)&&e.toString()===t.toString()}var _d=function(){function t(e,n,r,i){for(Jf(this,t),this.value=e,this.cursorPos=n,this.oldValue=r,this.oldSelection=i;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return td(t,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?pd:this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos?vd:gd}}]),t}(),Dd=function(){function t(e){Jf(this,t),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},e)}return td(t,[{key:"aggregate",value:function(t){return this.rawInserted+=t.rawInserted,this.skip=this.skip||t.skip,this.inserted+=t.inserted,this.tailShift+=t.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),t}(),wd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;Jf(this,t),this.value=e,this.from=n,this.stop=r}return td(t,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(t){this.value+=String(t)}},{key:"appendTo",value:function(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(t){Object.assign(this,t)}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.value.length)return"";var e=this.value[0];return this.value=this.value.slice(1),e}}]),t}();function Td(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Td.InputMask(t,e)}var xd=function(){function t(e){Jf(this,t),this._value="",this._update(Object.assign({},t.DEFAULTS,e)),this.isInitialized=!0}return td(t,[{key:"updateOptions",value:function(t){Object.keys(t).length&&this.withValueRefresh(this._update.bind(this,t))}},{key:"_update",value:function(t){Object.assign(this,t)}},{key:"state",get:function(){return{_value:this.value}},set:function(t){this._value=t._value}},{key:"reset",value:function(){this._value=""}},{key:"value",get:function(){return this._value},set:function(t){this.resolve(t)}},{key:"resolve",value:function(t){return this.reset(),this.append(t,{input:!0},""),this.doCommit(),this.value}},{key:"unmaskedValue",get:function(){return this.value},set:function(t){this.reset(),this.append(t,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.doParse(this.value)},set:function(t){this.value=this.doFormat(t)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(t){this.reset(),this.append(t,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}},{key:"nearestInputPos",value:function(t,e){return t}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(t,e)}},{key:"extractTail",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new wd(this.extractInput(t,e),t)}},{key:"appendTail",value:function(t){return dd(t)&&(t=new wd(String(t))),t.appendTo(this)}},{key:"_appendCharRaw",value:function(t){return t?(this._value+=t,new Dd({inserted:t,rawInserted:t})):new Dd}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=this.state,i=this._appendCharRaw(this.doPrepare(t,e),e);if(i.inserted){var o,a=!1!==this.doValidate(e);if(a&&null!=n){var s=this.state;this.overwrite&&(o=n.state,n.shiftBefore(this.value.length));var u=this.appendTail(n);(a=u.rawInserted===n.toString())&&u.inserted&&(this.state=s)}a||(i=new Dd,this.state=r,n&&o&&(n.state=o))}return i}},{key:"_appendPlaceholder",value:function(){return new Dd}},{key:"append",value:function(t,e,n){if(!dd(t))throw new Error("value should be string");var r=new Dd,i=dd(n)?new wd(String(n)):n;e&&e.tail&&(e._beforeTailState=this.state);for(var o=0;o<t.length;++o)r.aggregate(this._appendChar(t[o],e,i));return null!=i&&(r.tailShift+=this.appendTail(i).tailShift),r}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,t)+this.value.slice(e),new Dd}},{key:"withValueRefresh",value:function(t){if(this._refreshing||!this.isInitialized)return t();this._refreshing=!0;var e=this.rawInputValue,n=this.value,r=t();return this.rawInputValue=e,this.value&&this.value!==n&&0===n.indexOf(this.value)&&this.append(n.slice(this.value.length),{},""),delete this._refreshing,r}},{key:"runIsolated",value:function(t){if(this._isolated||!this.isInitialized)return t(this);this._isolated=!0;var e=this.state,n=t(this);return this.state=e,delete this._isolated,n}},{key:"doPrepare",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(t,this,e):t}},{key:"doValidate",value:function(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"doFormat",value:function(t){return this.format?this.format(t,this):t}},{key:"doParse",value:function(t){return this.parse?this.parse(t,this):t}},{key:"splice",value:function(t,e,n,r){var i=t+e,o=this.extractTail(i),a=this.nearestInputPos(t,r);return new Dd({tailShift:a-t}).aggregate(this.remove(a)).aggregate(this.append(n,{input:!0},o))}}]),t}();function Cd(t){if(null==t)throw new Error("mask property should be defined");return t instanceof RegExp?Td.MaskedRegExp:dd(t)?Td.MaskedPattern:t instanceof Date||t===Date?Td.MaskedDate:t instanceof Number||"number"==typeof t||t===Number?Td.MaskedNumber:Array.isArray(t)||t===Array?Td.MaskedDynamic:Td.Masked&&t.prototype instanceof Td.Masked?t:t instanceof Function?Td.MaskedFunction:t instanceof Td.Masked?t.constructor:(console.warn("Mask not found for mask",t),Td.Masked)}function kd(t){if(Td.Masked&&t instanceof Td.Masked)return t;var e=(t=Object.assign({},t)).mask;if(Td.Masked&&e instanceof Td.Masked)return e;var n=Cd(e);if(!n)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new n(t)}xd.DEFAULTS={format:function(t){return t},parse:function(t){return t}},Td.Masked=xd,Td.createMask=kd;var Id=["mask"],Sd={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},Rd=function(){function t(e){Jf(this,t);var n=e.mask,r=id(e,Id);this.masked=kd({mask:n}),Object.assign(this,r)}return td(t,[{key:"reset",value:function(){this._isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===t&&e>=1?(this._isFilled=!1,this.masked.remove(t,e)):new Dd}},{key:"value",get:function(){return this.masked.value||(this._isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._isFilled)return new Dd;var n=this.masked.state,r=this.masked._appendChar(t,e);return r.inserted&&!1===this.doValidate(e)&&(r.inserted=r.rawInserted="",this.masked.state=n),r.inserted||this.isOptional||this.lazy||e.input||(r.inserted=this.placeholderChar),r.skip=!r.inserted&&!this.isOptional,this._isFilled=Boolean(r.inserted),r}},{key:"append",value:function(){var t;return(t=this.masked).append.apply(t,arguments)}},{key:"_appendPlaceholder",value:function(){var t=new Dd;return this._isFilled||this.isOptional||(this._isFilled=!0,t.inserted=this.placeholderChar),t}},{key:"extractTail",value:function(){var t;return(t=this.masked).extractTail.apply(t,arguments)}},{key:"appendTail",value:function(){var t;return(t=this.masked).appendTail.apply(t,arguments)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(t,e,n)}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd,n=0,r=this.value.length,i=Math.min(Math.max(t,n),r);switch(e){case gd:case md:return this.isComplete?i:n;case vd:case yd:return this.isComplete?i:r;default:return i}}},{key:"doValidate",value:function(){var t,e;return(t=this.masked).doValidate.apply(t,arguments)&&(!this.parent||(e=this.parent).doValidate.apply(e,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"state",get:function(){return{masked:this.masked.state,_isFilled:this._isFilled}},set:function(t){this.masked.state=t.masked,this._isFilled=t._isFilled}}]),t}(),Od=function(){function t(e){Jf(this,t),Object.assign(this,e),this._value=""}return td(t,[{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,t)+this._value.slice(e),this._value||(this._isRawInput=!1),new Dd}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd,n=0,r=this._value.length;switch(e){case gd:case md:return n;default:return r}}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.raw&&this._isRawInput&&this._value.slice(t,e)||""}},{key:"isComplete",get:function(){return!0}},{key:"_appendChar",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new Dd;if(this._value)return n;var r=this.char===t[0],i=r&&(this.isUnmasking||e.input||e.raw)&&!e.tail;return i&&(n.rawInserted=this.char),this._value=n.inserted=this.char,this._isRawInput=i&&(e.raw||e.input),n}},{key:"_appendPlaceholder",value:function(){var t=new Dd;return this._value||(this._value=t.inserted=this.char),t}},{key:"extractTail",value:function(){return arguments.length>1&&void 0!==arguments[1]||this.value.length,new wd("")}},{key:"appendTail",value:function(t){return dd(t)&&(t=new wd(String(t))),t.appendTo(this)}},{key:"append",value:function(t,e,n){var r=this._appendChar(t,e);return null!=n&&(r.tailShift+=this.appendTail(n).tailShift),r}},{key:"doCommit",value:function(){}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(t){Object.assign(this,t)}}]),t}(),Ld=["chunks"],Md=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Jf(this,t),this.chunks=e,this.from=n}return td(t,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(e){if(String(e)){dd(e)&&(e=new wd(String(e)));var n=this.chunks[this.chunks.length-1],r=n&&(n.stop===e.stop||null==e.stop)&&e.from===n.from+n.toString().length;if(e instanceof wd)r?n.extend(e.toString()):this.chunks.push(e);else if(e instanceof t){if(null==e.stop)for(var i;e.chunks.length&&null==e.chunks[0].stop;)(i=e.chunks.shift()).from+=e.from,this.extend(i);e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}}},{key:"appendTo",value:function(e){if(!(e instanceof Td.MaskedPattern))return new wd(this.toString()).appendTo(e);for(var n=new Dd,r=0;r<this.chunks.length&&!n.skip;++r){var i=this.chunks[r],o=e._mapPosToBlock(e.value.length),a=i.stop,s=void 0;if(null!=a&&(!o||o.index<=a)&&((i instanceof t||e._stops.indexOf(a)>=0)&&n.aggregate(e._appendPlaceholder(a)),s=i instanceof t&&e._blocks[a]),s){var u=s.appendTail(i);u.skip=!1,n.aggregate(u),e._value+=u.inserted;var l=i.toString().slice(u.rawInserted.length);l&&n.aggregate(e.append(l,{tail:!0}))}else n.aggregate(e.append(i.toString(),{tail:!0}))}return n}},{key:"state",get:function(){return{chunks:this.chunks.map((function(t){return t.state})),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(e){var n=e.chunks,r=id(e,Ld);Object.assign(this,r),this.chunks=n.map((function(e){var n="chunks"in e?new t:new wd;return n.state=e,n}))}},{key:"shiftBefore",value:function(t){if(this.from>=t||!this.chunks.length)return"";for(var e=t-this.from,n=0;n<this.chunks.length;){var r=this.chunks[n],i=r.shiftBefore(e);if(r.toString()){if(!i)break;++n}else this.chunks.splice(n,1);if(i)return i}return""}}]),t}(),Fd=function(t){ed(n,t);var e=ad(n);function n(){return Jf(this,n),e.apply(this,arguments)}return td(n,[{key:"_update",value:function(t){t.mask&&(t.validate=function(e){return e.search(t.mask)>=0}),ud(nd(n.prototype),"_update",this).call(this,t)}}]),n}(xd);Td.MaskedRegExp=Fd;var Pd=["_blocks"],Bd=function(t){ed(n,t);var e=ad(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jf(this,n),t.definitions=Object.assign({},Sd,t.definitions),e.call(this,Object.assign({},n.DEFAULTS,t))}return td(n,[{key:"_update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.definitions=Object.assign({},this.definitions,t.definitions),ud(nd(n.prototype),"_update",this).call(this,t),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var t=this,e=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var r=this.mask;if(r&&e)for(var i=!1,o=!1,a=0;a<r.length;++a){if(this.blocks)if("continue"===function(){var e=r.slice(a),n=Object.keys(t.blocks).filter((function(t){return 0===e.indexOf(t)}));n.sort((function(t,e){return e.length-t.length}));var i=n[0];if(i){var o=kd(Object.assign({parent:t,lazy:t.lazy,placeholderChar:t.placeholderChar,overwrite:t.overwrite},t.blocks[i]));return o&&(t._blocks.push(o),t._maskedBlocks[i]||(t._maskedBlocks[i]=[]),t._maskedBlocks[i].push(t._blocks.length-1)),a+=i.length-1,"continue"}}())continue;var s=r[a],u=s in e;if(s!==n.STOP_CHAR)if("{"!==s&&"}"!==s)if("["!==s&&"]"!==s){if(s===n.ESCAPE_CHAR){if(++a,!(s=r[a]))break;u=!1}var l=u?new Rd({parent:this,lazy:this.lazy,placeholderChar:this.placeholderChar,mask:e[s],isOptional:o}):new Od({char:s,isUnmasking:i});this._blocks.push(l)}else o=!o;else i=!i;else this._stops.push(this._blocks.length)}}},{key:"state",get:function(){return Object.assign({},ud(nd(n.prototype),"state",this),{_blocks:this._blocks.map((function(t){return t.state}))})},set:function(t){var e=t._blocks,r=id(t,Pd);this._blocks.forEach((function(t,n){return t.state=e[n]})),cd(nd(n.prototype),"state",r,this,!0)}},{key:"reset",value:function(){ud(nd(n.prototype),"reset",this).call(this),this._blocks.forEach((function(t){return t.reset()}))}},{key:"isComplete",get:function(){return this._blocks.every((function(t){return t.isComplete}))}},{key:"doCommit",value:function(){this._blocks.forEach((function(t){return t.doCommit()})),ud(nd(n.prototype),"doCommit",this).call(this)}},{key:"unmaskedValue",get:function(){return this._blocks.reduce((function(t,e){return t+e.unmaskedValue}),"")},set:function(t){cd(nd(n.prototype),"unmaskedValue",t,this,!0)}},{key:"value",get:function(){return this._blocks.reduce((function(t,e){return t+e.value}),"")},set:function(t){cd(nd(n.prototype),"value",t,this,!0)}},{key:"appendTail",value:function(t){return ud(nd(n.prototype),"appendTail",this).call(this,t).aggregate(this._appendPlaceholder())}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._mapPosToBlock(this.value.length),r=new Dd;if(!n)return r;for(var i=n.index;;++i){var o=this._blocks[i];if(!o)break;var a=o._appendChar(t,e),s=a.skip;if(r.aggregate(a),s||a.rawInserted)break}return r}},{key:"extractTail",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=new Md;return e===n||this._forEachBlocksInRange(e,n,(function(e,n,i,o){var a=e.extractTail(i,o);a.stop=t._findStopBefore(n),a.from=t._blockStartPos(n),a instanceof Md&&(a.blockIndex=n),r.extend(a)})),r}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t===e)return"";var r="";return this._forEachBlocksInRange(t,e,(function(t,e,i,o){r+=t.extractInput(i,o,n)})),r}},{key:"_findStopBefore",value:function(t){for(var e,n=0;n<this._stops.length;++n){var r=this._stops[n];if(!(r<=t))break;e=r}return e}},{key:"_appendPlaceholder",value:function(t){var e=this,n=new Dd;if(this.lazy&&null==t)return n;var r=this._mapPosToBlock(this.value.length);if(!r)return n;var i=r.index,o=null!=t?t:this._blocks.length;return this._blocks.slice(i,o).forEach((function(r){if(!r.lazy||null!=t){var i=null!=r._blocks?[r._blocks.length]:[],o=r._appendPlaceholder.apply(r,i);e._value+=o.inserted,n.aggregate(o)}})),n}},{key:"_mapPosToBlock",value:function(t){for(var e="",n=0;n<this._blocks.length;++n){var r=this._blocks[n],i=e.length;if(t<=(e+=r.value).length)return{index:n,offset:t-i}}}},{key:"_blockStartPos",value:function(t){return this._blocks.slice(0,t).reduce((function(t,e){return t+e.value.length}),0)}},{key:"_forEachBlocksInRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=arguments.length>2?arguments[2]:void 0,r=this._mapPosToBlock(t);if(r){var i=this._mapPosToBlock(e),o=i&&r.index===i.index,a=r.offset,s=i&&o?i.offset:this._blocks[r.index].value.length;if(n(this._blocks[r.index],r.index,a,s),i&&!o){for(var u=r.index+1;u<i.index;++u)n(this._blocks[u],u,0,this._blocks[u].value.length);n(this._blocks[i.index],i.index,0,i.offset)}}}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=ud(nd(n.prototype),"remove",this).call(this,t,e);return this._forEachBlocksInRange(t,e,(function(t,e,n,i){r.aggregate(t.remove(n,i))})),r}},{key:"nearestInputPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pd,n=this._mapPosToBlock(t)||{index:0,offset:0},r=n.offset,i=n.index,o=this._blocks[i];if(!o)return t;var a=r;0!==a&&a<o.value.length&&(a=o.nearestInputPos(r,Ed(e)));var s=a===o.value.length,u=0===a;if(!u&&!s)return this._blockStartPos(i)+a;var l=s?i+1:i;if(e===pd){if(l>0){var c=l-1,h=this._blocks[c],f=h.nearestInputPos(0,pd);if(!h.value.length||f!==h.value.length)return this._blockStartPos(l)}for(var d=l,p=d;p<this._blocks.length;++p){var g=this._blocks[p],m=g.nearestInputPos(0,pd);if(!g.value.length||m!==g.value.length)return this._blockStartPos(p)+m}for(var v=l-1;v>=0;--v){var y=this._blocks[v],E=y.nearestInputPos(0,pd);if(!y.value.length||E!==y.value.length)return this._blockStartPos(v)+y.value.length}return t}if(e===gd||e===md){for(var b,A=l;A<this._blocks.length;++A)if(this._blocks[A].value){b=A;break}if(null!=b){var _=this._blocks[b],D=_.nearestInputPos(0,vd);if(0===D&&_.unmaskedValue.length)return this._blockStartPos(b)+D}for(var w,T=-1,x=l-1;x>=0;--x){var C=this._blocks[x],k=C.nearestInputPos(C.value.length,md);if(C.value&&0===k||(w=x),0!==k){if(k!==C.value.length)return this._blockStartPos(x)+k;T=x;break}}if(e===gd)for(var I=T+1;I<=Math.min(l,this._blocks.length-1);++I){var S=this._blocks[I],R=S.nearestInputPos(0,pd),O=this._blockStartPos(I)+R;if(O>t)break;if(R!==S.value.length)return O}if(T>=0)return this._blockStartPos(T)+this._blocks[T].value.length;if(e===md||this.lazy&&!this.extractInput()&&!Nd(this._blocks[l]))return 0;if(null!=w)return this._blockStartPos(w);for(var L=l;L<this._blocks.length;++L){var M=this._blocks[L],F=M.nearestInputPos(0,pd);if(!M.value.length||F!==M.value.length)return this._blockStartPos(L)+F}return 0}if(e===vd||e===yd){for(var P,B,N=l;N<this._blocks.length;++N){var G=this._blocks[N],j=G.nearestInputPos(0,pd);if(j!==G.value.length){B=this._blockStartPos(N)+j,P=N;break}}if(null!=P&&null!=B){for(var U=P;U<this._blocks.length;++U){var V=this._blocks[U],q=V.nearestInputPos(0,yd);if(q!==V.value.length)return this._blockStartPos(U)+q}return e===yd?this.value.length:B}for(var z=Math.min(l,this._blocks.length-1);z>=0;--z){var W=this._blocks[z],H=W.nearestInputPos(W.value.length,gd);if(0!==H){var $=this._blockStartPos(z)+H;if($>=t)return $;break}}}return t}},{key:"maskedBlock",value:function(t){return this.maskedBlocks(t)[0]}},{key:"maskedBlocks",value:function(t){var e=this,n=this._maskedBlocks[t];return n?n.map((function(t){return e._blocks[t]})):[]}}]),n}(xd);function Nd(t){if(!t)return!1;var e=t.value;return!e||t.nearestInputPos(0,pd)!==e.length}Bd.DEFAULTS={lazy:!0,placeholderChar:"_"},Bd.STOP_CHAR="`",Bd.ESCAPE_CHAR="\\",Bd.InputDefinition=Rd,Bd.FixedDefinition=Od,Td.MaskedPattern=Bd;var Gd=function(t){ed(n,t);var e=ad(n);function n(){return Jf(this,n),e.apply(this,arguments)}return td(n,[{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"_update",value:function(t){t=Object.assign({to:this.to||0,from:this.from||0},t);var e=String(t.to).length;null!=t.maxLength&&(e=Math.max(e,t.maxLength)),t.maxLength=e;for(var r=String(t.from).padStart(e,"0"),i=String(t.to).padStart(e,"0"),o=0;o<i.length&&i[o]===r[o];)++o;t.mask=i.slice(0,o).replace(/0/g,"\\0")+"0".repeat(e-o),ud(nd(n.prototype),"_update",this).call(this,t)}},{key:"isComplete",get:function(){return ud(nd(n.prototype),"isComplete",this)&&Boolean(this.value)}},{key:"boundaries",value:function(t){var e="",n="",r=hd(t.match(/^(\D*)(\d*)(\D*)/)||[],3),i=r[1],o=r[2];return o&&(e="0".repeat(i.length)+o,n="9".repeat(i.length)+o),[e=e.padEnd(this.maxLength,"0"),n=n.padEnd(this.maxLength,"9")]}},{key:"doPrepare",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t=ud(nd(n.prototype),"doPrepare",this).call(this,t,e).replace(/\D/g,""),!this.autofix)return t;for(var r=String(this.from).padStart(this.maxLength,"0"),i=String(this.to).padStart(this.maxLength,"0"),o=this.value,a="",s=0;s<t.length;++s){var u=o+a+t[s],l=this.boundaries(u),c=hd(l,2),h=c[0],f=c[1];Number(f)<this.from?a+=r[u.length-1]:Number(h)>this.to?a+=i[u.length-1]:a+=t[s]}return a}},{key:"doValidate",value:function(){var t,e=this.value,r=e.search(/[^0]/);if(-1===r&&e.length<=this._matchFrom)return!0;for(var i=this.boundaries(e),o=hd(i,2),a=o[0],s=o[1],u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];return this.from<=Number(s)&&Number(a)<=this.to&&(t=ud(nd(n.prototype),"doValidate",this)).call.apply(t,[this].concat(l))}}]),n}(Bd);Td.MaskedRange=Gd;var jd=function(t){ed(n,t);var e=ad(n);function n(t){return Jf(this,n),e.call(this,Object.assign({},n.DEFAULTS,t))}return td(n,[{key:"_update",value:function(t){t.mask===Date&&delete t.mask,t.pattern&&(t.mask=t.pattern);var e=t.blocks;t.blocks=Object.assign({},n.GET_DEFAULT_BLOCKS()),t.min&&(t.blocks.Y.from=t.min.getFullYear()),t.max&&(t.blocks.Y.to=t.max.getFullYear()),t.min&&t.max&&t.blocks.Y.from===t.blocks.Y.to&&(t.blocks.m.from=t.min.getMonth()+1,t.blocks.m.to=t.max.getMonth()+1,t.blocks.m.from===t.blocks.m.to&&(t.blocks.d.from=t.min.getDate(),t.blocks.d.to=t.max.getDate())),Object.assign(t.blocks,e),Object.keys(t.blocks).forEach((function(e){var n=t.blocks[e];"autofix"in n||(n.autofix=t.autofix)})),ud(nd(n.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,e=this.date,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=ud(nd(n.prototype),"doValidate",this)).call.apply(t,[this].concat(i))&&(!this.isComplete||this.isDateExist(this.value)&&null!=e&&(null==this.min||this.min<=e)&&(null==this.max||e<=this.max))}},{key:"isDateExist",value:function(t){return this.format(this.parse(t,this),this).indexOf(t)>=0}},{key:"date",get:function(){return this.typedValue},set:function(t){this.typedValue=t}},{key:"typedValue",get:function(){return this.isComplete?ud(nd(n.prototype),"typedValue",this):null},set:function(t){cd(nd(n.prototype),"typedValue",t,this,!0)}}]),n}(Bd);jd.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(t){return[String(t.getDate()).padStart(2,"0"),String(t.getMonth()+1).padStart(2,"0"),t.getFullYear()].join(".")},parse:function(t){var e=hd(t.split("."),3),n=e[0],r=e[1],i=e[2];return new Date(i,r-1,n)}},jd.GET_DEFAULT_BLOCKS=function(){return{d:{mask:Gd,from:1,to:31,maxLength:2},m:{mask:Gd,from:1,to:12,maxLength:2},Y:{mask:Gd,from:1900,to:9999}}},Td.MaskedDate=jd;var Ud=function(){function t(){Jf(this,t)}return td(t,[{key:"selectionStart",get:function(){var t;try{t=this._unsafeSelectionStart}catch(t){}return null!=t?t:this.value.length}},{key:"selectionEnd",get:function(){var t;try{t=this._unsafeSelectionEnd}catch(t){}return null!=t?t:this.value.length}},{key:"select",value:function(t,e){if(null!=t&&null!=e&&(t!==this.selectionStart||e!==this.selectionEnd))try{this._unsafeSelect(t,e)}catch(t){}}},{key:"_unsafeSelect",value:function(t,e){}},{key:"isActive",get:function(){return!1}},{key:"bindEvents",value:function(t){}},{key:"unbindEvents",value:function(){}}]),t}();Td.MaskElement=Ud;var Vd=function(t){ed(n,t);var e=ad(n);function n(t){var r;return Jf(this,n),(r=e.call(this)).input=t,r._handlers={},r}return td(n,[{key:"rootElement",get:function(){return this.input.getRootNode?this.input.getRootNode():document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"_unsafeSelect",value:function(t,e){this.input.setSelectionRange(t,e)}},{key:"value",get:function(){return this.input.value},set:function(t){this.input.value=t}},{key:"bindEvents",value:function(t){var e=this;Object.keys(t).forEach((function(r){return e._toggleEventHandler(n.EVENTS_MAP[r],t[r])}))}},{key:"unbindEvents",value:function(){var t=this;Object.keys(this._handlers).forEach((function(e){return t._toggleEventHandler(e)}))}},{key:"_toggleEventHandler",value:function(t,e){this._handlers[t]&&(this.input.removeEventListener(t,this._handlers[t]),delete this._handlers[t]),e&&(this.input.addEventListener(t,e),this._handlers[t]=e)}}]),n}(Ud);Vd.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"},Td.HTMLMaskElement=Vd;var qd=function(t){ed(n,t);var e=ad(n);function n(){return Jf(this,n),e.apply(this,arguments)}return td(n,[{key:"_unsafeSelectionStart",get:function(){var t=this.rootElement,e=t.getSelection&&t.getSelection();return e&&e.anchorOffset}},{key:"_unsafeSelectionEnd",get:function(){var t=this.rootElement,e=t.getSelection&&t.getSelection();return e&&this._unsafeSelectionStart+String(e).length}},{key:"_unsafeSelect",value:function(t,e){if(this.rootElement.createRange){var n=this.rootElement.createRange();n.setStart(this.input.firstChild||this.input,t),n.setEnd(this.input.lastChild||this.input,e);var r=this.rootElement,i=r.getSelection&&r.getSelection();i&&(i.removeAllRanges(),i.addRange(n))}}},{key:"value",get:function(){return this.input.textContent},set:function(t){this.input.textContent=t}}]),n}(Vd);Td.HTMLContenteditableMaskElement=qd;var zd=["mask"],Wd=function(){function t(e,n){Jf(this,t),this.el=e instanceof Ud?e:e.isContentEditable&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName?new qd(e):new Vd(e),this.masked=kd(n),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return td(t,[{key:"mask",get:function(){return this.masked.mask},set:function(t){if(!this.maskEquals(t))if(t instanceof Td.Masked||this.masked.constructor!==Cd(t)){var e=kd({mask:t});e.unmaskedValue=this.masked.unmaskedValue,this.masked=e}else this.masked.updateOptions({mask:t})}},{key:"maskEquals",value:function(t){return null==t||t===this.masked.mask||t===Date&&this.masked instanceof jd}},{key:"value",get:function(){return this._value},set:function(t){this.masked.value=t,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(t){this.masked.unmaskedValue=t,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(t){this.masked.typedValue=t,this.updateControl(),this.alignCursor()}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=this._listeners[t];i&&i.forEach((function(t){return t.apply(void 0,n)}))}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(t){this.el&&this.el.isActive&&(this.el.select(t,t),this._saveSelection())}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var t=this.masked.unmaskedValue,e=this.masked.value,n=this.unmaskedValue!==t||this.value!==e;this._unmaskedValue=t,this._value=e,this.el.value!==e&&(this.el.value=e),n&&this._fireChangeEvents()}},{key:"updateOptions",value:function(t){var e=t.mask,n=id(t,zd),r=!this.maskEquals(e),i=!Ad(this.masked,n);r&&(this.mask=e),i&&this.masked.updateOptions(n),(r||i)&&this.updateControl()}},{key:"updateCursor",value:function(t){null!=t&&(this.cursorPos=t,this._delayUpdateCursor(t))}},{key:"_delayUpdateCursor",value:function(t){var e=this;this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout((function(){e.el&&(e.cursorPos=e._changingCursorPos,e._abortUpdateCursor())}),10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.cursorPos,gd)}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(t,e){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e),this}},{key:"off",value:function(t,e){if(!this._listeners[t])return this;if(!e)return delete this._listeners[t],this;var n=this._listeners[t].indexOf(e);return n>=0&&this._listeners[t].splice(n,1),this}},{key:"_onInput",value:function(t){if(this._inputEvent=t,this._abortUpdateCursor(),!this._selection)return this.updateValue();var e=new _d(this.el.value,this.cursorPos,this.value,this._selection),n=this.masked.rawInputValue,r=this.masked.splice(e.startChangePos,e.removed.length,e.inserted,e.removeDirection).offset,i=n===this.masked.rawInputValue?e.removeDirection:pd,o=this.masked.nearestInputPos(e.startChangePos+r,i);this.updateControl(),this.updateCursor(o),delete this._inputEvent}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(t){t.preventDefault(),t.stopPropagation()}},{key:"_onFocus",value:function(t){this.alignCursorFriendly()}},{key:"_onClick",value:function(t){this.alignCursorFriendly()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}}]),t}();Td.InputMask=Wd;var Hd=function(t){ed(n,t);var e=ad(n);function n(){return Jf(this,n),e.apply(this,arguments)}return td(n,[{key:"_update",value:function(t){t.enum&&(t.mask="*".repeat(t.enum[0].length)),ud(nd(n.prototype),"_update",this).call(this,t)}},{key:"doValidate",value:function(){for(var t,e=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return this.enum.some((function(t){return t.indexOf(e.unmaskedValue)>=0}))&&(t=ud(nd(n.prototype),"doValidate",this)).call.apply(t,[this].concat(i))}}]),n}(Bd);Td.MaskedEnum=Hd;var $d=function(t){ed(n,t);var e=ad(n);function n(t){return Jf(this,n),e.call(this,Object.assign({},n.DEFAULTS,t))}return td(n,[{key:"_update",value:function(t){ud(nd(n.prototype),"_update",this).call(this,t),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var t="^"+(this.allowNegative?"[+|\\-]?":""),e=(this.scale?"("+bd(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(t+"(0|([1-9]+\\d*))?"+e),this._numberRegExp=new RegExp(t+"\\d*"+e),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(bd).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(bd(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(t){return t.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(t){var e=t.split(this.radix);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),e.join(this.radix)}},{key:"doPrepare",value:function(t){for(var e,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(e=ud(nd(n.prototype),"doPrepare",this)).call.apply(e,[this,this._removeThousandsSeparators(t.replace(this._mapToRadixRegExp,this.radix))].concat(i))}},{key:"_separatorsCount",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=0;r<t;++r)this._value.indexOf(this.thousandsSeparator,r)===r&&(++n,e&&(t+=this.thousandsSeparator.length));return n}},{key:"_separatorsCountFromSlice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}},{key:"extractInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,r=arguments.length>2?arguments[2]:void 0,i=this._adjustRangeWithSeparators(t,e),o=hd(i,2);return t=o[0],e=o[1],this._removeThousandsSeparators(ud(nd(n.prototype),"extractInput",this).call(this,t,e,r))}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return ud(nd(n.prototype),"_appendCharRaw",this).call(this,t,e);var r=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,i=this._separatorsCountFromSlice(r);this._value=this._removeThousandsSeparators(this.value);var o=ud(nd(n.prototype),"_appendCharRaw",this).call(this,t,e);this._value=this._insertThousandsSeparators(this._value);var a=e.tail&&e._beforeTailState?e._beforeTailState._value:this._value,s=this._separatorsCountFromSlice(a);return o.tailShift+=(s-i)*this.thousandsSeparator.length,o.skip=!o.rawInserted&&t===this.thousandsSeparator,o}},{key:"_findSeparatorAround",value:function(t){if(this.thousandsSeparator){var e=t-this.thousandsSeparator.length+1,n=this.value.indexOf(this.thousandsSeparator,e);if(n<=t)return n}return-1}},{key:"_adjustRangeWithSeparators",value:function(t,e){var n=this._findSeparatorAround(t);n>=0&&(t=n);var r=this._findSeparatorAround(e);return r>=0&&(e=r+this.thousandsSeparator.length),[t,e]}},{key:"remove",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=this._adjustRangeWithSeparators(t,e),r=hd(n,2);t=r[0],e=r[1];var i=this.value.slice(0,t),o=this.value.slice(e),a=this._separatorsCount(i.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(i+o));var s=this._separatorsCountFromSlice(i);return new Dd({tailShift:(s-a)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(t,e){if(!this.thousandsSeparator)return t;switch(e){case pd:case gd:case md:var n=this._findSeparatorAround(t-1);if(n>=0){var r=n+this.thousandsSeparator.length;if(t<r||this.value.length<=r||e===md)return n}break;case vd:case yd:var i=this._findSeparatorAround(t);if(i>=0)return i+this.thousandsSeparator.length}return t}},{key:"doValidate",value:function(t){var e=(t.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));if(e){var r=this.number;e=e&&!isNaN(r)&&(null==this.min||this.min>=0||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)}return e&&ud(nd(n.prototype),"doValidate",this).call(this,t)}},{key:"doCommit",value:function(){if(this.value){var t=this.number,e=t;null!=this.min&&(e=Math.max(e,this.min)),null!=this.max&&(e=Math.min(e,this.max)),e!==t&&(this.unmaskedValue=String(e));var r=this.value;this.normalizeZeros&&(r=this._normalizeZeros(r)),this.padFractionalZeros&&(r=this._padFractionalZeros(r)),this._value=r}ud(nd(n.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(t){var e=this._removeThousandsSeparators(t).split(this.radix);return e[0]=e[0].replace(/^(\D*)(0*)(\d*)/,(function(t,e,n,r){return e+r})),t.length&&!/\d$/.test(e[0])&&(e[0]=e[0]+"0"),e.length>1&&(e[1]=e[1].replace(/0*$/,""),e[1].length||(e.length=1)),this._insertThousandsSeparators(e.join(this.radix))}},{key:"_padFractionalZeros",value:function(t){if(!t)return t;var e=t.split(this.radix);return e.length<2&&e.push(""),e[1]=e[1].padEnd(this.scale,"0"),e.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(t){cd(nd(n.prototype),"unmaskedValue",t.replace(".",this.radix),this,!0)}},{key:"typedValue",get:function(){return Number(this.unmaskedValue)},set:function(t){cd(nd(n.prototype),"unmaskedValue",String(t),this,!0)}},{key:"number",get:function(){return this.typedValue},set:function(t){this.typedValue=t}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}}]),n}(xd);$d.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1},Td.MaskedNumber=$d;var Yd=function(t){ed(n,t);var e=ad(n);function n(){return Jf(this,n),e.apply(this,arguments)}return td(n,[{key:"_update",value:function(t){t.mask&&(t.validate=t.mask),ud(nd(n.prototype),"_update",this).call(this,t)}}]),n}(xd);Td.MaskedFunction=Yd;var Xd=["compiledMasks","currentMaskRef","currentMask"],Zd=function(t){ed(n,t);var e=ad(n);function n(t){var r;return Jf(this,n),(r=e.call(this,Object.assign({},n.DEFAULTS,t))).currentMask=null,r}return td(n,[{key:"_update",value:function(t){ud(nd(n.prototype),"_update",this).call(this,t),"mask"in t&&(this.compiledMasks=Array.isArray(t.mask)?t.mask.map((function(t){return kd(t)})):[])}},{key:"_appendCharRaw",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._applyDispatch(t,e);return this.currentMask&&n.aggregate(this.currentMask._appendChar(t,e)),n}},{key:"_applyDispatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.tail&&null!=e._beforeTailState?e._beforeTailState._value:this.value,r=this.rawInputValue,i=e.tail&&null!=e._beforeTailState?e._beforeTailState._rawInputValue:r,o=r.slice(i.length),a=this.currentMask,s=new Dd,u=a&&a.state;if(this.currentMask=this.doDispatch(t,Object.assign({},e)),this.currentMask)if(this.currentMask!==a){if(this.currentMask.reset(),i){var l=this.currentMask.append(i,{raw:!0});s.tailShift=l.inserted.length-n.length}o&&(s.tailShift+=this.currentMask.append(o,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=u;return s}},{key:"_appendPlaceholder",value:function(){var t=this._applyDispatch.apply(this,arguments);return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}},{key:"doDispatch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.dispatch(t,this,e)}},{key:"doValidate",value:function(){for(var t,e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=ud(nd(n.prototype),"doValidate",this)).call.apply(t,[this].concat(i))&&(!this.currentMask||(e=this.currentMask).doValidate.apply(e,i))}},{key:"reset",value:function(){this.currentMask&&this.currentMask.reset(),this.compiledMasks.forEach((function(t){return t.reset()}))}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(t){cd(nd(n.prototype),"value",t,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(t){cd(nd(n.prototype),"unmaskedValue",t,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(t){var e=String(t);this.currentMask&&(this.currentMask.typedValue=t,e=this.currentMask.unmaskedValue),this.unmaskedValue=e}},{key:"isComplete",get:function(){return!!this.currentMask&&this.currentMask.isComplete}},{key:"remove",value:function(){var t,e=new Dd;this.currentMask&&e.aggregate((t=this.currentMask).remove.apply(t,arguments)).aggregate(this._applyDispatch());return e}},{key:"state",get:function(){return Object.assign({},ud(nd(n.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map((function(t){return t.state})),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(t){var e=t.compiledMasks,r=t.currentMaskRef,i=t.currentMask,o=id(t,Xd);this.compiledMasks.forEach((function(t,n){return t.state=e[n]})),null!=r&&(this.currentMask=r,this.currentMask.state=i),cd(nd(n.prototype),"state",o,this,!0)}},{key:"extractInput",value:function(){var t;return this.currentMask?(t=this.currentMask).extractInput.apply(t,arguments):""}},{key:"extractTail",value:function(){for(var t,e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return this.currentMask?(t=this.currentMask).extractTail.apply(t,i):(e=ud(nd(n.prototype),"extractTail",this)).call.apply(e,[this].concat(i))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),ud(nd(n.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var t,e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return this.currentMask?(t=this.currentMask).nearestInputPos.apply(t,i):(e=ud(nd(n.prototype),"nearestInputPos",this)).call.apply(e,[this].concat(i))}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:ud(nd(n.prototype),"overwrite",this)},set:function(t){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}}]),n}(xd);Zd.DEFAULTS={dispatch:function(t,e,n){if(e.compiledMasks.length){var r=e.rawInputValue,i=e.compiledMasks.map((function(e,i){return e.reset(),e.append(r,{raw:!0}),e.append(t,n),{weight:e.rawInputValue.length,index:i}}));return i.sort((function(t,e){return e.weight-t.weight})),e.compiledMasks[i[0].index]}}},Td.MaskedDynamic=Zd;var Kd={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Jd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kd.MASKED,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kd.MASKED,r=kd(t);return function(t){return r.runIsolated((function(r){return r[e]=t,r[n]}))}}Td.PIPE_TYPE=Kd,Td.createPipe=Jd,Td.pipe=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Jd.apply(void 0,n)(t)};try{globalThis.IMask=Td}catch(t){}var Qd=function(t){t.data("textInputFormComponent",(function(t){var e=t.getMaskOptionsUsing;return{mask:null,state:t.state,init:function(){var t=this;if(e){var n;if(this.state)this.$el.value=null===(n=this.state)||void 0===n?void 0:n.valueOf();this.mask=Td(this.$el,e(Td)).on("accept",(function(){t.state=t.mask.unmaskedValue}))}}}}))};le.plugin((function(t){t.plugin(kn),t.plugin(cc),t.plugin(Wf),t.plugin(Hf),t.plugin(Yf),t.plugin(Xf),t.plugin(Zf),t.plugin(Qd)})),window.Alpine=le,le.start()},662:()=>{},666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",g={};function m(){}function v(){}function y(){}var E={};u(E,o,(function(){return this}));var b=Object.getPrototypeOf,A=b&&b(b(I([])));A&&A!==n&&r.call(A,o)&&(E=A);var _=y.prototype=m.prototype=Object.create(E);function D(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function T(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function I(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:S}}function S(){return{value:e,done:!0}}return v.prototype=y,u(_,"constructor",y),u(y,"constructor",v),v.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},D(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},D(_),u(_,s,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.m=e,r.amdO={},t=[],r.O=(e,n,i,o)=>{if(!n){var a=1/0;for(c=0;c<t.length;c++){for(var[n,i,o]=t[c],s=!0,u=0;u<n.length;u++)(!1&o||a>=o)&&Object.keys(r.O).every((t=>r.O[t](n[u])))?n.splice(u--,1):(s=!1,o<a&&(a=o));if(s){t.splice(c--,1);var l=i();void 0!==l&&(e=l)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,i,o]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={773:0,170:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[a,s,u]=n,l=0;if(a.some((e=>0!==t[e]))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)var c=u(r)}for(e&&e(n);l<a.length;l++)o=a[l],r.o(t,o)&&t[o]&&t[o][0](),t[a[l]]=0;return r.O(c)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.O(void 0,[170],(()=>r(673)));var i=r.O(void 0,[170],(()=>r(662)));i=r.O(i)})();